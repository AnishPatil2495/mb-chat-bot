(function(v,Gt){typeof exports=="object"&&typeof module<"u"?Gt(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],Gt):(v=typeof globalThis<"u"?globalThis:v||self,Gt(v.React,v.ReactDOM))})(this,function(v,Gt){"use strict";var go=document.createElement("style");go.textContent=`.rcb-chat-header-container{padding:12px;color:#fff;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;max-height:55px}.rcb-chat-header{display:flex;flex-direction:row;align-items:center;gap:10px}.rcb-bot-avatar{background-size:cover;width:30px;height:30px;border-radius:50%;margin-right:12px}.rcb-message-prompt-container.visible{position:sticky;bottom:0;margin:auto;display:flex;align-items:center;justify-content:center;opacity:1;animation:rcb-animation-pop-in .3s ease-in-out;pointer-events:auto}.rcb-message-prompt-container.hidden{opacity:0;height:0px;visibility:hidden;pointer-events:none}.rcb-message-prompt-text{padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border:.5px solid #adadad;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999}.rcb-message-prompt-container.hidden .rcb-message-prompt-text{padding:0}.rcb-user-message-container{display:flex;flex-direction:row;justify-content:right}.rcb-user-message{margin-top:8px;padding:8px 16px;border-radius:16px 16px 5px;min-height:20px;height:fit-content;width:fit-content;font-size:15px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:right;margin-right:16px}.rcb-user-message-offset{margin-right:50px}.rcb-user-message-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-message-user-avatar{background-size:cover;width:40px;height:40px;border-radius:50%;margin-top:9px}.rcb-message-user-avatar{margin-left:-10px;margin-right:6px}.rcb-bot-message-container{display:flex;flex-direction:column;align-items:baseline}.rcb-bot-message{margin-top:8px;padding:8px 16px;border-radius:16px;min-height:20px;height:fit-content;width:fit-content;font-size:14px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:left;margin-left:16px}.rcb-bot-message-offset{margin-left:50px}.rcb-bot-message-entry{animation:rcb-animation-bot-message-entry .3s ease-in backwards}.rcb-message-bot-avatar-container{display:flex;justify-content:center;align-items:center;gap:10px}.rcb-message-bot-avatar-heading{font-size:12px;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.rcb-message-bot-avtar{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:100%;background:linear-gradient(135deg,#227b87,#1e2948)}.rcb-typing-indicator{display:flex;align-items:center}.rcb-dot{width:8px;height:8px;border-radius:50%;background-color:#ccc;margin-right:4px;animation:rcb-animation-bot-typing 1s infinite}.rcb-dot:nth-child(2){animation-delay:.2s}.rcb-dot:nth-child(3){animation-delay:.4s}.rcb-chat-body-container{position:relative;height:100%;width:100%;padding-bottom:16px;padding-top:16px;overflow-x:hidden;overflow-y:scroll;touch-action:pan-y}.rcb-chat-body-container::-webkit-scrollbar-track{background-color:#f1f1f1}.rcb-chat-body-container::-webkit-scrollbar-thumb{background-color:#ddd;border-radius:4px}.rcb-chat-body-container::-webkit-scrollbar-thumb:hover{background-color:#cfcfcf}.rcb-chat-body-container::-webkit-scrollbar-corner{background-color:#f1f1f1}.rcb-checkbox-container{display:flex;padding-top:12px;margin-left:16px;flex-wrap:wrap;gap:10px}.rcb-checkbox-offset{margin-left:50px!important}.rcb-checkbox-row-container{display:flex;align-items:center;gap:5px;border-width:.5px;border-style:solid;border-radius:10px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out;overflow:hidden}.rcb-checkbox-row-container:hover{box-shadow:0 0 5px #0003}.rcb-checkbox-row{display:inline-flex;margin-left:10px;align-items:center;cursor:pointer}.rcb-checkbox-mark{width:20px;height:20px;background-color:#f2f2f2;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;transition:all .3s ease;margin-right:10px;cursor:pointer}.rcb-checkbox-mark:hover{background-color:#c2c2c2}.rcb-checkbox-mark:before{content:"✓";transition:all .3s ease}.rcb-checkbox-label{font-size:14px}.rcb-checkbox-next-button{text-align:center;display:inline-block;align-items:center;border-width:.5px;border-style:solid;border-radius:10px;font-size:24px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out}.rcb-checkbox-next-button:before{content:"→"}.rcb-checkbox-next-button:hover{box-shadow:0 0 5px #0003}.rcb-options-container{padding-top:12px;margin-left:16px;max-width:70%;display:flex;flex-wrap:wrap;gap:10px}.rcb-options-offset{margin-left:50px!important}.rcb-options{display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:20px;font-size:14px;border-width:.5px;border-style:solid;cursor:pointer;transition:background-color .3s ease;animation:rcb-animation-options-entry .5s ease-out;overflow:hidden}.rcb-options:hover{box-shadow:0 0 5px #0003}.rcb-line-break-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;max-height:45px}.rcb-line-break-text{padding:6px 12px;color:#adadad;font-size:12px}.rcb-spinner-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-spinner{width:22px;height:22px;border-radius:50%;border:4px solid #f3f3f3;animation:rcb-animation-spin 1s linear infinite}.rcb-chat-input{padding:16px;border-top:1px solid #ccc;display:flex;align-items:center;background-color:#fff}.rcb-chat-input::placeholder{color:#999}.rcb-chat-input-textarea{flex:1;padding:8px 16px;border:none;border-radius:20px;outline:none;font-size:14px;resize:none;height:auto;overflow-y:hidden;font-family:inherit;background-color:#fff;color:#000;touch-action:none;border:1px solid rgb(209 213 219 / var(--tw-border-opacity, 1))}.rcb-chat-input-textarea::-webkit-scrollbar{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb:hover{background-color:transparent}.rcb-chat-input-char-counter{font-size:14px;margin-left:8px;margin-top:3px}.rcb-chat-footer-container{padding:12px 16px 8px 10px;border-top:1px solid #ccc;max-height:55px;display:flex;justify-content:space-between;align-items:flex-end;font-size:12px;background-color:#f2f2f2;color:#000}.rcb-chat-footer{display:flex;flex-direction:row}.rcb-toggle-button{display:flex;flex-direction:row;position:fixed;bottom:20px;right:20px;z-index:9999;width:64px;height:64px;border-radius:50%;border:none;cursor:pointer;box-shadow:0 2px 4px #0003}.rcb-toggle-button.rcb-button-hide{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}.rcb-toggle-button.rcb-button-show{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-toggle-icon{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;margin:auto;border-radius:inherit;color:#fff}.rcb-badge{position:absolute;top:-6px;right:-6px;border-radius:50%;background-color:red;color:#fff;height:25px;width:25px;display:flex;justify-content:center;align-items:center}.rcb-chat-tooltip{position:fixed;padding:16px;border-radius:20px;box-shadow:0 2px 6px #0003;white-space:nowrap;cursor:pointer;font-size:20px;transition:transform .3s ease;z-index:9999}.rcb-chat-tooltip-tail{content:"";position:absolute;top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-style:solid}.rcb-chat-tooltip.rcb-tooltip-hide{opacity:0;visibility:hidden;animation:rcb-animation-tooltip-out .5s ease-in-out}.rcb-chat-tooltip.rcb-tooltip-show{opacity:1;visibility:visible;animation:rcb-animation-tooltip-in .5s ease-in-out}.rcb-toast-prompt{padding:6px 12px;border-radius:5px;color:#7a7a7a;font-size:12px;text-align:center;background-color:#fff;border:.5px solid #7a7a7a;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999;width:100%;margin-top:6px;animation:rcb-animation-pop-in .3s ease-in-out}.rcb-toast-prompt-container{position:absolute;left:50%;transform:translate(-50%);bottom:0;margin:auto;display:flex;align-items:center;justify-content:flex-end;flex-direction:column;opacity:1;animation:popIn .3s ease-in-out;pointer-events:auto;margin-top:200}.rcb-media-display-image-container,.rcb-media-display-video-container{margin-top:8px;margin-right:16px;border-radius:22px;padding:16px;width:fit-content}.rcb-media-display-offset{margin-right:50px!important}.rcb-media-display-image{width:100%;height:auto;border-radius:22px;object-fit:cover}.rcb-media-display-video{width:100%;height:auto;border-radius:22px;background-color:#000}.rcb-media-display-audio{margin-top:8px;margin-right:16px;width:100%;height:auto;border-radius:22px}.rcb-media-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-attach-button-enabled,.rcb-attach-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center}.rcb-attach-button-enabled input[type=file],.rcb-attach-button-disabled input[type=file]{position:absolute;width:100%;height:100%;display:none}.rcb-attach-button-enabled{cursor:pointer}.rcb-attach-button-disabled{opacity:.5}.rcb-attach-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-attach-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-attach-icon-enabled,.rcb-attach-icon-disabled{display:inline-block;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat;background-size:cover;transition:background-image .3s ease}.rcb-attach-icon-enabled{cursor:pointer}.rcb-emoji-button-enabled,.rcb-emoji-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center;cursor:pointer}.rcb-emoji-icon-enabled,.rcb-emoji-icon-disabled{position:relative;display:inline-block;background-size:cover;font-size:20px;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat}.rcb-emoji-icon-enabled{cursor:pointer}.rcb-emoji-icon-disabled{opacity:.5}.rcb-emoji-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-emoji-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-emoji-button-popup{position:absolute;width:158px;background-color:#fff;border:1px solid #ccc;border-radius:4px;padding:8px;box-shadow:0 2px 4px #0003;max-height:200px;overflow-y:auto;transform:translateY(calc(-100% - 30px))}.rcb-emoji{cursor:pointer;font-size:24px;padding:3px;transition:transform .2s ease-in-out}.rcb-emoji:hover{transform:scale(1.2)}.rcb-audio-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-audio-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-audio-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-close-chat-icon{display:flex;background:transparent;width:25px;height:25px;align-items:center;justify-content:center;border:none;border-radius:100%;cursor:pointer;background-color:transparent}.rcb-close-chat-icon:hover{background-color:#548b96}.rcb-notification-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-notification-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-notification-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-voice-button-enabled,.rcb-voice-button-disabled{display:inline-flex;align-items:center;justify-content:center;text-transform:uppercase;border-radius:4px;box-shadow:0 0 3px #0000004d;cursor:pointer;height:32px;width:32px;margin-left:8px;transition:all .3s ease;background-color:#fff}.rcb-voice-button-enabled{border:1px solid red;box-shadow:0 0 3px #ff000080}.rcb-voice-button-enabled:hover{border:1px solid rgb(61,0,0)}.rcb-voice-button-disabled{border:1px;border-style:solid;border-color:#0003}.rcb-voice-button-disabled:hover{box-shadow:0 0 3px #8a0000}.rcb-voice-icon{width:60%;height:60%;background-size:cover;object-fit:cover;background-size:contain;background-repeat:no-repeat;background-position:center}.rcb-voice-icon.on{animation:rcb-animation-ping 1s infinite}.rcb-send-button{display:flex;justify-content:center;align-items:center;text-transform:uppercase;border:none;border-radius:50%;cursor:pointer;transition:background-color .3s ease;height:32px;width:32px;margin-left:8px;color:#fff}.rcb-send-icon{width:fit-content;height:22px;color:#fff}.rcb-view-history-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-view-history-button{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border-color:#adadad;border-width:.5px;border-style:solid;max-width:60%;cursor:pointer;transition:color .3s ease,border-color .3s ease}.rcb-view-history-button>p{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rcb-chatbot-global{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5;z-index:9999}.rcb-chat-window{position:fixed;right:20px;bottom:20px;border-radius:10px;box-shadow:0 2px 4px #0003;background-color:#fff;transition:all .3s ease;overflow:hidden;display:flex;flex-direction:column;width:375px;height:550px}.rcb-window-embedded .rcb-chat-window{position:relative;opacity:1;visibility:visible;right:auto;bottom:auto}.rcb-window-open .rcb-chat-window{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-window-close .rcb-chat-window{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}@keyframes rcb-animation-expand{0%{transform:translate(100%,100%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-collapse{0%{transform:translate(0) scale(1);opacity:1}to{transform:translate(100%,100%) scale(0);opacity:0}}@keyframes rcb-animation-ping{0%{filter:brightness(100%);opacity:1}50%{filter:brightness(50%);opacity:.8}}@keyframes rcb-animation-bot-message-entry{0%{transform:translate(-100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-user-message-entry{0%{transform:translate(100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-bot-typing{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes rcb-animation-pop-in{0%{transform:scale(.8);opacity:0}70%{transform:scale(1.1);opacity:1}to{transform:scale(1)}}@keyframes rcb-animations-checkboxes-entry{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes rcb-animation-options-entry{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes rcb-animation-tooltip-in{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@keyframes rcb-animation-tooltip-out{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-5px)}}@keyframes rcb-animation-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
/*$vite$:1*/`,document.head.appendChild(go);function ti(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Ae=ti(v);function bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tr={exports:{}},Jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So;function ni(){if(So)return Jt;So=1;var e=v,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(p,m,h){var b,S={},I=null,O=null;h!==void 0&&(I=""+h),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(b in m)r.call(m,b)&&!c.hasOwnProperty(b)&&(S[b]=m[b]);if(p&&p.defaultProps)for(b in m=p.defaultProps,m)S[b]===void 0&&(S[b]=m[b]);return{$$typeof:t,type:p,key:I,ref:O,props:S,_owner:i.current}}return Jt.Fragment=n,Jt.jsx=u,Jt.jsxs=u,Jt}var xo;function ri(){return xo||(xo=1,Tr.exports=ni()),Tr.exports}var x=ri(),wn={},wo;function oi(){if(wo)return wn;wo=1;var e=Gt;return wn.createRoot=e.createRoot,wn.hydrateRoot=e.hydrateRoot,wn}var si=oi();const ii=bo(si),Ie={AUDIO_BUTTON:"audio-button",NOTIFICATION_BUTTON:"notification-button",CLOSE_CHAT_BUTTON:"close-chat-button",SEND_MESSAGE_BUTTON:"send-button",VOICE_MESSAGE_BUTTON:"voice-button",FILE_ATTACHMENT_BUTTON:"file-attachment-button",EMOJI_PICKER_BUTTON:"emoji-button"},ai="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2042%2042'%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:4'%20d='M17%209a8%208%200%200%201-8%208%208%208%200%200%201-8-8%208%208%200%200%201%208-8%208%208%200%200%201%208%208Zm0%200'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:10'%20d='M14.66%2014.66%203.34%203.34'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3c/svg%3e",li="data:image/svg+xml,%3csvg%20width='140'%20height='140'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cy='60.044'%20cx='70'%20fill='%235c5c5c'%20r='29'/%3e%3cpath%20d='m16.36%20156.186-.01-30.5c-.005-16.844%2024.168-30.507%2053.991-30.516%2029.823-.009%2054.004%2013.64%2054.01%2030.484l.008%2030.5-108%20.032z'%20fill='%235c5c5c'/%3e%3c/svg%3e",ci=(e,t)=>Ae.createElement("svg",{viewBox:"0 0 637 637",ref:t,...e},Ae.createElement("path",{d:"m478 113-13 2-4 1h4l14-2c10-2 35-2 42-1l6 3 3 1c3 0-4-3-8-5-7-1-34-1-44 1m56 6 8 6c7 5 20 17 20 19s7 12 8 12l-3-6-4-6c0-3-15-17-25-24-5-3-8-4-4-1m-198 16-9 1a512 512 0 0 1 9-1m-180 30a412 412 0 0 0-23 4 167 167 0 0 0-32 8 439 439 0 0 1 46-9 304 304 0 0 1 11-2l6-1h-8m369 8 4 3-7-6c-1 0 0 2 3 3m-439 9c-7 3-18 13-18 15l6-5c5-5 9-8 14-10l6-4-8 4m442 12-10 11-7 6 7-6c7-5 14-14 13-16l-3 5M65 205l-1 11c0 9 0 10 4 17 5 10 7 12 22 11 10 0 15 0 38-5l5-1-6 1-16 2-21 2c-13 1-16-1-21-10-3-5-4-6-4-15l1-12c1-4 1-5-1-1m335 1c3 0 3 1 3 3l-2 6c-2 5-35 39-76 80-53 51-120 117-138 137-21 24-22 25-22 27 0 3 6 9 9 9 4 0 14-8 38-27a5073 5073 0 0 1 15-16 1421 1421 0 0 0-17 15l-31 25-6 2-4-3c-3-3-3-4-2-6 3-8 79-85 160-163 57-57 79-80 79-86 0-2-3-4-7-4-2 0-2 0 1 1m165 18c-9 17-25 32-57 53l-10 8 16-11 12-8c15-10 27-22 39-39 5-7 6-8 4-8l-4 5m-221 2a199 199 0 0 0-19 10 183 183 0 0 1 27-12c0-1-1-1-8 2m-34 16c-3 3-2 3 2 0l1-2-3 2m151 3-1 2 2-2c3-3 2-3-1 0m-16 12-11 10a281 281 0 0 0 11-10m-24 18-7 5-7 5-42 31c-10 7-24 19-22 19l7-6 16-12a343 343 0 0 0 35-25 573 573 0 0 0 20-17m-187 0-2 2 4-2 3-2-5 2m-14 6-3 2 4-1 4-3-5 2m-7 3-8 4-18 8 18-7 7-3 3-1c1-2 0-2-2-1m254 24a2672 2672 0 0 1-71 54 601 601 0 0 0 39-29 1352 1352 0 0 1 32-25m-291-8-2 2 4-2 3-2-5 2m-13 5-2 2h3c5-3 4-4-1-2m-19 9-7 3-13 6c-10 5-13 7-14 10-3 4-2 5 1 0 2-3 5-5 14-9l13-6 12-6-6 2m178 36c-17 12-21 16-21 17a390 390 0 0 1 20-17m-206 34 1 4 1 3 1 5 2 8 1 5v-6l-1-8-2-5-1-4-1-2c-1-2-1-2-1 0m222 23-9 7a683 683 0 0 0-56 44 261 261 0 0 0-26 20 1345 1345 0 0 0-46 34c-6 3-7 3-19 3-11 0-12 0-18-3-8-4-10-8-17-20l-5-10 4 10c5 10 12 18 19 22 4 2 6 2 17 2 13 0 14 0 21-3l26-19 42-33a2183 2183 0 0 0 43-34 643 643 0 0 1 24-20",fill:"#fff",fillRule:"evenodd"}),Ae.createElement("path",{d:"M478 114a620 620 0 0 1-39 6l-21 3a5481 5481 0 0 0-19 3 870 870 0 0 1-54 8l-1 1-6 1-12 2-13 2a992 992 0 0 0-76 12 400 400 0 0 1-45 8l-6 1-5 1h-3l-3 1-2 1-26 4-13 2-17 3c-23 5-33 9-43 19-7 8-9 13-9 27 0 8 1 9 4 14 5 9 8 11 21 10l21-2a1133 1133 0 0 1 23-4 659 659 0 0 0 74-14l3-1h3l3-1h3l2-1 2-1h3l2-1h2l24-5 38-7a2100 2100 0 0 1 93-18l3-1 10-1a2082 2082 0 0 1 120-17l2 1c2 0 8 5 8 7l1 2 1 6c0 4 0 6-3 10-2 4-16 16-18 16l-7 5-10 8a1070 1070 0 0 0-11 7 113 113 0 0 1-20 14l-2 2-3 2-2 2h-1a154 154 0 0 1-28 21l-5 4-5 4a573 573 0 0 1-50 37 175 175 0 0 0-24 18l-1 2-2 1-2 1-2 1-1 1-12 10a396 396 0 0 0-32 25l-8 6-6 5-9 7a326 326 0 0 1-25 20l-13 12a5073 5073 0 0 0-17 15c-24 20-34 27-39 27-2 0-8-6-8-9 0-2 1-3 22-27 18-20 85-86 138-137 41-41 74-75 76-80l2-6c0-2 0-3-2-3l-7 1a233 233 0 0 1-26 9l-1 1-1 1h-1l-1 1h-2l-3 2-1 1h-2l-3 2h-1l-5 2-22 10-9 4-4 2-5 2-10 4-2 1-2 1-2 1-13 6a334 334 0 0 1-38 17 75 75 0 0 0-14 6l-5 2-4 1-2 1-3 2-7 3-16 6a247 247 0 0 0-32 14l-1 1h-2l-1 1h-2l-1 1-12 6a103 103 0 0 0-27 15l-2 5-1 1v11l1 5 1 5 1 4c0 3 0 4 2 4v3l1 3 1 2 2 10 1 4 1 5 2 10 2 8 1 4 1 4c3 3 9 25 11 38l1 7v2l1 4v1l1 1v2l1 2 1 3v1l5 10c7 13 9 16 17 20 6 3 7 3 18 3 12 0 13 0 19-3 8-4 11-6 26-18a1345 1345 0 0 1 85-67 683 683 0 0 1 50-39l12-9a513 513 0 0 1 44-33 201 201 0 0 0 22-17 2270 2270 0 0 0 73-54 158 158 0 0 0 58-59c2 0 3-9 4-27l-1-19-1-4-1-6-1-3-4-6-4-6c0-2-6-8-13-14a77 77 0 0 0-28-18c-6-1-34-1-43 1"})),ui=v.forwardRef(ci),di=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M765-321q0 117-84 196-83 80-200 80-118 0-200-80t-83-196v-392q0-85 61-144 61-58 146-58 86 0 147 58 61 59 61 144v374q0 54-39 92-39 37-93 37-55 0-93-37-38-38-38-92v-372h110v372q0 9 6 14t15 5q8 0 15-5t7-14v-374q0-39-29-66t-68-27q-40 0-69 27t-29 66v392q0 71 51 119t122 48q71 0 122-48t51-119v-426h111v426Z"})),vo=v.forwardRef(di),fi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M125-165v-113h77v-273q0-93 55-167 56-75 146-100v-19q0-32 22-55 23-23 55-23t55 23q22 23 22 55v19q90 25 146 99 56 73 56 168v273h77v113H125ZM480-32q-38 0-66-27-27-27-27-66h186q0 39-27 66t-66 27Z"})),pi=v.forwardRef(fi),hi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M137-190v-113h78v-253q0-41 11-79 11-39 35-71l-9 150h10L17-802l74-74L873-92l-74 74-175-172H137Zm609-149L319-769q20-15 41-25t44-16v-28q0-32 22-54t54-22q32 0 55 22t22 54v28q85 23 137 94t52 160v217ZM481-47q-38 0-65-27t-27-65h184q0 38-27 65t-65 27Z"})),mi=v.forwardRef(hi),yi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M480-372q-61 0-105-43-43-43-43-105v-240q0-61 43-105 43-43 105-43 61 0 105 43 43 44 43 105v240q0 62-43 105t-105 43ZM425-76v-122q-121-16-197-108t-76-214h109q0 91 64 154t155 63q91 0 155-63t64-154h109q0 122-77 214T534-198v122H425Z"})),gi=v.forwardRef(yi),bi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"m763-343-80-79q8-20 13-44 5-23 5-54h109q0 49-11 95t-36 82ZM625-482 336-770v-2q3-56 45-96t101-40q62 0 105 43t43 105v249l-1 17q-1 7-4 12ZM427-76v-122q-120-16-196-108-77-92-77-214h109q0 91 64 154t155 63q43 0 80-14 37-15 67-41l78 79q-35 32-78 53t-93 28v122H427Zm362 27L41-796l75-75 748 748-75 74Z"})),Si=v.forwardRef(bi),xi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M625-511q29 0 50-21t20-50q0-29-20-50-21-20-50-20t-50 20-20 50q0 29 20 50 21 21 50 21Zm-290 0q29 0 50-21t20-49q0-30-20-50t-50-21q-29 0-50 20-20 21-20 50 0 30 20 50 21 21 50 21Zm145 268q75 0 137-43t85-115H258q24 72 85 115 62 43 137 43Zm0 198q-90 0-170-34-79-34-138-93T79-310q-34-80-34-170t34-170q34-79 93-138t138-93q80-34 170-34t170 34q79 34 138 93t93 138q34 80 34 170t-34 170q-34 79-93 138T650-79q-80 34-170 34Zm0-435Zm0 322q134 0 228-94t94-228q0-134-94-228t-228-94q-134 0-228 94t-94 228q0 134 94 228t228 94Z"})),Co=v.forwardRef(xi),wi=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M553-64v-108q107-27 173-113 67-87 67-197 0-109-67-195T553-789v-108q152 26 249 144 97 117 97 271 0 155-97 273T553-64ZM61-335v-290h176l236-237v764L237-335H61Zm492 28v-346q51 23 82 70t31 103-31 103q-31 47-82 70Z"})),vi=v.forwardRef(wi),Ci=(e,t)=>Ae.createElement("svg",{viewBox:"0 -960 960 960",ref:t,...e},Ae.createElement("path",{d:"M807-15 700-123q-33 21-71 37-38 15-80 22v-108q20-4 38-12l35-17-153-154v257L234-335H57v-290h144L10-818l74-75L882-90l-75 75Zm37-264-80-79q13-30 19-60 7-31 7-64 0-109-68-195-67-86-173-112v-108q152 26 249 144 98 117 98 271 0 55-14 107-13 51-38 96ZM661-462 549-575v-78q51 23 83 70 31 47 31 103l-1 9-1 9ZM469-655 366-759l103-103v207Z"})),Ti=v.forwardRef(Ci),To={general:{primaryColor:"#1e2848",secondaryColor:"#20818c",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",showHeader:!0,showFooter:!1,showInputRow:!0,actionDisabledIcon:ai,embedded:!1,flowStartTrigger:"ON_LOAD",showTooltip:!1},tooltip:{mode:"CLOSE",text:"Need Help! 😊"},chatButton:{icon:x.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},header:{title:x.jsxs("div",{style:{display:"flex",alignItems:"baseline",flexDirection:"column"},children:[x.jsx("div",{style:{cursor:"pointer",margin:0,fontSize:16,fontWeight:"bold"},children:"AI Assistant"}),x.jsx("div",{style:{cursor:"pointer",fontSize:12,color:"#fff",opacity:.8},children:"Online now"})]}),showAvatar:!0,avatar:x.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"100%",backgroundColor:"#548b96",width:"32px",height:"32px",justifyContent:"center"},children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),buttons:[Ie.CLOSE_CHAT_BUTTON],closeChatIcon:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})},notification:{disabled:!0,defaultToggledOn:!0,volume:.2,icon:pi,iconDisabled:mi,sound:"/assets/notification_sound-CIeaSZag.wav",showCount:!0},audio:{disabled:!0,defaultToggledOn:!1,language:"en-US",voiceNames:["Microsoft David - English (United States)","Alex (English - United States)"],rate:1,volume:1,icon:vi,iconDisabled:Ti},chatHistory:{disabled:!0,maxEntries:30,storageKey:"rcb-history",storageType:"LOCAL_STORAGE",viewChatHistoryButtonText:"Load Chat History ⟳",chatHistoryLineBreakText:"----- Previous Chat History -----",autoLoad:!1},chatInput:{disabled:!1,allowNewline:!1,enabledPlaceholderText:"Type your message...",disabledPlaceholderText:"",showCharacterCount:!1,characterLimit:-1,botDelay:1e3,sendButtonIcon:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 19",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}),x.jsx("path",{d:"m21.854 2.147-10.94 10.939"})]}),blockSpam:!0,sendOptionOutput:!0,sendCheckboxOutput:!0,buttons:[Ie.SEND_MESSAGE_BUTTON]},chatWindow:{showScrollbar:!1,showTypingIndicator:!0,autoJumpToBottom:!1,showMessagePrompt:!0,messagePromptText:"New Messages ↓",messagePromptOffset:30,defaultOpen:!1},sensitiveInput:{maskInTextArea:!0,maskInUserBubble:!0,asterisksCount:10,hideInUserBubble:!1},userBubble:{animate:!0,showAvatar:!1,avatar:li,simulateStream:!1,streamSpeed:30},botBubble:{animate:!0,showAvatar:!0,avatar:x.jsx("div",{style:{cursor:"pointer",margin:0,fontSize:12,fontWeight:"bold",color:"#fff"},children:"AI"}),simulateStream:!0,streamSpeed:30},voice:{disabled:!0,defaultToggledOn:!1,language:"en-US",timeoutPeriod:1e4,autoSendDisabled:!1,autoSendPeriod:1e3,sendAsAudio:!1,icon:gi,iconDisabled:Si},footer:{text:x.jsxs("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",columnGap:3},onClick:()=>window.open("https://react-chatbotify.com"),children:[x.jsx("span",{children:"Powered By "},0),x.jsx("div",{style:{borderRadius:"50%",width:14,height:14,display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right, #42b0c5, #491d8d)"},children:x.jsx(ui,{style:{width:"80%",height:"80%",fill:"#fff"}})},1),x.jsx("span",{style:{fontWeight:"bold"},children:"Epico"},2)]}),buttons:[Ie.FILE_ATTACHMENT_BUTTON,Ie.EMOJI_PICKER_BUTTON]},fileAttachment:{disabled:!1,multiple:!0,accept:".png",icon:vo,iconDisabled:vo,sendFileName:!0,showMediaDisplay:!1},emoji:{disabled:!1,icon:Co,iconDisabled:Co,list:["😀","😃","😄","😅","😊","😌","😇","🙃","🤣","😍","🥰","🥳","🎉","🎈","🚀","⭐️"]},toast:{maxCount:3,forbidOnMax:!1,dismissOnClick:!0},event:{rcbPreInjectMessage:!1,rcbPostInjectMessage:!1,rcbStartSimulateStreamMessage:!1,rcbStopSimulateStreamMessage:!1,rcbStartStreamMessage:!1,rcbChunkStreamMessage:!1,rcbStopStreamMessage:!1,rcbRemoveMessage:!1,rcbLoadChatHistory:!1,rcbToggleChatWindow:!1,rcbStartSpeakAudio:!1,rcbToggleAudio:!1,rcbToggleNotifications:!1,rcbToggleVoice:!1,rcbChangePath:!1,rcbShowToast:!1,rcbDismissToast:!1,rcbUserSubmitText:!1,rcbUserUploadFile:!1,rcbTextAreaChangeValue:!1,rcbPreLoadChatBot:!1,rcbPostLoadChatBot:!1,rcbPreProcessBlock:!1,rcbPostProcessBlock:!1},ariaLabel:{chatButton:"open chat",audioButton:"toggle audio",closeChatButton:"close chat",emojiButton:"emoji picker",fileAttachmentButton:"upload file",notificationButton:"toggle notifications",sendButton:"send message",voiceButton:"toggle voice",inputTextArea:"input text area"},device:{desktopEnabled:!0,mobileEnabled:!0,applyMobileOptimizations:!0}},ko=v.createContext({settings:{},setSettings:()=>null}),le=()=>v.useContext(ko),ki=({children:e,settings:t=To,setSettings:n})=>x.jsx(ko.Provider,{value:{settings:t,setSettings:n},children:e}),Eo={tooltipStyle:{},notificationBadgeStyle:{},chatWindowStyle:{},headerStyle:{},bodyStyle:{},chatInputContainerStyle:{},chatInputAreaStyle:{},chatInputAreaFocusedStyle:{},chatInputAreaDisabledStyle:{},userBubbleStyle:{},botBubbleStyle:{},botOptionStyle:{},botOptionHoveredStyle:{},botCheckboxRowStyle:{},botCheckboxNextStyle:{},botCheckMarkStyle:{},botCheckMarkSelectedStyle:{},characterLimitStyle:{},characterLimitReachedStyle:{},chatHistoryLineBreakStyle:{},chatMessagePromptStyle:{},chatMessagePromptHoveredStyle:{},footerStyle:{},loadingSpinnerStyle:{},mediaDisplayContainerStyle:{},chatButtonStyle:{},chatHistoryButtonStyle:{},chatHistoryButtonHoveredStyle:{},sendButtonStyle:{},sendButtonHoveredStyle:{},sendButtonDisabledStyle:{},audioButtonStyle:{},audioButtonDisabledStyle:{},closeChatButtonStyle:{},emojiButtonStyle:{},emojiButtonDisabledStyle:{},fileAttachmentButtonStyle:{},fileAttachmentButtonDisabledStyle:{},notificationButtonStyle:{},notificationButtonDisabledStyle:{},voiceButtonStyle:{},voiceButtonDisabledStyle:{},chatIconStyle:{},audioIconStyle:{},audioIconDisabledStyle:{},closeChatIconStyle:{},emojiIconStyle:{},emojiIconDisabledStyle:{},fileAttachmentIconStyle:{},fileAttachmentIconDisabledStyle:{},notificationIconStyle:{},notificationIconDisabledStyle:{},voiceIconStyle:{},voiceIconDisabledStyle:{},sendIconStyle:{},sendIconDisabledStyle:{},sendIconHoveredStyle:{},rcbTypingIndicatorContainerStyle:{},rcbTypingIndicatorDotStyle:{},toastPromptContainerStyle:{},toastPromptStyle:{},toastPromptHoveredStyle:{}},Ao=v.createContext({styles:{},setStyles:()=>null}),me=()=>v.useContext(Ao),Ei=({children:e,styles:t=Eo,setStyles:n})=>x.jsx(Ao.Provider,{value:{styles:t,setStyles:n},children:e}),Ai=({buttons:e})=>{var i,c,u,p,m;const{settings:t}=le(),{styles:n}=me(),r={backgroundImage:`linear-gradient(to right, ${(i=t.general)==null?void 0:i.secondaryColor},
			${(c=t.general)==null?void 0:c.primaryColor})`,...n.headerStyle};return x.jsxs("div",{style:r,className:"rcb-chat-header-container",children:[x.jsxs("div",{className:"rcb-chat-header",children:[((u=t.header)==null?void 0:u.showAvatar)&&((p=t.header)==null?void 0:p.avatar),(m=t.header)==null?void 0:m.title]}),x.jsx("div",{className:"rcb-chat-header",children:e==null?void 0:e.map((h,b)=>x.jsx(v.Fragment,{children:h},b))})]})},Io=v.createContext({}),Oe=()=>v.useContext(Io),Ii=({children:e,botIdRef:t,flowRef:n})=>{const r=v.useRef(null),i=v.useRef(""),c=v.useRef(null),u=v.useRef(new Map),p=v.useRef(null),m=v.useRef(""),h=v.useRef(!1),b=v.useRef(null),S=v.useRef(null),I=v.useRef(null);return x.jsx(Io.Provider,{value:{botIdRef:t,flowRef:n,inputRef:r,timeoutIdRef:c,streamMessageMap:u,chatBodyRef:p,paramsInputRef:m,keepVoiceOnRef:h,audioContextRef:b,audioBufferRef:S,gainNodeRef:I,prevInputRef:i},children:e})},ze=e=>{const[t,n]=v.useState(e),r=v.useRef(e);return[t,c=>{const u=typeof c=="function"?c(r.current):c;r.current=u,n(u)},r]},Oo=v.createContext({}),_e=()=>v.useContext(Oo),Oi=({children:e,settings:t})=>{var ke,Ce,He,Ne,ut,Ee;const[n,r,i]=ze(!1),[c,u,p]=ze(((ke=t==null?void 0:t.chatWindow)==null?void 0:ke.defaultOpen)??!1),[m,h,b]=ze(((Ce=t==null?void 0:t.audio)==null?void 0:Ce.defaultToggledOn)??!1),[S,I,O]=ze(((He=t==null?void 0:t.voice)==null?void 0:He.defaultToggledOn)??!1),[w,P,k]=ze(((Ne=t==null?void 0:t.notification)==null?void 0:Ne.defaultToggledOn)??!0),[j,M]=v.useState(!1),[F,V]=v.useState(!1),[H,N,D]=ze(!1),[G,q,W]=ze(!0),[L,$,J]=ze(!1),[K,Z]=v.useState(!1),[de,ie]=v.useState(!1),[pe,ue]=v.useState(0),[fe,re]=v.useState(0),[he,Y]=v.useState(!1),[oe,be]=v.useState(((ut=window.visualViewport)==null?void 0:ut.height)??window.innerHeight),[we,Se]=v.useState(((Ee=window.visualViewport)==null?void 0:Ee.width)??window.innerWidth);return x.jsx(Oo.Provider,{value:{isBotTyping:n,setSyncedIsBotTyping:r,syncedIsBotTypingRef:i,isChatWindowOpen:c,setSyncedIsChatWindowOpen:u,syncedIsChatWindowOpenRef:p,audioToggledOn:m,setSyncedAudioToggledOn:h,syncedAudioToggledOnRef:b,voiceToggledOn:S,setSyncedVoiceToggledOn:I,syncedVoiceToggledOnRef:O,notificationsToggledOn:w,setSyncedNotificationsToggledOn:P,syncedNotificationsToggledOnRef:k,isLoadingChatHistory:j,setIsLoadingChatHistory:M,hasChatHistoryLoaded:F,setHasChatHistoryLoaded:V,isScrolling:H,setSyncedIsScrolling:N,syncedIsScrollingRef:D,textAreaDisabled:G,setSyncedTextAreaDisabled:q,syncedTextAreaDisabledRef:W,textAreaSensitiveMode:L,setSyncedTextAreaSensitiveMode:$,syncedTextAreaSensitiveModeRef:J,hasInteractedPage:K,setHasInteractedPage:Z,hasFlowStarted:de,setHasFlowStarted:ie,unreadCount:pe,setUnreadCount:ue,inputLength:fe,setInputLength:re,blockAllowsAttachment:he,setBlockAllowsAttachment:Y,viewportHeight:oe,setViewportHeight:be,viewportWidth:we,setViewportWidth:Se},children:e})};var X=(e=>(e.START_SPEAK_AUDIO="rcb-start-speak-audio",e.TOGGLE_AUDIO="rcb-toggle-audio",e.TOGGLE_NOTIFICATIONS="rcb-toggle-notifications",e.TOGGLE_VOICE="rcb-toggle-voice",e.TOGGLE_CHAT_WINDOW="rcb-toggle-chat-window",e.PRE_INJECT_MESSAGE="rcb-pre-inject-message",e.POST_INJECT_MESSAGE="rcb-post-inject-message",e.START_SIMULATE_STREAM_MESSAGE="rcb-start-simulate-stream-message",e.STOP_SIMULATE_STREAM_MESSAGE="rcb-stop-simulate-stream-message",e.START_STREAM_MESSAGE="rcb-start-stream-message",e.CHUNK_STREAM_MESSAGE="rcb-chunk-stream-message",e.STOP_STREAM_MESSAGE="rcb-stop-stream-message",e.REMOVE_MESSAGE="rcb-remove-message",e.LOAD_CHAT_HISTORY="rcb-load-chat-history",e.CHANGE_PATH="rcb-change-path",e.SHOW_TOAST="rcb-show-toast",e.DISMISS_TOAST="rcb-dismiss-toast",e.USER_SUBMIT_TEXT="rcb-user-submit-text",e.USER_UPLOAD_FILE="rcb-user-upload-file",e.TEXT_AREA_CHANGE_VALUE="rcb-text-area-change-value",e.PRE_LOAD_CHATBOT="rcb-pre-load-chatbot",e.POST_LOAD_CHATBOT="rcb-post-load-chatbot",e.PRE_PROCESS_BLOCK="rcb-pre-process-block",e.POST_PROCESS_BLOCK="rcb-post-process-block",e))(X||{});const _i={[X.START_SPEAK_AUDIO]:!0,[X.TOGGLE_AUDIO]:!0,[X.TOGGLE_VOICE]:!0,[X.TOGGLE_NOTIFICATIONS]:!0,[X.TOGGLE_CHAT_WINDOW]:!0,[X.PRE_INJECT_MESSAGE]:!0,[X.POST_INJECT_MESSAGE]:!1,[X.PRE_LOAD_CHATBOT]:!0,[X.POST_LOAD_CHATBOT]:!1,[X.START_SIMULATE_STREAM_MESSAGE]:!0,[X.STOP_SIMULATE_STREAM_MESSAGE]:!1,[X.START_STREAM_MESSAGE]:!0,[X.CHUNK_STREAM_MESSAGE]:!0,[X.STOP_STREAM_MESSAGE]:!0,[X.REMOVE_MESSAGE]:!0,[X.LOAD_CHAT_HISTORY]:!0,[X.CHANGE_PATH]:!0,[X.SHOW_TOAST]:!0,[X.DISMISS_TOAST]:!0,[X.USER_SUBMIT_TEXT]:!0,[X.USER_UPLOAD_FILE]:!0,[X.TEXT_AREA_CHANGE_VALUE]:!0,[X.PRE_PROCESS_BLOCK]:!0,[X.POST_PROCESS_BLOCK]:!0},kr=async(e,t,n)=>{const r=new CustomEvent(e,{detail:t,cancelable:_i[e]});return r.data=n,r.promises=[],window.dispatchEvent(r),await Promise.all(r.promises),r},_o=v.createContext({paths:[],setSyncedPaths:()=>{},syncedPathsRef:{current:[]}}),Kt=()=>v.useContext(_o),Pi=({children:e})=>{const[t,n,r]=ze([]);return x.jsx(_o.Provider,{value:{paths:t,setSyncedPaths:n,syncedPathsRef:r},children:e})},Ve=()=>{const{botIdRef:e}=Oe(),{syncedPathsRef:t}=Kt(),n=v.useCallback(()=>t.current.length>0?t.current.at(-1)??null:null,[]),r=v.useCallback(()=>t.current.length>1?t.current.at(-2)??null:null,[]);return{dispatchRcbEvent:v.useCallback(async(c,u)=>{const p={botId:e.current,currPath:n(),prevPath:r()};return await kr(c,p,u)},[e])}},Ue=()=>{const{settings:e}=le(),{isChatWindowOpen:t,setSyncedIsChatWindowOpen:n,viewportHeight:r,setViewportHeight:i,viewportWidth:c,setViewportWidth:u,setUnreadCount:p,setSyncedIsBotTyping:m,setSyncedIsScrolling:h,syncedIsBotTypingRef:b,syncedIsChatWindowOpenRef:S}=_e(),{chatBodyRef:I}=Oe(),{dispatchRcbEvent:O}=Ve(),w=v.useCallback(()=>{if(!I.current)return!1;const F=I.current.getBoundingClientRect(),V=window.innerHeight??document.documentElement.clientHeight,H=window.innerWidth??document.documentElement.clientWidth;return F.top>=0&&F.left>=0&&F.bottom<=V&&F.right<=H},[I]),P=v.useCallback(async F=>{var V;F!==S.current&&((V=e.event)!=null&&V.rcbToggleChatWindow&&(await O(X.TOGGLE_CHAT_WINDOW,{currState:S.current,newState:!S.current})).defaultPrevented||n(H=>(H||p(0),!H)))},[S]),k=v.useCallback(async F=>{F!==(b==null?void 0:b.current)&&m(V=>!V)},[b]),j=v.useCallback((F,V,H,N)=>(F/=N/2,F<1?H/2*F*F+V:(F--,-H/2*(F*(F-2)-1)+V)),[]),M=v.useCallback((F=0)=>{if(!I.current)return;const V=I.current.scrollHeight-I.current.clientHeight;if(F<=0){I.current.scrollTop=V,h(!1);return}const H=I.current.scrollTop,N=V-H,D=20;let G=0;const q=()=>{if(!I.current)return;G+=D;const W=j(G,H,N,F);I.current.scrollTop=W,G<F?requestAnimationFrame(q):h(!1)};q()},[I]);return{isChatWindowOpen:t,setSyncedIsChatWindowOpen:n,toggleChatWindow:P,viewportHeight:r,setViewportHeight:i,viewportWidth:c,setViewportWidth:u,toggleIsBotTyping:k,scrollToBottom:M,getIsChatBotVisible:w}},Bi=()=>{var I,O,w;const{settings:e}=le(),{styles:t}=me(),{unreadCount:n,isScrolling:r}=_e(),{chatBodyRef:i}=Oe(),{scrollToBottom:c}=Ue(),[u,p]=v.useState(!1),m={color:(I=e.general)==null?void 0:I.primaryColor,borderColor:(O=e.general)==null?void 0:O.primaryColor,...t.chatMessagePromptHoveredStyle},h=()=>{p(!0)},b=()=>{p(!1)},S=()=>{var k;return i.current&&((k=e.chatWindow)==null?void 0:k.showMessagePrompt)&&r&&n>0?"visible":"hidden"};return x.jsx("div",{className:`rcb-message-prompt-container ${S()}`,children:x.jsx("div",{onMouseEnter:h,onMouseLeave:b,style:u?m:{...t.chatMessagePromptStyle},onMouseDown:P=>{P.preventDefault(),c(600)},className:"rcb-message-prompt-text",children:(w=e.chatWindow)==null?void 0:w.messagePromptText})})},Po=v.createContext({messages:[],setSyncedMessages:()=>{},syncedMessagesRef:{current:[]}}),Er=()=>v.useContext(Po),Ri=({children:e})=>{const[t,n,r]=ze([]);return x.jsx(Po.Provider,{value:{messages:t,setSyncedMessages:n,syncedMessagesRef:r},children:e})},ji=({message:e,isNewSender:t})=>{var b,S,I,O;const{settings:n}=le(),{styles:r}=me(),i=typeof e.content=="string",c=e.content,u=e.contentWrapper?x.jsx(e.contentWrapper,{children:c}):c,p={background:"linear-gradient(135deg, rgb(34, 123, 135) 0%, rgb(30, 41, 72) 100%)",color:"#fff",maxWidth:(b=n.userBubble)!=null&&b.showAvatar?"65%":"70%",...r.userBubbleStyle},m=(S=n.userBubble)!=null&&S.animate?"rcb-user-message-entry":"";(I=n.userBubble)!=null&&I.showAvatar;const h=`rcb-user-message${!t&&((O=n.userBubble)!=null&&O.showAvatar)?" rcb-user-message-offset":""}`;return x.jsx("div",{className:"rcb-user-message-container",children:i?x.jsx("div",{style:p,className:`${h} ${m}`,children:u}):x.jsx(x.Fragment,{children:u})})},Mi=({message:e,isNewSender:t})=>{var S,I,O,w;const{settings:n}=le(),{styles:r}=me(),i=typeof e.content=="string",c=e.content,u=e.contentWrapper?x.jsx(e.contentWrapper,{children:c}):c,p={backgroundColor:"#f3f4f6",color:"rgb(31 41 55 / var(--tw-text-opacity, 1))",maxWidth:(S=n.botBubble)!=null&&S.showAvatar?"65%":"70%",...r.botBubbleStyle},m=(I=n.botBubble)!=null&&I.animate?"rcb-bot-message-entry":"",h=((O=n.botBubble)==null?void 0:O.showAvatar)&&t;return x.jsxs("div",{className:"rcb-bot-message-container",children:[h&&x.jsxs("div",{className:"rcb-message-bot-avatar-container",children:[x.jsx("div",{className:"rcb-message-bot-avtar",children:(w=n.botBubble)==null?void 0:w.avatar}),x.jsx("div",{className:"rcb-message-bot-avatar-heading",children:"Ai Assistant"})]}),i?x.jsx("div",{style:p,className:`rcb-bot-message ${m}`,children:u}):x.jsx(x.Fragment,{children:u})]})},Ni=()=>{var n,r,i;const{settings:e}=le(),{styles:t}=me();return(n=e.botBubble)!=null&&n.animate,x.jsxs("div",{className:"rcb-bot-message-container",children:[((r=e.botBubble)==null?void 0:r.showAvatar)&&x.jsxs("div",{className:"rcb-message-bot-avatar-container",children:[x.jsx("div",{className:"rcb-message-bot-avtar",children:(i=e.botBubble)==null?void 0:i.avatar}),x.jsx("div",{className:"rcb-message-bot-avatar-heading",children:"Ai Assistant"})]}),x.jsx("div",{onMouseDown:c=>{c.preventDefault()},style:{minWidth:"50%"},className:"rcb-bot-message",children:x.jsxs("div",{className:"rcb-typing-indicator",style:{...t==null?void 0:t.rcbTypingIndicatorContainerStyle},children:[x.jsx("span",{className:"rcb-dot",style:{...t==null?void 0:t.rcbTypingIndicatorDotStyle}}),x.jsx("span",{className:"rcb-dot",style:{...t==null?void 0:t.rcbTypingIndicatorDotStyle}}),x.jsx("span",{className:"rcb-dot",style:{...t==null?void 0:t.rcbTypingIndicatorDotStyle}})]})})]})},Di=()=>{var h,b,S;const{settings:e}=le(),{styles:t}=me(),{messages:n}=Er(),{scrollToBottom:r}=Ue(),{isBotTyping:i,syncedIsScrollingRef:c}=_e(),{chatBodyRef:u}=Oe(),p={...t==null?void 0:t.bodyStyle,scrollbarWidth:(h=e.chatWindow)!=null&&h.showScrollbar?"auto":"none"};v.useEffect(()=>{c.current||r()},[(b=u.current)==null?void 0:b.scrollHeight]);const m=I=>I===0?!0:n[I].sender!==n[I-1].sender;return x.jsxs("div",{style:p,className:"rcb-chat-body-container",ref:u,children:[n.map((I,O)=>{const w=m(O);return I.sender.toUpperCase()==="USER"?x.jsx(ji,{message:I,isNewSender:w},O):I.sender.toUpperCase()==="BOT"?x.jsx(Mi,{message:I,isNewSender:w},O):x.jsx("div",{children:I.content},O)}),i&&((S=e.chatWindow)==null?void 0:S.showTypingIndicator)&&x.jsx(Ni,{}),x.jsx(Bi,{})]})},Fi=({checkboxes:e,checkedItems:t,path:n})=>{var k,j,M,F,V,H,N,D,G,q,W;const{settings:r}=le(),{styles:i}=me(),{paths:c}=Kt(),{handleSubmitText:u}=_t(),[p,m]=v.useState(new Set),[h,b]=v.useState(!1),S={cursor:h?`url("${(k=r.general)==null?void 0:k.actionDisabledIcon}"), auto`:"pointer",color:(j=r.general)==null?void 0:j.primaryColor,borderColor:(M=r.general)==null?void 0:M.primaryColor,...i.botCheckboxRowStyle},I={cursor:h||p.size<e.min?`url("${(F=r.general)==null?void 0:F.actionDisabledIcon}"), auto`:"pointer",color:(V=r.general)==null?void 0:V.primaryColor,borderColor:(H=r.general)==null?void 0:H.primaryColor,...i.botCheckboxNextStyle},O={cursor:h?`url("${(N=r.general)==null?void 0:N.actionDisabledIcon}"), auto`:"pointer",color:"transparent",...i.botCheckMarkStyle},w={cursor:h?`url("${(D=r.general)==null?void 0:D.actionDisabledIcon}"), auto`:"pointer",color:"#fff",borderColor:(G=r.general)==null?void 0:G.primaryColor,backgroundColor:(q=r.general)==null?void 0:q.primaryColor,...i.botCheckMarkSelectedStyle};v.useEffect(()=>{c.length>0&&c[c.length-1]!==n&&b(!e.reusable)},[c]);const P=L=>{h||m($=>{const J=new Set($);if(J.has(L))t.delete(L),J.delete(L);else{if(p.size==e.max)return $;t.add(L),J.add(L)}return J})};return x.jsxs("div",{className:`rcb-checkbox-container ${(W=r.botBubble)!=null&&W.showAvatar?"rcb-checkbox-offset":""}`,children:[e.items.map(L=>x.jsx("div",{onMouseDown:$=>{$.preventDefault(),P(L)},style:S,className:"rcb-checkbox-row-container",children:x.jsxs("div",{className:"rcb-checkbox-row",children:[x.jsx("div",{style:p.has(L)?w:O,className:"rcb-checkbox-mark"}),x.jsx("div",{className:"rcb-checkbox-label",children:L})]})},L)),x.jsx("div",{style:I,className:"rcb-checkbox-next-button",onMouseDown:L=>{var K;if(L.preventDefault(),h||p.size<e.min)return;const $=Array.from(t).join(", ");b(!e.reusable);let J;e.sendOutput!=null?J=e.sendOutput:J=((K=r.chatInput)==null?void 0:K.sendCheckboxOutput)??!0,u($,J)}})]})},Li=async(e,t)=>{const n=e.checkboxes;if(!n)return;let r;if(typeof n=="function"?(r=n(t),r instanceof Promise&&(r=await r)):r=n,Array.isArray(r)&&(r={items:r}),!("items"in r)||r.items.length==0)return;r.min==null&&(r.min=1),r.max==null&&(r.max=r.items.length),r.min>r.max&&(r.min=r.max),r.reusable==null&&(r.reusable=!1);const i=new Set,c=t.currPath,u=x.jsx(Fi,{checkboxes:r,checkedItems:i,path:c});await t.injectMessage(u)},Ui=async(e,t)=>{const n=e.function;if(!n)return;const r=n(t);return r instanceof Promise?await r:r},Hi=async(e,t,n)=>{const r=e.message;if(!r)return;if(typeof r=="string"){r.trim()!==""&&(n?await t.simulateStreamMessage(r):await t.injectMessage(r));return}let i=r(t);i instanceof Promise&&(i=await i),typeof i=="string"&&i.trim()!==""&&(n?await t.simulateStreamMessage(i):await t.injectMessage(i))},$i=({options:e,path:t})=>{var w,P,k,j,M,F;const{settings:n}=le(),{styles:r}=me(),{paths:i}=Kt(),{handleSubmitText:c}=_t(),[u,p]=v.useState([]),[m,h]=v.useState(!1),b={cursor:m?`url("${(w=n.general)==null?void 0:w.actionDisabledIcon}"), auto`:"pointer",color:(P=n.general)==null?void 0:P.primaryColor,borderColor:(k=n.general)==null?void 0:k.primaryColor,backgroundColor:"#fff",...r.botOptionStyle},S={color:"#fff",borderColor:(j=n.general)==null?void 0:j.primaryColor,backgroundColor:(M=n.general)==null?void 0:M.primaryColor,...r.botOptionHoveredStyle};v.useEffect(()=>{i.length>0&&i[i.length-1]!==t&&h(!e.reusable)},[i]);const I=V=>{p(H=>{const N=[...H];return N[V]=!0,N})},O=V=>{p(H=>{const N=[...H];return N[V]=!1,N})};return x.jsx("div",{className:`rcb-options-container ${(F=n.botBubble)!=null&&F.showAvatar?"rcb-options-offset":""}`,children:e.items.map((V,H)=>{const N=u[H]&&!m;return x.jsx("div",{className:"rcb-options",style:N?S:b,onMouseEnter:()=>I(H),onMouseLeave:()=>O(H),onMouseDown:D=>{var q;if(D.preventDefault(),m)return;h(!e.reusable);let G;e.sendOutput!=null?G=e.sendOutput:G=((q=n.chatInput)==null?void 0:q.sendOptionOutput)??!0,c(V,G)},children:V},V)})})},zi=async(e,t)=>{const n=e.options;if(!n)return;let r;if(typeof n=="function"?(r=n(t),r instanceof Promise&&(r=await r)):r=n,Array.isArray(r)&&(r={items:r}),!("items"in r)||r.items.length==0)return;r.reusable==null&&(r.reusable=!1);const i=t.currPath,c=x.jsx($i,{options:r,path:i});await t.injectMessage(c)},Vi=async(e,t)=>{const n=e.path;if(!n)return!1;if(typeof n=="string")return await t.goToPath(n),!0;let r=n(t);if(r instanceof Promise&&(r=await r),!r)return!1;const i=r;return await t.goToPath(i),!0},qi=async(e,t)=>{const n=e.component;if(n){if(typeof n=="function"){let r=n(t);if(r instanceof Promise&&(r=await r),!r)return;await t.injectMessage(r);return}await t.injectMessage(n)}},Wi=async(e,t,n,r)=>{const i=e.transition;let c;if(typeof i=="function"?(c=i(t),c instanceof Promise&&(c=await c)):c=i,typeof c=="number"&&(c={duration:c}),!c||c instanceof Promise||c.duration==null||typeof c.duration!="number")return;c.interruptable==null&&(c.interruptable=!1);const u=setTimeout(async()=>{const p=await r(e);p&&await Ro(p,t)},c.duration);c.interruptable&&(n.current=u)},Gi=async(e,t,n)=>{const r=e.chatDisabled;if(r==null)return;let i;typeof r=="function"?(i=r(t),i instanceof Promise&&(i=await i)):i=r,n(i)},Bo=async(e,t,n)=>{const r=e.isSensitive;if(!r){n(!1);return}let i;typeof r=="function"?(i=r(t),i instanceof Promise&&(i=await i)):i=r,n(i)},Ji=async(e,t,n,r,i,c,u)=>{if(!e)throw new Error("Block is not valid.");for(const p of Object.keys(e))switch(p){case"message":await Hi(e,t,n);break;case"options":await zi(e,t);break;case"checkboxes":await Li(e,t);break;case"component":await qi(e,t);break;case"chatDisabled":await Gi(e,t,i);break;case"isSensitive":await Bo(e,t,c);break;case"transition":await Wi(e,t,r,u)}},Ro=async(e,t)=>{if(!e)throw new Error("Block is not valid.");const n=Object.keys(e);for(const r of n)r==="function"&&await Ui(e,t);n.includes("path")&&await Vi(e,t)};var at={},mt={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo;function Ki(){if(jo)return mt;jo=1;var e=v;function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i={},c={};function u(o){return n.call(c,o)?!0:n.call(i,o)?!1:r.test(o)?c[o]=!0:(i[o]=!0,!1)}function p(o,l,f,g,A,C,B){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=A,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=B}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){m[o]=new p(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];m[l]=new p(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){m[o]=new p(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){m[o]=new p(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){m[o]=new p(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){m[o]=new p(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){m[o]=new p(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){m[o]=new p(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){m[o]=new p(o,5,!1,o.toLowerCase(),null,!1,!1)});var h=/[\-:]([a-z])/g;function b(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(h,b);m[l]=new p(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(h,b);m[l]=new p(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(h,b);m[l]=new p(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){m[o]=new p(o,1,!1,o.toLowerCase(),null,!1,!1)}),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){m[o]=new p(o,1,!1,o.toLowerCase(),null,!0,!0)});var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I=["Webkit","ms","Moz","O"];Object.keys(S).forEach(function(o){I.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),S[l]=S[o]})});var O=/["'&<>]/;function w(o){if(typeof o=="boolean"||typeof o=="number")return""+o;o=""+o;var l=O.exec(o);if(l){var f="",g,A=0;for(g=l.index;g<o.length;g++){switch(o.charCodeAt(g)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#x27;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}A!==g&&(f+=o.substring(A,g)),A=g+1,f+=l}o=A!==g?f+o.substring(A,g):f}return o}var P=/([A-Z])/g,k=/^ms-/,j=Array.isArray;function M(o,l){return{insertionMode:o,selectedValue:l}}function F(o,l,f){switch(l){case"select":return M(1,f.value!=null?f.value:f.defaultValue);case"svg":return M(2,null);case"math":return M(3,null);case"foreignObject":return M(1,null);case"table":return M(4,null);case"thead":case"tbody":case"tfoot":return M(5,null);case"colgroup":return M(7,null);case"tr":return M(6,null)}return 4<=o.insertionMode||o.insertionMode===0?M(1,null):o}var V=new Map;function H(o,l,f){if(typeof f!="object")throw Error(t(62));l=!0;for(var g in f)if(n.call(f,g)){var A=f[g];if(A!=null&&typeof A!="boolean"&&A!==""){if(g.indexOf("--")===0){var C=w(g);A=w((""+A).trim())}else{C=g;var B=V.get(C);B!==void 0||(B=w(C.replace(P,"-$1").toLowerCase().replace(k,"-ms-")),V.set(C,B)),C=B,A=typeof A=="number"?A===0||n.call(S,g)?""+A:A+"px":w((""+A).trim())}l?(l=!1,o.push(' style="',C,":",A)):o.push(";",C,":",A)}}l||o.push('"')}function N(o,l,f,g){switch(f){case"style":H(o,l,g);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N"){if(l=m.hasOwnProperty(f)?m[f]:null,l!==null){switch(typeof g){case"function":case"symbol":return;case"boolean":if(!l.acceptsBooleans)return}switch(f=l.attributeName,l.type){case 3:g&&o.push(" ",f,'=""');break;case 4:g===!0?o.push(" ",f,'=""'):g!==!1&&o.push(" ",f,'="',w(g),'"');break;case 5:isNaN(g)||o.push(" ",f,'="',w(g),'"');break;case 6:!isNaN(g)&&1<=g&&o.push(" ",f,'="',w(g),'"');break;default:l.sanitizeURL&&(g=""+g),o.push(" ",f,'="',w(g),'"')}}else if(u(f)){switch(typeof g){case"function":case"symbol":return;case"boolean":if(l=f.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-")return}o.push(" ",f,'="',w(g),'"')}}}function D(o,l,f){if(l!=null){if(f!=null)throw Error(t(60));if(typeof l!="object"||!("__html"in l))throw Error(t(61));l=l.__html,l!=null&&o.push(""+l)}}function G(o){var l="";return e.Children.forEach(o,function(f){f!=null&&(l+=f)}),l}function q(o,l,f,g){o.push($(f));var A=f=null,C;for(C in l)if(n.call(l,C)){var B=l[C];if(B!=null)switch(C){case"children":f=B;break;case"dangerouslySetInnerHTML":A=B;break;default:N(o,g,C,B)}}return o.push(">"),D(o,A,f),typeof f=="string"?(o.push(w(f)),null):f}var W=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,L=new Map;function $(o){var l=L.get(o);if(l===void 0){if(!W.test(o))throw Error(t(65,o));l="<"+o,L.set(o,l)}return l}function J(o,l,f,g,A){switch(l){case"select":o.push($("select"));var C=null,B=null;for(se in f)if(n.call(f,se)){var z=f[se];if(z!=null)switch(se){case"children":C=z;break;case"dangerouslySetInnerHTML":B=z;break;case"defaultValue":case"value":break;default:N(o,g,se,z)}}return o.push(">"),D(o,B,C),C;case"option":B=A.selectedValue,o.push($("option"));var Q=z=null,te=null,se=null;for(C in f)if(n.call(f,C)){var ve=f[C];if(ve!=null)switch(C){case"children":z=ve;break;case"selected":te=ve;break;case"dangerouslySetInnerHTML":se=ve;break;case"value":Q=ve;default:N(o,g,C,ve)}}if(B!=null)if(f=Q!==null?""+Q:G(z),j(B)){for(g=0;g<B.length;g++)if(""+B[g]===f){o.push(' selected=""');break}}else""+B===f&&o.push(' selected=""');else te&&o.push(' selected=""');return o.push(">"),D(o,se,z),z;case"textarea":o.push($("textarea")),se=B=C=null;for(z in f)if(n.call(f,z)&&(Q=f[z],Q!=null))switch(z){case"children":se=Q;break;case"value":C=Q;break;case"defaultValue":B=Q;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:N(o,g,z,Q)}if(C===null&&B!==null&&(C=B),o.push(">"),se!=null){if(C!=null)throw Error(t(92));if(j(se)&&1<se.length)throw Error(t(93));C=""+se}return typeof C=="string"&&C[0]===`
`&&o.push(`
`),C!==null&&o.push(w(""+C)),null;case"input":o.push($("input")),Q=se=z=C=null;for(B in f)if(n.call(f,B)&&(te=f[B],te!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":Q=te;break;case"defaultValue":z=te;break;case"checked":se=te;break;case"value":C=te;break;default:N(o,g,B,te)}return se!==null?N(o,g,"checked",se):Q!==null&&N(o,g,"checked",Q),C!==null?N(o,g,"value",C):z!==null&&N(o,g,"value",z),o.push("/>"),null;case"menuitem":o.push($("menuitem"));for(var Ge in f)if(n.call(f,Ge)&&(C=f[Ge],C!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:N(o,g,Ge,C)}return o.push(">"),null;case"title":o.push($("title")),C=null;for(ve in f)if(n.call(f,ve)&&(B=f[ve],B!=null))switch(ve){case"children":C=B;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:N(o,g,ve,B)}return o.push(">"),C;case"listing":case"pre":o.push($(l)),B=C=null;for(Q in f)if(n.call(f,Q)&&(z=f[Q],z!=null))switch(Q){case"children":C=z;break;case"dangerouslySetInnerHTML":B=z;break;default:N(o,g,Q,z)}if(o.push(">"),B!=null){if(C!=null)throw Error(t(60));if(typeof B!="object"||!("__html"in B))throw Error(t(61));f=B.__html,f!=null&&(typeof f=="string"&&0<f.length&&f[0]===`
`?o.push(`
`,f):o.push(""+f))}return typeof C=="string"&&C[0]===`
`&&o.push(`
`),C;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":o.push($(l));for(var Je in f)if(n.call(f,Je)&&(C=f[Je],C!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,l));default:N(o,g,Je,C)}return o.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return q(o,f,l,g);case"html":return A.insertionMode===0&&o.push("<!DOCTYPE html>"),q(o,f,l,g);default:if(l.indexOf("-")===-1&&typeof f.is!="string")return q(o,f,l,g);o.push($(l)),B=C=null;for(te in f)if(n.call(f,te)&&(z=f[te],z!=null))switch(te){case"children":C=z;break;case"dangerouslySetInnerHTML":B=z;break;case"style":H(o,g,z);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(te)&&typeof z!="function"&&typeof z!="symbol"&&o.push(" ",te,'="',w(z),'"')}return o.push(">"),D(o,B,C),C}}function K(o,l,f){if(o.push('<!--$?--><template id="'),f===null)throw Error(t(395));return o.push(f),o.push('"></template>')}function Z(o,l,f,g){switch(f.insertionMode){case 0:case 1:return o.push('<div hidden id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 2:return o.push('<svg aria-hidden="true" style="display:none" id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 3:return o.push('<math aria-hidden="true" style="display:none" id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 4:return o.push('<table hidden id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 5:return o.push('<table hidden><tbody id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 6:return o.push('<table hidden><tr id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');case 7:return o.push('<table hidden><colgroup id="'),o.push(l.segmentPrefix),l=g.toString(16),o.push(l),o.push('">');default:throw Error(t(397))}}function de(o,l){switch(l.insertionMode){case 0:case 1:return o.push("</div>");case 2:return o.push("</svg>");case 3:return o.push("</math>");case 4:return o.push("</table>");case 5:return o.push("</tbody></table>");case 6:return o.push("</tr></table>");case 7:return o.push("</colgroup></table>");default:throw Error(t(397))}}var ie=/[<\u2028\u2029]/g;function pe(o){return JSON.stringify(o).replace(ie,function(l){switch(l){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ue(o,l){return l=l===void 0?"":l,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:l+"P:",segmentPrefix:l+"S:",boundaryPrefix:l+"B:",idPrefix:l,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:o}}function fe(o,l,f,g){return f.generateStaticMarkup?(o.push(w(l)),!1):(l===""?o=g:(g&&o.push("<!-- -->"),o.push(w(l)),o=!0),o)}var re=Object.assign,he=Symbol.for("react.element"),Y=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),et=Symbol.for("react.scope"),Vn=Symbol.for("react.debug_trace_mode"),jt=Symbol.for("react.legacy_hidden"),Zr=Symbol.for("react.default_value"),Mt=Symbol.iterator;function St(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case oe:return"Fragment";case Y:return"Portal";case we:return"Profiler";case be:return"StrictMode";case He:return"Suspense";case Ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ke:return(o.displayName||"Context")+".Consumer";case Se:return(o._context.displayName||"Context")+".Provider";case Ce:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ut:return l=o.displayName||null,l!==null?l:St(o.type)||"Memo";case Ee:l=o._payload,o=o._init;try{return St(o(l))}catch{}}return null}var Nt={};function qn(o,l){if(o=o.contextTypes,!o)return Nt;var f={},g;for(g in o)f[g]=l[g];return f}var tt=null;function Be(o,l){if(o!==l){o.context._currentValue2=o.parentValue,o=o.parent;var f=l.parent;if(o===null){if(f!==null)throw Error(t(401))}else{if(f===null)throw Error(t(401));Be(o,f)}l.context._currentValue2=l.value}}function Wn(o){o.context._currentValue2=o.parentValue,o=o.parent,o!==null&&Wn(o)}function Gn(o){var l=o.parent;l!==null&&Gn(l),o.context._currentValue2=o.value}function Jn(o,l){if(o.context._currentValue2=o.parentValue,o=o.parent,o===null)throw Error(t(402));o.depth===l.depth?Be(o,l):Jn(o,l)}function Kn(o,l){var f=l.parent;if(f===null)throw Error(t(402));o.depth===f.depth?Be(o,f):Kn(o,f),l.context._currentValue2=l.value}function Dt(o){var l=tt;l!==o&&(l===null?Gn(o):o===null?Wn(l):l.depth===o.depth?Be(l,o):l.depth>o.depth?Jn(l,o):Kn(l,o),tt=o)}var Zn={isMounted:function(){return!1},enqueueSetState:function(o,l){o=o._reactInternals,o.queue!==null&&o.queue.push(l)},enqueueReplaceState:function(o,l){o=o._reactInternals,o.replace=!0,o.queue=[l]},enqueueForceUpdate:function(){}};function Xn(o,l,f,g){var A=o.state!==void 0?o.state:null;o.updater=Zn,o.props=f,o.state=A;var C={queue:[],replace:!1};o._reactInternals=C;var B=l.contextType;if(o.context=typeof B=="object"&&B!==null?B._currentValue2:g,B=l.getDerivedStateFromProps,typeof B=="function"&&(B=B(f,A),A=B==null?A:re({},A,B),o.state=A),typeof l.getDerivedStateFromProps!="function"&&typeof o.getSnapshotBeforeUpdate!="function"&&(typeof o.UNSAFE_componentWillMount=="function"||typeof o.componentWillMount=="function"))if(l=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),l!==o.state&&Zn.enqueueReplaceState(o,o.state,null),C.queue!==null&&0<C.queue.length)if(l=C.queue,B=C.replace,C.queue=null,C.replace=!1,B&&l.length===1)o.state=l[0];else{for(C=B?l[0]:o.state,A=!0,B=B?1:0;B<l.length;B++){var z=l[B];z=typeof z=="function"?z.call(o,C,f,g):z,z!=null&&(A?(A=!1,C=re({},C,z)):re(C,z))}o.state=C}else C.queue=null}var Xr={id:1,overflow:""};function nn(o,l,f){var g=o.id;o=o.overflow;var A=32-Ft(g)-1;g&=~(1<<A),f+=1;var C=32-Ft(l)+A;if(30<C){var B=A-A%5;return C=(g&(1<<B)-1).toString(32),g>>=B,A-=B,{id:1<<32-Ft(l)+A|f<<A|g,overflow:C+o}}return{id:1<<C|f<<A|g,overflow:o}}var Ft=Math.clz32?Math.clz32:eo,Yr=Math.log,Qr=Math.LN2;function eo(o){return o>>>=0,o===0?32:31-(Yr(o)/Qr|0)|0}function to(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var no=typeof Object.is=="function"?Object.is:to,$e=null,rn=null,Lt=null,ye=null,xt=!1,Ut=!1,wt=0,nt=null,Ht=0;function ot(){if($e===null)throw Error(t(321));return $e}function Yn(){if(0<Ht)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function on(){return ye===null?Lt===null?(xt=!1,Lt=ye=Yn()):(xt=!0,ye=Lt):ye.next===null?(xt=!1,ye=ye.next=Yn()):(xt=!0,ye=ye.next),ye}function sn(){rn=$e=null,Ut=!1,Lt=null,Ht=0,ye=nt=null}function Qn(o,l){return typeof l=="function"?l(o):l}function er(o,l,f){if($e=ot(),ye=on(),xt){var g=ye.queue;if(l=g.dispatch,nt!==null&&(f=nt.get(g),f!==void 0)){nt.delete(g),g=ye.memoizedState;do g=o(g,f.action),f=f.next;while(f!==null);return ye.memoizedState=g,[g,l]}return[ye.memoizedState,l]}return o=o===Qn?typeof l=="function"?l():l:f!==void 0?f(l):l,ye.memoizedState=o,o=ye.queue={last:null,dispatch:null},o=o.dispatch=ro.bind(null,$e,o),[ye.memoizedState,o]}function tr(o,l){if($e=ot(),ye=on(),l=l===void 0?null:l,ye!==null){var f=ye.memoizedState;if(f!==null&&l!==null){var g=f[1];e:if(g===null)g=!1;else{for(var A=0;A<g.length&&A<l.length;A++)if(!no(l[A],g[A])){g=!1;break e}g=!0}if(g)return f[0]}}return o=o(),ye.memoizedState=[o,l],o}function ro(o,l,f){if(25<=Ht)throw Error(t(301));if(o===$e)if(Ut=!0,o={action:f,next:null},nt===null&&(nt=new Map),f=nt.get(l),f===void 0)nt.set(l,o);else{for(l=f;l.next!==null;)l=l.next;l.next=o}}function oo(){throw Error(t(394))}function $t(){}var nr={readContext:function(o){return o._currentValue2},useContext:function(o){return ot(),o._currentValue2},useMemo:tr,useReducer:er,useRef:function(o){$e=ot(),ye=on();var l=ye.memoizedState;return l===null?(o={current:o},ye.memoizedState=o):l},useState:function(o){return er(Qn,o)},useInsertionEffect:$t,useLayoutEffect:function(){},useCallback:function(o,l){return tr(function(){return o},l)},useImperativeHandle:$t,useEffect:$t,useDebugValue:$t,useDeferredValue:function(o){return ot(),o},useTransition:function(){return ot(),[!1,oo]},useId:function(){var o=rn.treeContext,l=o.overflow;o=o.id,o=(o&~(1<<32-Ft(o)-1)).toString(32)+l;var f=zt;if(f===null)throw Error(t(404));return l=wt++,o=":"+f.idPrefix+"R"+o,0<l&&(o+="H"+l.toString(32)),o+":"},useMutableSource:function(o,l){return ot(),l(o._source)},useSyncExternalStore:function(o,l,f){if(f===void 0)throw Error(t(407));return f()}},zt=null,an=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function so(o){return console.error(o),null}function vt(){}function io(o,l,f,g,A,C,B,z,Q){var te=[],se=new Set;return l={destination:null,responseState:l,progressiveChunkSize:g===void 0?12800:g,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:se,pingedTasks:te,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:A===void 0?so:A,onAllReady:vt,onShellReady:B===void 0?vt:B,onShellError:vt,onFatalError:vt},f=Vt(l,0,null,f,!1,!1),f.parentFlushed=!0,o=ln(l,o,null,f,se,Nt,null,Xr),te.push(o),l}function ln(o,l,f,g,A,C,B,z){o.allPendingTasks++,f===null?o.pendingRootTasks++:f.pendingTasks++;var Q={node:l,ping:function(){var te=o.pingedTasks;te.push(Q),te.length===1&&lr(o)},blockedBoundary:f,blockedSegment:g,abortSet:A,legacyContext:C,context:B,treeContext:z};return A.add(Q),Q}function Vt(o,l,f,g,A,C){return{status:0,id:-1,index:l,parentFlushed:!1,chunks:[],children:[],formatContext:g,boundary:f,lastPushedText:A,textEmbedded:C}}function Ct(o,l){if(o=o.onError(l),o!=null&&typeof o!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof o+'" instead');return o}function qt(o,l){var f=o.onShellError;f(l),f=o.onFatalError,f(l),o.destination!==null?(o.status=2,o.destination.destroy(l)):(o.status=1,o.fatalError=l)}function rr(o,l,f,g,A){for($e={},rn=l,wt=0,o=f(g,A);Ut;)Ut=!1,wt=0,Ht+=1,ye=null,o=f(g,A);return sn(),o}function or(o,l,f,g){var A=f.render(),C=g.childContextTypes;if(C!=null){var B=l.legacyContext;if(typeof f.getChildContext!="function")g=B;else{f=f.getChildContext();for(var z in f)if(!(z in C))throw Error(t(108,St(g)||"Unknown",z));g=re({},B,f)}l.legacyContext=g,Re(o,l,A),l.legacyContext=B}else Re(o,l,A)}function sr(o,l){if(o&&o.defaultProps){l=re({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function cn(o,l,f,g,A){if(typeof f=="function")if(f.prototype&&f.prototype.isReactComponent){A=qn(f,l.legacyContext);var C=f.contextType;C=new f(g,typeof C=="object"&&C!==null?C._currentValue2:A),Xn(C,f,g,A),or(o,l,C,f)}else{C=qn(f,l.legacyContext),A=rr(o,l,f,g,C);var B=wt!==0;if(typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0)Xn(A,f,g,C),or(o,l,A,f);else if(B){g=l.treeContext,l.treeContext=nn(g,1,0);try{Re(o,l,A)}finally{l.treeContext=g}}else Re(o,l,A)}else if(typeof f=="string"){switch(A=l.blockedSegment,C=J(A.chunks,f,g,o.responseState,A.formatContext),A.lastPushedText=!1,B=A.formatContext,A.formatContext=F(B,f,g),un(o,l,C),A.formatContext=B,f){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:A.chunks.push("</",f,">")}A.lastPushedText=!1}else{switch(f){case jt:case Vn:case be:case we:case oe:Re(o,l,g.children);return;case Ne:Re(o,l,g.children);return;case et:throw Error(t(343));case He:e:{f=l.blockedBoundary,A=l.blockedSegment,C=g.fallback,g=g.children,B=new Set;var z={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:B,errorDigest:null},Q=Vt(o,A.chunks.length,z,A.formatContext,!1,!1);A.children.push(Q),A.lastPushedText=!1;var te=Vt(o,0,null,A.formatContext,!1,!1);te.parentFlushed=!0,l.blockedBoundary=z,l.blockedSegment=te;try{if(un(o,l,g),o.responseState.generateStaticMarkup||te.lastPushedText&&te.textEmbedded&&te.chunks.push("<!-- -->"),te.status=1,dt(z,te),z.pendingTasks===0)break e}catch(se){te.status=4,z.forceClientRender=!0,z.errorDigest=Ct(o,se)}finally{l.blockedBoundary=f,l.blockedSegment=A}l=ln(o,C,f,Q,B,l.legacyContext,l.context,l.treeContext),o.pingedTasks.push(l)}return}if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Ce:if(g=rr(o,l,f.render,g,A),wt!==0){f=l.treeContext,l.treeContext=nn(f,1,0);try{Re(o,l,g)}finally{l.treeContext=f}}else Re(o,l,g);return;case ut:f=f.type,g=sr(f,g),cn(o,l,f,g,A);return;case Se:if(A=g.children,f=f._context,g=g.value,C=f._currentValue2,f._currentValue2=g,B=tt,tt=g={parent:B,depth:B===null?0:B.depth+1,context:f,parentValue:C,value:g},l.context=g,Re(o,l,A),o=tt,o===null)throw Error(t(403));g=o.parentValue,o.context._currentValue2=g===Zr?o.context._defaultValue:g,o=tt=o.parent,l.context=o;return;case ke:g=g.children,g=g(f._currentValue2),Re(o,l,g);return;case Ee:A=f._init,f=A(f._payload),g=sr(f,g),cn(o,l,f,g,void 0);return}throw Error(t(130,f==null?f:typeof f,""))}}function Re(o,l,f){if(l.node=f,typeof f=="object"&&f!==null){switch(f.$$typeof){case he:cn(o,l,f.type,f.props,f.ref);return;case Y:throw Error(t(257));case Ee:var g=f._init;f=g(f._payload),Re(o,l,f);return}if(j(f)){ir(o,l,f);return}if(f===null||typeof f!="object"?g=null:(g=Mt&&f[Mt]||f["@@iterator"],g=typeof g=="function"?g:null),g&&(g=g.call(f))){if(f=g.next(),!f.done){var A=[];do A.push(f.value),f=g.next();while(!f.done);ir(o,l,A)}return}throw o=Object.prototype.toString.call(f),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":o))}typeof f=="string"?(g=l.blockedSegment,g.lastPushedText=fe(l.blockedSegment.chunks,f,o.responseState,g.lastPushedText)):typeof f=="number"&&(g=l.blockedSegment,g.lastPushedText=fe(l.blockedSegment.chunks,""+f,o.responseState,g.lastPushedText))}function ir(o,l,f){for(var g=f.length,A=0;A<g;A++){var C=l.treeContext;l.treeContext=nn(C,g,A);try{un(o,l,f[A])}finally{l.treeContext=C}}}function un(o,l,f){var g=l.blockedSegment.formatContext,A=l.legacyContext,C=l.context;try{return Re(o,l,f)}catch(Q){if(sn(),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"){f=Q;var B=l.blockedSegment,z=Vt(o,B.chunks.length,null,B.formatContext,B.lastPushedText,!0);B.children.push(z),B.lastPushedText=!1,o=ln(o,l.node,l.blockedBoundary,z,l.abortSet,l.legacyContext,l.context,l.treeContext).ping,f.then(o,o),l.blockedSegment.formatContext=g,l.legacyContext=A,l.context=C,Dt(C)}else throw l.blockedSegment.formatContext=g,l.legacyContext=A,l.context=C,Dt(C),Q}}function dn(o){var l=o.blockedBoundary;o=o.blockedSegment,o.status=3,ft(this,l,o)}function ar(o,l,f){var g=o.blockedBoundary;o.blockedSegment.status=3,g===null?(l.allPendingTasks--,l.status!==2&&(l.status=2,l.destination!==null&&l.destination.push(null))):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,o=f===void 0?Error(t(432)):f,g.errorDigest=l.onError(o),g.parentFlushed&&l.clientRenderedBoundaries.push(g)),g.fallbackAbortableTasks.forEach(function(A){return ar(A,l,f)}),g.fallbackAbortableTasks.clear(),l.allPendingTasks--,l.allPendingTasks===0&&(g=l.onAllReady,g()))}function dt(o,l){if(l.chunks.length===0&&l.children.length===1&&l.children[0].boundary===null){var f=l.children[0];f.id=l.id,f.parentFlushed=!0,f.status===1&&dt(o,f)}else o.completedSegments.push(l)}function ft(o,l,f){if(l===null){if(f.parentFlushed){if(o.completedRootSegment!==null)throw Error(t(389));o.completedRootSegment=f}o.pendingRootTasks--,o.pendingRootTasks===0&&(o.onShellError=vt,l=o.onShellReady,l())}else l.pendingTasks--,l.forceClientRender||(l.pendingTasks===0?(f.parentFlushed&&f.status===1&&dt(l,f),l.parentFlushed&&o.completedBoundaries.push(l),l.fallbackAbortableTasks.forEach(dn,o),l.fallbackAbortableTasks.clear()):f.parentFlushed&&f.status===1&&(dt(l,f),l.completedSegments.length===1&&l.parentFlushed&&o.partialBoundaries.push(l)));o.allPendingTasks--,o.allPendingTasks===0&&(o=o.onAllReady,o())}function lr(o){if(o.status!==2){var l=tt,f=an.current;an.current=nr;var g=zt;zt=o.responseState;try{var A=o.pingedTasks,C;for(C=0;C<A.length;C++){var B=A[C],z=o,Q=B.blockedSegment;if(Q.status===0){Dt(B.context);try{Re(z,B,B.node),z.responseState.generateStaticMarkup||Q.lastPushedText&&Q.textEmbedded&&Q.chunks.push("<!-- -->"),B.abortSet.delete(B),Q.status=1,ft(z,B.blockedBoundary,Q)}catch(De){if(sn(),typeof De=="object"&&De!==null&&typeof De.then=="function"){var te=B.ping;De.then(te,te)}else{B.abortSet.delete(B),Q.status=4;var se=B.blockedBoundary,ve=De,Ge=Ct(z,ve);if(se===null?qt(z,ve):(se.pendingTasks--,se.forceClientRender||(se.forceClientRender=!0,se.errorDigest=Ge,se.parentFlushed&&z.clientRenderedBoundaries.push(se))),z.allPendingTasks--,z.allPendingTasks===0){var Je=z.onAllReady;Je()}}}finally{}}}A.splice(0,C),o.destination!==null&&Wt(o,o.destination)}catch(De){Ct(o,De),qt(o,De)}finally{zt=g,an.current=f,f===nr&&Dt(l)}}}function Tt(o,l,f){switch(f.parentFlushed=!0,f.status){case 0:var g=f.id=o.nextSegmentId++;return f.lastPushedText=!1,f.textEmbedded=!1,o=o.responseState,l.push('<template id="'),l.push(o.placeholderPrefix),o=g.toString(16),l.push(o),l.push('"></template>');case 1:f.status=2;var A=!0;g=f.chunks;var C=0;f=f.children;for(var B=0;B<f.length;B++){for(A=f[B];C<A.index;C++)l.push(g[C]);A=kt(o,l,A)}for(;C<g.length-1;C++)l.push(g[C]);return C<g.length&&(A=l.push(g[C])),A;default:throw Error(t(390))}}function kt(o,l,f){var g=f.boundary;if(g===null)return Tt(o,l,f);if(g.parentFlushed=!0,g.forceClientRender)return o.responseState.generateStaticMarkup||(g=g.errorDigest,l.push("<!--$!-->"),l.push("<template"),g&&(l.push(' data-dgst="'),g=w(g),l.push(g),l.push('"')),l.push("></template>")),Tt(o,l,f),o=o.responseState.generateStaticMarkup?!0:l.push("<!--/$-->"),o;if(0<g.pendingTasks){g.rootSegmentID=o.nextSegmentId++,0<g.completedSegments.length&&o.partialBoundaries.push(g);var A=o.responseState,C=A.nextSuspenseID++;return A=A.boundaryPrefix+C.toString(16),g=g.id=A,K(l,o.responseState,g),Tt(o,l,f),l.push("<!--/$-->")}if(g.byteSize>o.progressiveChunkSize)return g.rootSegmentID=o.nextSegmentId++,o.completedBoundaries.push(g),K(l,o.responseState,g.id),Tt(o,l,f),l.push("<!--/$-->");if(o.responseState.generateStaticMarkup||l.push("<!--$-->"),f=g.completedSegments,f.length!==1)throw Error(t(391));return kt(o,l,f[0]),o=o.responseState.generateStaticMarkup?!0:l.push("<!--/$-->"),o}function fn(o,l,f){return Z(l,o.responseState,f.formatContext,f.id),kt(o,l,f),de(l,f.formatContext)}function pn(o,l,f){for(var g=f.completedSegments,A=0;A<g.length;A++)hn(o,l,f,g[A]);if(g.length=0,o=o.responseState,g=f.id,f=f.rootSegmentID,l.push(o.startInlineScript),o.sentCompleteBoundaryFunction?l.push('$RC("'):(o.sentCompleteBoundaryFunction=!0,l.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),g===null)throw Error(t(395));return f=f.toString(16),l.push(g),l.push('","'),l.push(o.segmentPrefix),l.push(f),l.push('")<\/script>')}function hn(o,l,f,g){if(g.status===2)return!0;var A=g.id;if(A===-1){if((g.id=f.rootSegmentID)===-1)throw Error(t(392));return fn(o,l,g)}return fn(o,l,g),o=o.responseState,l.push(o.startInlineScript),o.sentCompleteSegmentFunction?l.push('$RS("'):(o.sentCompleteSegmentFunction=!0,l.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),l.push(o.segmentPrefix),A=A.toString(16),l.push(A),l.push('","'),l.push(o.placeholderPrefix),l.push(A),l.push('")<\/script>')}function Wt(o,l){try{var f=o.completedRootSegment;if(f!==null&&o.pendingRootTasks===0){kt(o,l,f),o.completedRootSegment=null;var g=o.responseState.bootstrapChunks;for(f=0;f<g.length-1;f++)l.push(g[f]);f<g.length&&l.push(g[f])}var A=o.clientRenderedBoundaries,C;for(C=0;C<A.length;C++){var B=A[C];g=l;var z=o.responseState,Q=B.id,te=B.errorDigest,se=B.errorMessage,ve=B.errorComponentStack;if(g.push(z.startInlineScript),z.sentClientRenderFunction?g.push('$RX("'):(z.sentClientRenderFunction=!0,g.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),Q===null)throw Error(t(395));if(g.push(Q),g.push('"'),te||se||ve){g.push(",");var Ge=pe(te||"");g.push(Ge)}if(se||ve){g.push(",");var Je=pe(se||"");g.push(Je)}if(ve){g.push(",");var De=pe(ve);g.push(De)}if(!g.push(")<\/script>")){o.destination=null,C++,A.splice(0,C);return}}A.splice(0,C);var Et=o.completedBoundaries;for(C=0;C<Et.length;C++)if(!pn(o,l,Et[C])){o.destination=null,C++,Et.splice(0,C);return}Et.splice(0,C);var st=o.partialBoundaries;for(C=0;C<st.length;C++){var yn=st[C];e:{A=o,B=l;var At=yn.completedSegments;for(z=0;z<At.length;z++)if(!hn(A,B,yn,At[z])){z++,At.splice(0,z);var dr=!1;break e}At.splice(0,z),dr=!0}if(!dr){o.destination=null,C++,st.splice(0,C);return}}st.splice(0,C);var pt=o.completedBoundaries;for(C=0;C<pt.length;C++)if(!pn(o,l,pt[C])){o.destination=null,C++,pt.splice(0,C);return}pt.splice(0,C)}finally{o.allPendingTasks===0&&o.pingedTasks.length===0&&o.clientRenderedBoundaries.length===0&&o.completedBoundaries.length===0&&l.push(null)}}function cr(o,l){try{var f=o.abortableTasks;f.forEach(function(g){return ar(g,o,l)}),f.clear(),o.destination!==null&&Wt(o,o.destination)}catch(g){Ct(o,g),qt(o,g)}}function ur(){}function mn(o,l,f,g){var A=!1,C=null,B="",z={push:function(te){return te!==null&&(B+=te),!0},destroy:function(te){A=!0,C=te}},Q=!1;if(o=io(o,ue(f,l?l.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ur,void 0,function(){Q=!0}),lr(o),cr(o,g),o.status===1)o.status=2,z.destroy(o.fatalError);else if(o.status!==2&&o.destination===null){o.destination=z;try{Wt(o,z)}catch(te){Ct(o,te),qt(o,te)}}if(A)throw C;if(!Q)throw Error(t(426));return B}return mt.renderToNodeStream=function(){throw Error(t(207))},mt.renderToStaticMarkup=function(o,l){return mn(o,l,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},mt.renderToStaticNodeStream=function(){throw Error(t(208))},mt.renderToString=function(o,l){return mn(o,l,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},mt.version="18.3.1",mt}var vn={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo;function Zi(){if(Mo)return vn;Mo=1;var e=v;function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function i(s,a){if(a.length!==0)if(512<a.length)0<r&&(s.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),s.enqueue(a);else{var d=n.length-r;d<a.length&&(d===0?s.enqueue(n):(n.set(a.subarray(0,d),r),s.enqueue(n),a=a.subarray(d)),n=new Uint8Array(512),r=0),n.set(a,r),r+=a.length}}function c(s,a){return i(s,a),!0}function u(s){n&&0<r&&(s.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var p=new TextEncoder;function m(s){return p.encode(s)}function h(s){return p.encode(s)}function b(s,a){typeof s.error=="function"?s.error(a):s.close()}var S=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},w={};function P(s){return S.call(w,s)?!0:S.call(O,s)?!1:I.test(s)?w[s]=!0:(O[s]=!0,!1)}function k(s,a,d,y,E,T,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=E,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=T,this.removeEmptyString=R}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];j[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(M,F);j[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(M,F);j[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(M,F);j[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});var V={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H=["Webkit","ms","Moz","O"];Object.keys(V).forEach(function(s){H.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),V[a]=V[s]})});var N=/["'&<>]/;function D(s){if(typeof s=="boolean"||typeof s=="number")return""+s;s=""+s;var a=N.exec(s);if(a){var d="",y,E=0;for(y=a.index;y<s.length;y++){switch(s.charCodeAt(y)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#x27;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}E!==y&&(d+=s.substring(E,y)),E=y+1,d+=a}s=E!==y?d+s.substring(E,y):d}return s}var G=/([A-Z])/g,q=/^ms-/,W=Array.isArray,L=h("<script>"),$=h("<\/script>"),J=h('<script src="'),K=h('<script type="module" src="'),Z=h('" async=""><\/script>'),de=/(<\/|<)(s)(cript)/gi;function ie(s,a,d,y){return""+a+(d==="s"?"\\u0073":"\\u0053")+y}function pe(s,a,d,y,E){s=s===void 0?"":s,a=a===void 0?L:h('<script nonce="'+D(a)+'">');var T=[];if(d!==void 0&&T.push(a,m((""+d).replace(de,ie)),$),y!==void 0)for(d=0;d<y.length;d++)T.push(J,m(D(y[d])),Z);if(E!==void 0)for(y=0;y<E.length;y++)T.push(K,m(D(E[y])),Z);return{bootstrapChunks:T,startInlineScript:a,placeholderPrefix:h(s+"P:"),segmentPrefix:h(s+"S:"),boundaryPrefix:s+"B:",idPrefix:s,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ue(s,a){return{insertionMode:s,selectedValue:a}}function fe(s){return ue(s==="http://www.w3.org/2000/svg"?2:s==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function re(s,a,d){switch(a){case"select":return ue(1,d.value!=null?d.value:d.defaultValue);case"svg":return ue(2,null);case"math":return ue(3,null);case"foreignObject":return ue(1,null);case"table":return ue(4,null);case"thead":case"tbody":case"tfoot":return ue(5,null);case"colgroup":return ue(7,null);case"tr":return ue(6,null)}return 4<=s.insertionMode||s.insertionMode===0?ue(1,null):s}var he=h("<!-- -->");function Y(s,a,d,y){return a===""?y:(y&&s.push(he),s.push(m(D(a))),!0)}var oe=new Map,be=h(' style="'),we=h(":"),Se=h(";");function ke(s,a,d){if(typeof d!="object")throw Error(t(62));a=!0;for(var y in d)if(S.call(d,y)){var E=d[y];if(E!=null&&typeof E!="boolean"&&E!==""){if(y.indexOf("--")===0){var T=m(D(y));E=m(D((""+E).trim()))}else{T=y;var R=oe.get(T);R!==void 0||(R=h(D(T.replace(G,"-$1").toLowerCase().replace(q,"-ms-"))),oe.set(T,R)),T=R,E=typeof E=="number"?E===0||S.call(V,y)?m(""+E):m(E+"px"):m(D((""+E).trim()))}a?(a=!1,s.push(be,T,we,E)):s.push(Se,T,we,E)}}a||s.push(Ne)}var Ce=h(" "),He=h('="'),Ne=h('"'),ut=h('=""');function Ee(s,a,d,y){switch(d){case"style":ke(s,a,y);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N"){if(a=j.hasOwnProperty(d)?j[d]:null,a!==null){switch(typeof y){case"function":case"symbol":return;case"boolean":if(!a.acceptsBooleans)return}switch(d=m(a.attributeName),a.type){case 3:y&&s.push(Ce,d,ut);break;case 4:y===!0?s.push(Ce,d,ut):y!==!1&&s.push(Ce,d,He,m(D(y)),Ne);break;case 5:isNaN(y)||s.push(Ce,d,He,m(D(y)),Ne);break;case 6:!isNaN(y)&&1<=y&&s.push(Ce,d,He,m(D(y)),Ne);break;default:a.sanitizeURL&&(y=""+y),s.push(Ce,d,He,m(D(y)),Ne)}}else if(P(d)){switch(typeof y){case"function":case"symbol":return;case"boolean":if(a=d.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-")return}s.push(Ce,m(d),He,m(D(y)),Ne)}}}var et=h(">"),Vn=h("/>");function jt(s,a,d){if(a!=null){if(d!=null)throw Error(t(60));if(typeof a!="object"||!("__html"in a))throw Error(t(61));a=a.__html,a!=null&&s.push(m(""+a))}}function Zr(s){var a="";return e.Children.forEach(s,function(d){d!=null&&(a+=d)}),a}var Mt=h(' selected=""');function St(s,a,d,y){s.push(Be(d));var E=d=null,T;for(T in a)if(S.call(a,T)){var R=a[T];if(R!=null)switch(T){case"children":d=R;break;case"dangerouslySetInnerHTML":E=R;break;default:Ee(s,y,T,R)}}return s.push(et),jt(s,E,d),typeof d=="string"?(s.push(m(D(d))),null):d}var Nt=h(`
`),qn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,tt=new Map;function Be(s){var a=tt.get(s);if(a===void 0){if(!qn.test(s))throw Error(t(65,s));a=h("<"+s),tt.set(s,a)}return a}var Wn=h("<!DOCTYPE html>");function Gn(s,a,d,y,E){switch(a){case"select":s.push(Be("select"));var T=null,R=null;for(ae in d)if(S.call(d,ae)){var U=d[ae];if(U!=null)switch(ae){case"children":T=U;break;case"dangerouslySetInnerHTML":R=U;break;case"defaultValue":case"value":break;default:Ee(s,y,ae,U)}}return s.push(et),jt(s,R,T),T;case"option":R=E.selectedValue,s.push(Be("option"));var ee=U=null,ce=null,ae=null;for(T in d)if(S.call(d,T)){var xe=d[T];if(xe!=null)switch(T){case"children":U=xe;break;case"selected":ce=xe;break;case"dangerouslySetInnerHTML":ae=xe;break;case"value":ee=xe;default:Ee(s,y,T,xe)}}if(R!=null)if(d=ee!==null?""+ee:Zr(U),W(R)){for(y=0;y<R.length;y++)if(""+R[y]===d){s.push(Mt);break}}else""+R===d&&s.push(Mt);else ce&&s.push(Mt);return s.push(et),jt(s,ae,U),U;case"textarea":s.push(Be("textarea")),ae=R=T=null;for(U in d)if(S.call(d,U)&&(ee=d[U],ee!=null))switch(U){case"children":ae=ee;break;case"value":T=ee;break;case"defaultValue":R=ee;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Ee(s,y,U,ee)}if(T===null&&R!==null&&(T=R),s.push(et),ae!=null){if(T!=null)throw Error(t(92));if(W(ae)&&1<ae.length)throw Error(t(93));T=""+ae}return typeof T=="string"&&T[0]===`
`&&s.push(Nt),T!==null&&s.push(m(D(""+T))),null;case"input":s.push(Be("input")),ee=ae=U=T=null;for(R in d)if(S.call(d,R)&&(ce=d[R],ce!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ee=ce;break;case"defaultValue":U=ce;break;case"checked":ae=ce;break;case"value":T=ce;break;default:Ee(s,y,R,ce)}return ae!==null?Ee(s,y,"checked",ae):ee!==null&&Ee(s,y,"checked",ee),T!==null?Ee(s,y,"value",T):U!==null&&Ee(s,y,"value",U),s.push(Vn),null;case"menuitem":s.push(Be("menuitem"));for(var Le in d)if(S.call(d,Le)&&(T=d[Le],T!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Ee(s,y,Le,T)}return s.push(et),null;case"title":s.push(Be("title")),T=null;for(xe in d)if(S.call(d,xe)&&(R=d[xe],R!=null))switch(xe){case"children":T=R;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Ee(s,y,xe,R)}return s.push(et),T;case"listing":case"pre":s.push(Be(a)),R=T=null;for(ee in d)if(S.call(d,ee)&&(U=d[ee],U!=null))switch(ee){case"children":T=U;break;case"dangerouslySetInnerHTML":R=U;break;default:Ee(s,y,ee,U)}if(s.push(et),R!=null){if(T!=null)throw Error(t(60));if(typeof R!="object"||!("__html"in R))throw Error(t(61));d=R.__html,d!=null&&(typeof d=="string"&&0<d.length&&d[0]===`
`?s.push(Nt,m(d)):s.push(m(""+d)))}return typeof T=="string"&&T[0]===`
`&&s.push(Nt),T;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":s.push(Be(a));for(var Ke in d)if(S.call(d,Ke)&&(T=d[Ke],T!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,a));default:Ee(s,y,Ke,T)}return s.push(Vn),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return St(s,d,a,y);case"html":return E.insertionMode===0&&s.push(Wn),St(s,d,a,y);default:if(a.indexOf("-")===-1&&typeof d.is!="string")return St(s,d,a,y);s.push(Be(a)),R=T=null;for(ce in d)if(S.call(d,ce)&&(U=d[ce],U!=null))switch(ce){case"children":T=U;break;case"dangerouslySetInnerHTML":R=U;break;case"style":ke(s,y,U);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:P(ce)&&typeof U!="function"&&typeof U!="symbol"&&s.push(Ce,m(ce),He,m(D(U)),Ne)}return s.push(et),jt(s,R,T),T}}var Jn=h("</"),Kn=h(">"),Dt=h('<template id="'),Zn=h('"></template>'),Xn=h("<!--$-->"),Xr=h('<!--$?--><template id="'),nn=h('"></template>'),Ft=h("<!--$!-->"),Yr=h("<!--/$-->"),Qr=h("<template"),eo=h('"'),to=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var no=h("></template>");function $e(s,a,d){if(i(s,Xr),d===null)throw Error(t(395));return i(s,d),c(s,nn)}var rn=h('<div hidden id="'),Lt=h('">'),ye=h("</div>"),xt=h('<svg aria-hidden="true" style="display:none" id="'),Ut=h('">'),wt=h("</svg>"),nt=h('<math aria-hidden="true" style="display:none" id="'),Ht=h('">'),ot=h("</math>"),Yn=h('<table hidden id="'),on=h('">'),sn=h("</table>"),Qn=h('<table hidden><tbody id="'),er=h('">'),tr=h("</tbody></table>"),ro=h('<table hidden><tr id="'),oo=h('">'),$t=h("</tr></table>"),nr=h('<table hidden><colgroup id="'),zt=h('">'),an=h("</colgroup></table>");function so(s,a,d,y){switch(d.insertionMode){case 0:case 1:return i(s,rn),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,Lt);case 2:return i(s,xt),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,Ut);case 3:return i(s,nt),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,Ht);case 4:return i(s,Yn),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,on);case 5:return i(s,Qn),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,er);case 6:return i(s,ro),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,oo);case 7:return i(s,nr),i(s,a.segmentPrefix),i(s,m(y.toString(16))),c(s,zt);default:throw Error(t(397))}}function vt(s,a){switch(a.insertionMode){case 0:case 1:return c(s,ye);case 2:return c(s,wt);case 3:return c(s,ot);case 4:return c(s,sn);case 5:return c(s,tr);case 6:return c(s,$t);case 7:return c(s,an);default:throw Error(t(397))}}var io=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ln=h('$RS("'),Vt=h('","'),Ct=h('")<\/script>'),qt=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),rr=h('$RC("'),or=h('","'),sr=h('")<\/script>'),cn=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Re=h('$RX("'),ir=h('"'),un=h(")<\/script>"),dn=h(","),ar=/[<\u2028\u2029]/g;function dt(s){return JSON.stringify(s).replace(ar,function(a){switch(a){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ft=Object.assign,lr=Symbol.for("react.element"),Tt=Symbol.for("react.portal"),kt=Symbol.for("react.fragment"),fn=Symbol.for("react.strict_mode"),pn=Symbol.for("react.profiler"),hn=Symbol.for("react.provider"),Wt=Symbol.for("react.context"),cr=Symbol.for("react.forward_ref"),ur=Symbol.for("react.suspense"),mn=Symbol.for("react.suspense_list"),o=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.for("react.scope"),g=Symbol.for("react.debug_trace_mode"),A=Symbol.for("react.legacy_hidden"),C=Symbol.for("react.default_value"),B=Symbol.iterator;function z(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case kt:return"Fragment";case Tt:return"Portal";case pn:return"Profiler";case fn:return"StrictMode";case ur:return"Suspense";case mn:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Wt:return(s.displayName||"Context")+".Consumer";case hn:return(s._context.displayName||"Context")+".Provider";case cr:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case o:return a=s.displayName||null,a!==null?a:z(s.type)||"Memo";case l:a=s._payload,s=s._init;try{return z(s(a))}catch{}}return null}var Q={};function te(s,a){if(s=s.contextTypes,!s)return Q;var d={},y;for(y in s)d[y]=a[y];return d}var se=null;function ve(s,a){if(s!==a){s.context._currentValue=s.parentValue,s=s.parent;var d=a.parent;if(s===null){if(d!==null)throw Error(t(401))}else{if(d===null)throw Error(t(401));ve(s,d)}a.context._currentValue=a.value}}function Ge(s){s.context._currentValue=s.parentValue,s=s.parent,s!==null&&Ge(s)}function Je(s){var a=s.parent;a!==null&&Je(a),s.context._currentValue=s.value}function De(s,a){if(s.context._currentValue=s.parentValue,s=s.parent,s===null)throw Error(t(402));s.depth===a.depth?ve(s,a):De(s,a)}function Et(s,a){var d=a.parent;if(d===null)throw Error(t(402));s.depth===d.depth?ve(s,d):Et(s,d),a.context._currentValue=a.value}function st(s){var a=se;a!==s&&(a===null?Je(s):s===null?Ge(a):a.depth===s.depth?ve(a,s):a.depth>s.depth?De(a,s):Et(a,s),se=s)}var yn={isMounted:function(){return!1},enqueueSetState:function(s,a){s=s._reactInternals,s.queue!==null&&s.queue.push(a)},enqueueReplaceState:function(s,a){s=s._reactInternals,s.replace=!0,s.queue=[a]},enqueueForceUpdate:function(){}};function At(s,a,d,y){var E=s.state!==void 0?s.state:null;s.updater=yn,s.props=d,s.state=E;var T={queue:[],replace:!1};s._reactInternals=T;var R=a.contextType;if(s.context=typeof R=="object"&&R!==null?R._currentValue:y,R=a.getDerivedStateFromProps,typeof R=="function"&&(R=R(d,E),E=R==null?E:ft({},E,R),s.state=E),typeof a.getDerivedStateFromProps!="function"&&typeof s.getSnapshotBeforeUpdate!="function"&&(typeof s.UNSAFE_componentWillMount=="function"||typeof s.componentWillMount=="function"))if(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&yn.enqueueReplaceState(s,s.state,null),T.queue!==null&&0<T.queue.length)if(a=T.queue,R=T.replace,T.queue=null,T.replace=!1,R&&a.length===1)s.state=a[0];else{for(T=R?a[0]:s.state,E=!0,R=R?1:0;R<a.length;R++){var U=a[R];U=typeof U=="function"?U.call(s,T,d,y):U,U!=null&&(E?(E=!1,T=ft({},T,U)):ft(T,U))}s.state=T}else T.queue=null}var dr={id:1,overflow:""};function pt(s,a,d){var y=s.id;s=s.overflow;var E=32-fr(y)-1;y&=~(1<<E),d+=1;var T=32-fr(a)+E;if(30<T){var R=E-E%5;return T=(y&(1<<R)-1).toString(32),y>>=R,E-=R,{id:1<<32-fr(a)+E|d<<E|y,overflow:T+s}}return{id:1<<T|d<<E|y,overflow:s}}var fr=Math.clz32?Math.clz32:Uc,Fc=Math.log,Lc=Math.LN2;function Uc(s){return s>>>=0,s===0?32:31-(Fc(s)/Lc|0)|0}function Hc(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $c=typeof Object.is=="function"?Object.is:Hc,it=null,ao=null,pr=null,ge=null,gn=!1,hr=!1,bn=0,ht=null,mr=0;function It(){if(it===null)throw Error(t(321));return it}function Ds(){if(0<mr)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function lo(){return ge===null?pr===null?(gn=!1,pr=ge=Ds()):(gn=!0,ge=pr):ge.next===null?(gn=!1,ge=ge.next=Ds()):(gn=!0,ge=ge.next),ge}function co(){ao=it=null,hr=!1,pr=null,mr=0,ge=ht=null}function Fs(s,a){return typeof a=="function"?a(s):a}function Ls(s,a,d){if(it=It(),ge=lo(),gn){var y=ge.queue;if(a=y.dispatch,ht!==null&&(d=ht.get(y),d!==void 0)){ht.delete(y),y=ge.memoizedState;do y=s(y,d.action),d=d.next;while(d!==null);return ge.memoizedState=y,[y,a]}return[ge.memoizedState,a]}return s=s===Fs?typeof a=="function"?a():a:d!==void 0?d(a):a,ge.memoizedState=s,s=ge.queue={last:null,dispatch:null},s=s.dispatch=zc.bind(null,it,s),[ge.memoizedState,s]}function Us(s,a){if(it=It(),ge=lo(),a=a===void 0?null:a,ge!==null){var d=ge.memoizedState;if(d!==null&&a!==null){var y=d[1];e:if(y===null)y=!1;else{for(var E=0;E<y.length&&E<a.length;E++)if(!$c(a[E],y[E])){y=!1;break e}y=!0}if(y)return d[0]}}return s=s(),ge.memoizedState=[s,a],s}function zc(s,a,d){if(25<=mr)throw Error(t(301));if(s===it)if(hr=!0,s={action:d,next:null},ht===null&&(ht=new Map),d=ht.get(a),d===void 0)ht.set(a,s);else{for(a=d;a.next!==null;)a=a.next;a.next=s}}function Vc(){throw Error(t(394))}function yr(){}var Hs={readContext:function(s){return s._currentValue},useContext:function(s){return It(),s._currentValue},useMemo:Us,useReducer:Ls,useRef:function(s){it=It(),ge=lo();var a=ge.memoizedState;return a===null?(s={current:s},ge.memoizedState=s):a},useState:function(s){return Ls(Fs,s)},useInsertionEffect:yr,useLayoutEffect:function(){},useCallback:function(s,a){return Us(function(){return s},a)},useImperativeHandle:yr,useEffect:yr,useDebugValue:yr,useDeferredValue:function(s){return It(),s},useTransition:function(){return It(),[!1,Vc]},useId:function(){var s=ao.treeContext,a=s.overflow;s=s.id,s=(s&~(1<<32-fr(s)-1)).toString(32)+a;var d=gr;if(d===null)throw Error(t(404));return a=bn++,s=":"+d.idPrefix+"R"+s,0<a&&(s+="H"+a.toString(32)),s+":"},useMutableSource:function(s,a){return It(),a(s._source)},useSyncExternalStore:function(s,a,d){if(d===void 0)throw Error(t(407));return d()}},gr=null,uo=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function qc(s){return console.error(s),null}function Sn(){}function Wc(s,a,d,y,E,T,R,U,ee){var ce=[],ae=new Set;return a={destination:null,responseState:a,progressiveChunkSize:y===void 0?12800:y,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:ae,pingedTasks:ce,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:E===void 0?qc:E,onAllReady:T===void 0?Sn:T,onShellReady:R===void 0?Sn:R,onShellError:U===void 0?Sn:U,onFatalError:ee===void 0?Sn:ee},d=br(a,0,null,d,!1,!1),d.parentFlushed=!0,s=fo(a,s,null,d,ae,Q,null,dr),ce.push(s),a}function fo(s,a,d,y,E,T,R,U){s.allPendingTasks++,d===null?s.pendingRootTasks++:d.pendingTasks++;var ee={node:a,ping:function(){var ce=s.pingedTasks;ce.push(ee),ce.length===1&&Js(s)},blockedBoundary:d,blockedSegment:y,abortSet:E,legacyContext:T,context:R,treeContext:U};return E.add(ee),ee}function br(s,a,d,y,E,T){return{status:0,id:-1,index:a,parentFlushed:!1,chunks:[],children:[],formatContext:y,boundary:d,lastPushedText:E,textEmbedded:T}}function xn(s,a){if(s=s.onError(a),s!=null&&typeof s!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof s+'" instead');return s}function Sr(s,a){var d=s.onShellError;d(a),d=s.onFatalError,d(a),s.destination!==null?(s.status=2,b(s.destination,a)):(s.status=1,s.fatalError=a)}function $s(s,a,d,y,E){for(it={},ao=a,bn=0,s=d(y,E);hr;)hr=!1,bn=0,mr+=1,ge=null,s=d(y,E);return co(),s}function zs(s,a,d,y){var E=d.render(),T=y.childContextTypes;if(T!=null){var R=a.legacyContext;if(typeof d.getChildContext!="function")y=R;else{d=d.getChildContext();for(var U in d)if(!(U in T))throw Error(t(108,z(y)||"Unknown",U));y=ft({},R,d)}a.legacyContext=y,Fe(s,a,E),a.legacyContext=R}else Fe(s,a,E)}function Vs(s,a){if(s&&s.defaultProps){a=ft({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function po(s,a,d,y,E){if(typeof d=="function")if(d.prototype&&d.prototype.isReactComponent){E=te(d,a.legacyContext);var T=d.contextType;T=new d(y,typeof T=="object"&&T!==null?T._currentValue:E),At(T,d,y,E),zs(s,a,T,d)}else{T=te(d,a.legacyContext),E=$s(s,a,d,y,T);var R=bn!==0;if(typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0)At(E,d,y,T),zs(s,a,E,d);else if(R){y=a.treeContext,a.treeContext=pt(y,1,0);try{Fe(s,a,E)}finally{a.treeContext=y}}else Fe(s,a,E)}else if(typeof d=="string"){switch(E=a.blockedSegment,T=Gn(E.chunks,d,y,s.responseState,E.formatContext),E.lastPushedText=!1,R=E.formatContext,E.formatContext=re(R,d,y),ho(s,a,T),E.formatContext=R,d){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:E.chunks.push(Jn,m(d),Kn)}E.lastPushedText=!1}else{switch(d){case A:case g:case fn:case pn:case kt:Fe(s,a,y.children);return;case mn:Fe(s,a,y.children);return;case f:throw Error(t(343));case ur:e:{d=a.blockedBoundary,E=a.blockedSegment,T=y.fallback,y=y.children,R=new Set;var U={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:R,errorDigest:null},ee=br(s,E.chunks.length,U,E.formatContext,!1,!1);E.children.push(ee),E.lastPushedText=!1;var ce=br(s,0,null,E.formatContext,!1,!1);ce.parentFlushed=!0,a.blockedBoundary=U,a.blockedSegment=ce;try{if(ho(s,a,y),ce.lastPushedText&&ce.textEmbedded&&ce.chunks.push(he),ce.status=1,xr(U,ce),U.pendingTasks===0)break e}catch(ae){ce.status=4,U.forceClientRender=!0,U.errorDigest=xn(s,ae)}finally{a.blockedBoundary=d,a.blockedSegment=E}a=fo(s,T,d,ee,R,a.legacyContext,a.context,a.treeContext),s.pingedTasks.push(a)}return}if(typeof d=="object"&&d!==null)switch(d.$$typeof){case cr:if(y=$s(s,a,d.render,y,E),bn!==0){d=a.treeContext,a.treeContext=pt(d,1,0);try{Fe(s,a,y)}finally{a.treeContext=d}}else Fe(s,a,y);return;case o:d=d.type,y=Vs(d,y),po(s,a,d,y,E);return;case hn:if(E=y.children,d=d._context,y=y.value,T=d._currentValue,d._currentValue=y,R=se,se=y={parent:R,depth:R===null?0:R.depth+1,context:d,parentValue:T,value:y},a.context=y,Fe(s,a,E),s=se,s===null)throw Error(t(403));y=s.parentValue,s.context._currentValue=y===C?s.context._defaultValue:y,s=se=s.parent,a.context=s;return;case Wt:y=y.children,y=y(d._currentValue),Fe(s,a,y);return;case l:E=d._init,d=E(d._payload),y=Vs(d,y),po(s,a,d,y,void 0);return}throw Error(t(130,d==null?d:typeof d,""))}}function Fe(s,a,d){if(a.node=d,typeof d=="object"&&d!==null){switch(d.$$typeof){case lr:po(s,a,d.type,d.props,d.ref);return;case Tt:throw Error(t(257));case l:var y=d._init;d=y(d._payload),Fe(s,a,d);return}if(W(d)){qs(s,a,d);return}if(d===null||typeof d!="object"?y=null:(y=B&&d[B]||d["@@iterator"],y=typeof y=="function"?y:null),y&&(y=y.call(d))){if(d=y.next(),!d.done){var E=[];do E.push(d.value),d=y.next();while(!d.done);qs(s,a,E)}return}throw s=Object.prototype.toString.call(d),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":s))}typeof d=="string"?(y=a.blockedSegment,y.lastPushedText=Y(a.blockedSegment.chunks,d,s.responseState,y.lastPushedText)):typeof d=="number"&&(y=a.blockedSegment,y.lastPushedText=Y(a.blockedSegment.chunks,""+d,s.responseState,y.lastPushedText))}function qs(s,a,d){for(var y=d.length,E=0;E<y;E++){var T=a.treeContext;a.treeContext=pt(T,y,E);try{ho(s,a,d[E])}finally{a.treeContext=T}}}function ho(s,a,d){var y=a.blockedSegment.formatContext,E=a.legacyContext,T=a.context;try{return Fe(s,a,d)}catch(ee){if(co(),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"){d=ee;var R=a.blockedSegment,U=br(s,R.chunks.length,null,R.formatContext,R.lastPushedText,!0);R.children.push(U),R.lastPushedText=!1,s=fo(s,a.node,a.blockedBoundary,U,a.abortSet,a.legacyContext,a.context,a.treeContext).ping,d.then(s,s),a.blockedSegment.formatContext=y,a.legacyContext=E,a.context=T,st(T)}else throw a.blockedSegment.formatContext=y,a.legacyContext=E,a.context=T,st(T),ee}}function Gc(s){var a=s.blockedBoundary;s=s.blockedSegment,s.status=3,Gs(this,a,s)}function Ws(s,a,d){var y=s.blockedBoundary;s.blockedSegment.status=3,y===null?(a.allPendingTasks--,a.status!==2&&(a.status=2,a.destination!==null&&a.destination.close())):(y.pendingTasks--,y.forceClientRender||(y.forceClientRender=!0,s=d===void 0?Error(t(432)):d,y.errorDigest=a.onError(s),y.parentFlushed&&a.clientRenderedBoundaries.push(y)),y.fallbackAbortableTasks.forEach(function(E){return Ws(E,a,d)}),y.fallbackAbortableTasks.clear(),a.allPendingTasks--,a.allPendingTasks===0&&(y=a.onAllReady,y()))}function xr(s,a){if(a.chunks.length===0&&a.children.length===1&&a.children[0].boundary===null){var d=a.children[0];d.id=a.id,d.parentFlushed=!0,d.status===1&&xr(s,d)}else s.completedSegments.push(a)}function Gs(s,a,d){if(a===null){if(d.parentFlushed){if(s.completedRootSegment!==null)throw Error(t(389));s.completedRootSegment=d}s.pendingRootTasks--,s.pendingRootTasks===0&&(s.onShellError=Sn,a=s.onShellReady,a())}else a.pendingTasks--,a.forceClientRender||(a.pendingTasks===0?(d.parentFlushed&&d.status===1&&xr(a,d),a.parentFlushed&&s.completedBoundaries.push(a),a.fallbackAbortableTasks.forEach(Gc,s),a.fallbackAbortableTasks.clear()):d.parentFlushed&&d.status===1&&(xr(a,d),a.completedSegments.length===1&&a.parentFlushed&&s.partialBoundaries.push(a)));s.allPendingTasks--,s.allPendingTasks===0&&(s=s.onAllReady,s())}function Js(s){if(s.status!==2){var a=se,d=uo.current;uo.current=Hs;var y=gr;gr=s.responseState;try{var E=s.pingedTasks,T;for(T=0;T<E.length;T++){var R=E[T],U=s,ee=R.blockedSegment;if(ee.status===0){st(R.context);try{Fe(U,R,R.node),ee.lastPushedText&&ee.textEmbedded&&ee.chunks.push(he),R.abortSet.delete(R),ee.status=1,Gs(U,R.blockedBoundary,ee)}catch(Ze){if(co(),typeof Ze=="object"&&Ze!==null&&typeof Ze.then=="function"){var ce=R.ping;Ze.then(ce,ce)}else{R.abortSet.delete(R),ee.status=4;var ae=R.blockedBoundary,xe=Ze,Le=xn(U,xe);if(ae===null?Sr(U,xe):(ae.pendingTasks--,ae.forceClientRender||(ae.forceClientRender=!0,ae.errorDigest=Le,ae.parentFlushed&&U.clientRenderedBoundaries.push(ae))),U.allPendingTasks--,U.allPendingTasks===0){var Ke=U.onAllReady;Ke()}}}finally{}}}E.splice(0,T),s.destination!==null&&mo(s,s.destination)}catch(Ze){xn(s,Ze),Sr(s,Ze)}finally{gr=y,uo.current=d,d===Hs&&st(a)}}}function wr(s,a,d){switch(d.parentFlushed=!0,d.status){case 0:var y=d.id=s.nextSegmentId++;return d.lastPushedText=!1,d.textEmbedded=!1,s=s.responseState,i(a,Dt),i(a,s.placeholderPrefix),s=m(y.toString(16)),i(a,s),c(a,Zn);case 1:d.status=2;var E=!0;y=d.chunks;var T=0;d=d.children;for(var R=0;R<d.length;R++){for(E=d[R];T<E.index;T++)i(a,y[T]);E=vr(s,a,E)}for(;T<y.length-1;T++)i(a,y[T]);return T<y.length&&(E=c(a,y[T])),E;default:throw Error(t(390))}}function vr(s,a,d){var y=d.boundary;if(y===null)return wr(s,a,d);if(y.parentFlushed=!0,y.forceClientRender)y=y.errorDigest,c(a,Ft),i(a,Qr),y&&(i(a,to),i(a,m(D(y))),i(a,eo)),c(a,no),wr(s,a,d);else if(0<y.pendingTasks){y.rootSegmentID=s.nextSegmentId++,0<y.completedSegments.length&&s.partialBoundaries.push(y);var E=s.responseState,T=E.nextSuspenseID++;E=h(E.boundaryPrefix+T.toString(16)),y=y.id=E,$e(a,s.responseState,y),wr(s,a,d)}else if(y.byteSize>s.progressiveChunkSize)y.rootSegmentID=s.nextSegmentId++,s.completedBoundaries.push(y),$e(a,s.responseState,y.id),wr(s,a,d);else{if(c(a,Xn),d=y.completedSegments,d.length!==1)throw Error(t(391));vr(s,a,d[0])}return c(a,Yr)}function Ks(s,a,d){return so(a,s.responseState,d.formatContext,d.id),vr(s,a,d),vt(a,d.formatContext)}function Zs(s,a,d){for(var y=d.completedSegments,E=0;E<y.length;E++)Xs(s,a,d,y[E]);if(y.length=0,s=s.responseState,y=d.id,d=d.rootSegmentID,i(a,s.startInlineScript),s.sentCompleteBoundaryFunction?i(a,rr):(s.sentCompleteBoundaryFunction=!0,i(a,qt)),y===null)throw Error(t(395));return d=m(d.toString(16)),i(a,y),i(a,or),i(a,s.segmentPrefix),i(a,d),c(a,sr)}function Xs(s,a,d,y){if(y.status===2)return!0;var E=y.id;if(E===-1){if((y.id=d.rootSegmentID)===-1)throw Error(t(392));return Ks(s,a,y)}return Ks(s,a,y),s=s.responseState,i(a,s.startInlineScript),s.sentCompleteSegmentFunction?i(a,ln):(s.sentCompleteSegmentFunction=!0,i(a,io)),i(a,s.segmentPrefix),E=m(E.toString(16)),i(a,E),i(a,Vt),i(a,s.placeholderPrefix),i(a,E),c(a,Ct)}function mo(s,a){n=new Uint8Array(512),r=0;try{var d=s.completedRootSegment;if(d!==null&&s.pendingRootTasks===0){vr(s,a,d),s.completedRootSegment=null;var y=s.responseState.bootstrapChunks;for(d=0;d<y.length-1;d++)i(a,y[d]);d<y.length&&c(a,y[d])}var E=s.clientRenderedBoundaries,T;for(T=0;T<E.length;T++){var R=E[T];y=a;var U=s.responseState,ee=R.id,ce=R.errorDigest,ae=R.errorMessage,xe=R.errorComponentStack;if(i(y,U.startInlineScript),U.sentClientRenderFunction?i(y,Re):(U.sentClientRenderFunction=!0,i(y,cn)),ee===null)throw Error(t(395));i(y,ee),i(y,ir),(ce||ae||xe)&&(i(y,dn),i(y,m(dt(ce||"")))),(ae||xe)&&(i(y,dn),i(y,m(dt(ae||"")))),xe&&(i(y,dn),i(y,m(dt(xe)))),c(y,un)}E.splice(0,T);var Le=s.completedBoundaries;for(T=0;T<Le.length;T++)Zs(s,a,Le[T]);Le.splice(0,T),u(a),n=new Uint8Array(512),r=0;var Ke=s.partialBoundaries;for(T=0;T<Ke.length;T++){var Ze=Ke[T];e:{E=s,R=a;var Cr=Ze.completedSegments;for(U=0;U<Cr.length;U++)if(!Xs(E,R,Ze,Cr[U])){U++,Cr.splice(0,U);var Qs=!1;break e}Cr.splice(0,U),Qs=!0}if(!Qs){s.destination=null,T++,Ke.splice(0,T);return}}Ke.splice(0,T);var yo=s.completedBoundaries;for(T=0;T<yo.length;T++)Zs(s,a,yo[T]);yo.splice(0,T)}finally{u(a),s.allPendingTasks===0&&s.pingedTasks.length===0&&s.clientRenderedBoundaries.length===0&&s.completedBoundaries.length===0&&a.close()}}function Ys(s,a){try{var d=s.abortableTasks;d.forEach(function(y){return Ws(y,s,a)}),d.clear(),s.destination!==null&&mo(s,s.destination)}catch(y){xn(s,y),Sr(s,y)}}return vn.renderToReadableStream=function(s,a){return new Promise(function(d,y){var E,T,R=new Promise(function(ae,xe){T=ae,E=xe}),U=Wc(s,pe(a?a.identifierPrefix:void 0,a?a.nonce:void 0,a?a.bootstrapScriptContent:void 0,a?a.bootstrapScripts:void 0,a?a.bootstrapModules:void 0),fe(a?a.namespaceURI:void 0),a?a.progressiveChunkSize:void 0,a?a.onError:void 0,T,function(){var ae=new ReadableStream({type:"bytes",pull:function(xe){if(U.status===1)U.status=2,b(xe,U.fatalError);else if(U.status!==2&&U.destination===null){U.destination=xe;try{mo(U,xe)}catch(Le){xn(U,Le),Sr(U,Le)}}},cancel:function(){Ys(U)}},{highWaterMark:0});ae.allReady=R,d(ae)},function(ae){R.catch(function(){}),y(ae)},E);if(a&&a.signal){var ee=a.signal,ce=function(){Ys(U,ee.reason),ee.removeEventListener("abort",ce)};ee.addEventListener("abort",ce)}Js(U)})},vn.version="18.3.1",vn}var No;function Xi(){if(No)return at;No=1;var e,t;return e=Ki(),t=Zi(),at.version=e.version,at.renderToString=e.renderToString,at.renderToStaticMarkup=e.renderToStaticMarkup,at.renderToNodeStream=e.renderToNodeStream,at.renderToStaticNodeStream=e.renderToStaticNodeStream,at.renderToReadableStream=t.renderToReadableStream,at}var Yi=Xi();const Qi=bo(Yi),ea=()=>{var n;const{settings:e}=le(),{styles:t}=me();return x.jsx("div",{className:"rcb-line-break-container",children:x.jsx("div",{style:{...t.chatHistoryLineBreakStyle},className:"rcb-line-break-text","data-testid":"chat-history-line-break-text",children:(n=e.chatHistory)==null?void 0:n.chatHistoryLineBreakText})})},ta=()=>{var r;const{settings:e}=le(),{styles:t}=me(),n={borderTop:`4px solid ${(r=e.general)==null?void 0:r.primaryColor}`,...t.loadingSpinnerStyle};return x.jsx("div",{className:"rcb-spinner-container",children:x.jsx("div",{style:n,className:"rcb-spinner"})})},Cn=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();throw new Error("crypto.randomUUID not available")}catch(e){if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function")return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=crypto.getRandomValues(new Uint8Array(1))[0]%16;return(t==="x"?n:n&3|8).toString(16)});throw console.error(e),new Error("crypto.getRandomValues is also not available")}},lt=(e,t)=>({id:Cn(),content:e,sender:t,type:typeof e=="string"?"string":"object",timestamp:new Date().toUTCString(),tags:[]});let rt,Do=!1,Tn="rcb-history",kn=30,Fo=!1,En=[];const Ar=async e=>{if(Fo||!rt)return;const t=[],n=Do?En.length:0;for(let i=e.length-1;i>=n;i--){const c=e[i];if(c.sender.toUpperCase()!=="SYSTEM"&&(c.content!==""&&t.unshift(c),t.length===kn))break}let r=t.map(ia);if(r.length<kn){const i=kn-r.length;r=[...En.slice(-i),...r]}ra(r)},na=e=>{if(e!=null)try{return JSON.parse(e)}catch{return[]}return[]},Lo=()=>En,ra=e=>{rt&&rt.setItem(Tn,JSON.stringify(e))},oa=()=>{rt&&rt.removeItem(Tn)},sa=e=>{var t,n,r,i,c;((n=(t=e.chatHistory)==null?void 0:t.storageType)==null?void 0:n.toUpperCase())==="SESSION_STORAGE"?rt=sessionStorage:rt=localStorage,Tn=(r=e.chatHistory)==null?void 0:r.storageKey,kn=(i=e.chatHistory)==null?void 0:i.maxEntries,Fo=(c=e.chatHistory)==null?void 0:c.disabled,En=na(rt.getItem(Tn))},ia=e=>v.isValidElement(e.content)?structuredClone({id:e.id,content:Qi.renderToString(e.content),type:e.type,sender:e.sender.toUpperCase(),timestamp:e.timestamp,tags:e.tags}):e,aa=(e,t,n,r,i,c,u,p,m)=>{var h;if(Do=!0,n!=null)try{const b=lt(x.jsx(ta,{}),"SYSTEM"),S=i.current.slice(1);r([b,...S]);const I=n.map(O=>{if(O.type==="object"){const w=Uo(O.content,e,t);return{...O,content:w}}return O});setTimeout(()=>{var P;const O=i.current.slice(1);let w=(P=e.chatHistory)!=null&&P.autoLoad?lt(x.jsx(x.Fragment,{}),"SYSTEM"):lt(x.jsx(ea,{}),"SYSTEM");r([...I,w,...O]),m(!0)},500),setTimeout(()=>{if(!c.current)return;const{scrollHeight:O}=c.current,w=O-u;c.current.scrollTop+=w,p(!1)},510)}catch{rt.removeItem((h=e.chatHistory)==null?void 0:h.storageKey)}},Uo=(e,t,n)=>{const i=new DOMParser().parseFromString(e,"text/html");return Array.from(i.body.childNodes).map((p,m)=>{var h;if(p.nodeType===Node.TEXT_NODE)return p.textContent;{const b=p.tagName.toLowerCase();let S=Array.from(p.attributes).reduce((O,w)=>{const P=w.name.toLowerCase();if(P==="style"){const k=w.value.split(";").filter(M=>M.trim()!==""),j={};k.forEach(M=>{const[F,V]=M.split(":").map(N=>N.trim()),H=F.replace(/-([a-z])/g,(N,D)=>D.toUpperCase());j[H]=V}),O[P]=j}else(b==="audio"||b==="video")&&P==="controls"&&w.value===""?O[P]="true":O[P]=w.value;return O},{});if(Object.prototype.hasOwnProperty.call(S,"class")){const O=p.classList;S.className=O.toString(),delete S.class,(h=t.botBubble)!=null&&h.showAvatar&&(S=la(O,S)),S=ca(O,S,t,n),S=ua(O,S,t,n),S=da(O,S,t,n),S=fa(O,S,t,n)}if(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"].includes(b))return v.createElement(b,{key:m,...S});{const O=Uo(p.innerHTML,t,n);return v.createElement(b,{key:m,...S},...O)}}})},la=(e,t)=>((e.contains("rcb-options-container")||e.contains("rcb-checkbox-container"))&&(t.className=`${e.toString()} rcb-options-offset`),t),ca=(e,t,n,r)=>{var i,c,u,p,m;return e.contains("rcb-options")&&(t.style={...t.style,color:((i=r.botOptionStyle)==null?void 0:i.color)??((c=n.general)==null?void 0:c.primaryColor),borderColor:((u=r.botOptionStyle)==null?void 0:u.color)??((p=n.general)==null?void 0:p.primaryColor),cursor:`url("${(m=n.general)==null?void 0:m.actionDisabledIcon}"), auto`,...r.botOptionStyle}),t},ua=(e,t,n,r)=>{var i,c,u,p,m;return e.contains("rcb-checkbox-row-container")&&(t.style={...t.style,color:((i=r.botCheckboxRowStyle)==null?void 0:i.color)??((c=n.general)==null?void 0:c.primaryColor),borderColor:((u=r.botCheckboxRowStyle)==null?void 0:u.color)??((p=n.general)==null?void 0:p.primaryColor),cursor:`url("${(m=n.general)==null?void 0:m.actionDisabledIcon}"), auto`,...r.botCheckboxRowStyle}),t},da=(e,t,n,r)=>{var i,c,u,p,m;return e.contains("rcb-checkbox-next-button")&&(t.style={...t.style,color:((i=r.botCheckboxNextStyle)==null?void 0:i.color)??((c=n.general)==null?void 0:c.primaryColor),borderColor:((u=r.botCheckboxNextStyle)==null?void 0:u.color)??((p=n.general)==null?void 0:p.primaryColor),cursor:`url("${(m=n.general)==null?void 0:m.actionDisabledIcon}"), auto`,...r.botCheckboxNextStyle}),t},fa=(e,t,n,r)=>{var i,c;return(e.contains("rcb-media-display-image-container")||e.contains("rcb-media-display-video-container"))&&(t.style={...t.style,backgroundColor:(i=n.general)==null?void 0:i.primaryColor,maxWidth:(c=n.userBubble)!=null&&c.showAvatar?"65%":"70%",...r.mediaDisplayContainerStyle}),t},Ir=()=>{const{settings:e}=le(),{notificationsToggledOn:t,setSyncedNotificationsToggledOn:n,hasInteractedPage:r,unreadCount:i,setUnreadCount:c,syncedNotificationsToggledOnRef:u}=_e(),{audioBufferRef:p,audioContextRef:m,gainNodeRef:h}=Oe(),{dispatchRcbEvent:b}=Ve(),S=v.useCallback(async()=>{var j,M;const w=(j=e.notification)==null?void 0:j.sound;m.current=new AudioContext;const P=m.current.createGain();P.gain.value=((M=e.notification)==null?void 0:M.volume)??.2,h.current=P;let k;if(w!=null&&w.startsWith("data:audio")){const F=atob(w.split(",")[1]),V=new ArrayBuffer(F.length),H=new Uint8Array(V);for(let N=0;N<F.length;N++)H[N]=F.charCodeAt(N);k=V}else k=await(await fetch(w)).arrayBuffer();p.current=await m.current.decodeAudioData(k)},[e.notification]),I=v.useCallback(()=>{var P;if((P=e.notification)!=null&&P.disabled||!u.current||!r||!m.current||!p.current)return;const w=m.current.createBufferSource();w.buffer=p.current,w.connect(h.current).connect(m.current.destination),w.start()},[e.notification,u,r,m,p,h]),O=v.useCallback(async w=>{var P;w!==u.current&&((P=e.event)!=null&&P.rcbToggleNotifications&&(await b(X.TOGGLE_NOTIFICATIONS,{currState:u.current,newState:!u.current})).defaultPrevented||n(k=>!k))},[u]);return{unreadCount:i,setUnreadCount:c,notificationsToggledOn:t,toggleNotifications:O,playNotificationSound:I,setUpNotifications:S}},pa=(e,t,n,r,i)=>{if(!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const c=new window.SpeechSynthesisUtterance;c.text=e,c.lang=t,c.rate=r,c.volume=i;let u=!1;for(const p of n)if(window.speechSynthesis.getVoices().find(m=>{if(m.name===p){c.voice=m,window.speechSynthesis.speak(c),u=!0;return}}),u)break;u||window.speechSynthesis.speak(c)},ha=(e,t)=>{var n,r,i,c;pa(t,(n=e.audio)==null?void 0:n.language,(r=e.audio)==null?void 0:r.voiceNames,(i=e.audio)==null?void 0:i.rate,(c=e.audio)==null?void 0:c.volume)},Ho=()=>{const{settings:e}=le(),{audioToggledOn:t,setSyncedAudioToggledOn:n,syncedAudioToggledOnRef:r}=_e(),{dispatchRcbEvent:i}=Ve(),c=v.useCallback(async p=>{var m;p!==r.current&&((m=e.event)!=null&&m.rcbToggleAudio&&(await i(X.TOGGLE_AUDIO,{currState:r.current,newState:!r.current})).defaultPrevented||n(h=>!h))},[r]),u=v.useCallback(async p=>{var h,b;if((h=e.audio)!=null&&h.disabled||!r.current)return;let m=p;if((b=e.event)!=null&&b.rcbStartSpeakAudio){const S=await i(X.START_SPEAK_AUDIO,{textToRead:m});if(S.defaultPrevented)return;m=S.data.textToRead}ha(e,m)},[e,r]);return{audioToggledOn:t,speakAudio:u,toggleAudio:c}},Zt=()=>{var D,G;const{settings:e}=le(),{messages:t,setSyncedMessages:n,syncedMessagesRef:r}=Er(),{setSyncedIsBotTyping:i,setUnreadCount:c,syncedIsScrollingRef:u,syncedIsChatWindowOpenRef:p}=_e(),{streamMessageMap:m,chatBodyRef:h,paramsInputRef:b}=Oe(),{scrollToBottom:S,getIsChatBotVisible:I}=Ue(),{dispatchRcbEvent:O}=Ve(),{speakAudio:w}=Ho(),{playNotificationSound:P}=Ir(),k=v.useCallback((q,W=!1)=>{var K,Z;Ar(q);let L=!0;const $=q[q.length-1];if(!$)return;const J=$.sender.toUpperCase();J==="USER"&&(L=!1),(K=e.general)!=null&&K.embedded&&I()&&(L=!1),(p.current&&!u.current||W)&&(L=!1),L&&P(),!W&&(J!=="USER"&&((Z=e.chatWindow)!=null&&Z.autoJumpToBottom)||J==="USER"||!u.current)&&setTimeout(()=>S(),1)},[e,h,p,u,P,S,I]),j=v.useCallback(async(q,W="BOT",L=null)=>{var ue,fe,re,he,Y;if(typeof q!="string")throw new Error("Content must be of type string to simulate stream.");W=W.toUpperCase();let $=lt(q,W);if((ue=e.event)!=null&&ue.rcbStartSimulateStreamMessage){const oe=await O(X.START_SIMULATE_STREAM_MESSAGE,{message:$});if(oe.defaultPrevented)return null;L=oe.data.simulateStreamChunker||L,$=oe.data.message}i(!1);let J=30;W==="BOT"?J=(fe=e.botBubble)==null?void 0:fe.streamSpeed:J=(re=e.userBubble)==null?void 0:re.streamSpeed;const K={...$,content:""};n(oe=>[...oe,K]),k(r.current);let Z=$.content;L&&(Z=L(Z));let de=0;const ie=Z.length;$.sender.toUpperCase()==="BOT"&&(p.current||(he=e.general)!=null&&he.embedded)&&typeof $.content=="string"&&$.content.trim()!==""&&w($.content);const pe=new Promise(oe=>{const be=setInterval(()=>{if(de>=ie){clearInterval(be),oe();return}n(we=>{const Se=[...we];for(let ke=Se.length-1;ke>=0;ke--)if(Se[ke].id===K.id){const Ce=Z[de];Ce&&(K.content+=Ce,Se[ke]=K),de++;break}return Se})},J)});return(u.current||!p.current)&&c(oe=>oe+1),await pe,Ar(r.current),(Y=e.event)!=null&&Y.rcbStopSimulateStreamMessage&&await O(X.STOP_SIMULATE_STREAM_MESSAGE,{message:$}),W==="USER"&&(b.current=q),$},[e,O,k,r,b,i,c,p,w]),M=v.useCallback(async(q,W="BOT")=>{var $,J,K;W=W.toUpperCase();let L=lt(q,W);if(($=e.event)!=null&&$.rcbPreInjectMessage){const Z=await O(X.PRE_INJECT_MESSAGE,{message:L});if(Z.defaultPrevented)return null;L=Z.data.message}return L.sender.toUpperCase()==="BOT"&&(p.current||(J=e.general)!=null&&J.embedded)&&typeof L.content=="string"&&L.content.trim()!==""&&w(L.content),(u.current||!p.current)&&c(Z=>Z+1),(K=e.event)!=null&&K.rcbPostInjectMessage&&await O(X.POST_INJECT_MESSAGE,{message:L}),n(Z=>[...Z,L]),k(r.current),W==="USER"&&typeof q=="string"&&(b.current=q),L},[e,O,k,b,r,p,w,c]),F=v.useCallback(async q=>{var L;const W=r.current.find($=>$.id===q);return!W||(L=e.event)!=null&&L.rcbRemoveMessage&&(await O(X.REMOVE_MESSAGE,{message:W})).defaultPrevented?null:(n($=>$.filter(J=>J.id!==q)),k(r.current),c($=>Math.max($-1,0)),W)},[O,(D=e.event)==null?void 0:D.rcbRemoveMessage,k,r,c]),V=v.useCallback(async(q,W="BOT")=>{var $,J;if(W=W.toUpperCase(),!m.current.has(W)){const K=lt(q,W);return($=e.event)!=null&&$.rcbStartStreamMessage&&(await O(X.START_STREAM_MESSAGE,{message:K})).defaultPrevented?null:(i(!1),n(Z=>[...Z,K]),k(r.current),m.current.set(W,K.id),(u.current||!p.current)&&c(Z=>Z+1),K)}const L={...lt(q,W),id:m.current.get(W)};return(J=e.event)!=null&&J.rcbChunkStreamMessage&&(await O(X.CHUNK_STREAM_MESSAGE,{message:L})).defaultPrevented?null:(n(K=>K.map(Z=>Z.id===L.id?L:Z)),k(r.current,!0),L)},[O,e.event,k,r,i,c,m]),H=v.useCallback(async(q="BOT")=>{var $;if(q=q.toUpperCase(),!m.current.has(q))return!0;const W=m.current.get(q);let L;for(let J=0;J<3;J++){const K=r.current.find(Z=>Z.id===W);K&&(L=K),await new Promise(Z=>setTimeout(Z,20))}return($=e.event)!=null&&$.rcbStopStreamMessage&&(await O(X.STOP_STREAM_MESSAGE,{message:L})).defaultPrevented?!1:(m.current.delete(q),Ar(r.current),q==="USER"&&typeof(L==null?void 0:L.content)=="string"&&(b.current=L.content),!0)},[O,(G=e.event)==null?void 0:G.rcbStopStreamMessage,m,b]),N=v.useCallback(q=>{n(q),k(q)},[k]);return{simulateStreamMessage:j,injectMessage:M,removeMessage:F,streamMessage:V,endStreamMessage:H,replaceMessages:N,messages:t}};let Or,Xe,An,ct=!1,qe=null;const _r=()=>{if(!Or){const e=window.SpeechRecognition||window.webkitSpeechRecognition;Or=e!=null?new e:null}return Or},ma=(e,t,n,r,i,c,u)=>{var p;(p=e.voice)!=null&&p.sendAsAudio?ga(n,c):ya(e,t,n,r,i,u)},ya=(e,t,n,r,i,c)=>{var h,b,S;const u=_r();if(!u)return;if(!ct)try{ct=!0,u.lang=(h=e.voice)==null?void 0:h.language,u.start()}catch{}const p=(b=e.voice)==null?void 0:b.timeoutPeriod,m=(S=e.voice)==null?void 0:S.autoSendPeriod;u.onresult=I=>{var w,P;clearTimeout(Xe),Xe=null,clearTimeout(An);const O=I.results[I.results.length-1][0].transcript;if(c.current){const k=(w=e.chatInput)==null?void 0:w.characterLimit,j=c.current.value+O;k!=null&&k>=0&&j.length>k?r(j.slice(0,k)):r(j),i(c.current.value.length)}p&&(Xe=setTimeout(async()=>await Br(t,c),p)),(P=e.voice)!=null&&P.autoSendDisabled||(An=setTimeout(n,m))},u.onend=()=>{ct?(u.start(),!Xe&&p&&(Xe=setTimeout(async()=>await Br(t,c),p))):(clearTimeout(Xe),Xe=null,clearTimeout(An))},p&&(Xe=setTimeout(async()=>await Br(t,c),p))},ga=(e,t)=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{if(qe=new MediaRecorder(n),!ct)try{ct=!0,qe.start()}catch{}qe.ondataavailable=r=>{t.current&&t.current.push(r.data)},qe.onstop=()=>{e(),n.getTracks().forEach(r=>r.stop())}}).catch(n=>{console.error("Unable to use microphone:",n)})},Pr=()=>{const e=_r();e&&(ct=!1,e&&e.stop(),qe&&qe.state!=="inactive"&&(qe.stop(),qe=null),clearTimeout(Xe),Xe=null,clearTimeout(An))},ba=(e,t)=>{var r,i,c;const n=_r();(r=t.voice)!=null&&r.disabled||!((i=t.chatInput)!=null&&i.blockSpam)||!n||(e&&!ct?(ct=!0,(c=t.voice)!=null&&c.sendAsAudio?qe==null||qe.start():n.start()):e||Pr())},Br=async(e,t)=>{var n;(n=t.current)!=null&&n.disabled||await e(),Pr()},Rr=()=>{const{settings:e}=le(),{voiceToggledOn:t,setSyncedVoiceToggledOn:n,syncedVoiceToggledOnRef:r}=_e(),{dispatchRcbEvent:i}=Ve(),c=v.useCallback(async p=>{var m;p!==r.current&&((m=e.event)!=null&&m.rcbToggleVoice&&(await i(X.TOGGLE_VOICE,{currState:r.current,newState:!r.current})).defaultPrevented||n(h=>!h))},[r]),u=v.useCallback(p=>{ba(p,e)},[e]);return{voiceToggledOn:t,toggleVoice:c,syncVoice:u}},Ot=()=>{var H;const{settings:e}=le(),{inputLength:t,setInputLength:n,textAreaDisabled:r,setSyncedTextAreaDisabled:i,textAreaSensitiveMode:c,setSyncedTextAreaSensitiveMode:u,syncedTextAreaDisabledRef:p,syncedTextAreaSensitiveModeRef:m}=_e(),{inputRef:h,chatBodyRef:b,prevInputRef:S}=Oe(),{dispatchRcbEvent:I}=Ve(),{getIsChatBotVisible:O}=Ue(),w=v.useCallback(async N=>{var D,G,q;if(p.current&&h.current){h.current.value="";return}if(h.current&&S.current!==null){const W=(D=e.chatInput)==null?void 0:D.characterLimit,$=((G=e.chatInput)==null?void 0:G.allowNewline)?N:N.replace(/\n/g," ");if(W!=null&&W>=0&&$.length>W?h.current.value=$.slice(0,W):h.current.value=$,(q=e.event)!=null&&q.rcbTextAreaChangeValue&&(await I(X.TEXT_AREA_CHANGE_VALUE,{currValue:h.current.value,prevValue:S.current})).defaultPrevented){h.current.value=S.current;return}S.current=h.current.value}},[p,h,S,e,I]),P=v.useCallback(N=>{var D;(D=h.current)!=null&&D.disabled||setTimeout(()=>{var G,q,W;(G=e.general)!=null&&G.embedded?O()&&((q=h.current)==null||q.focus()):N!=="start"&&((W=h.current)==null||W.focus())},100)},[h,(H=e.general)==null?void 0:H.embedded,b,O]),k=v.useCallback(()=>{h.current&&h.current.focus()},[]),j=v.useCallback(()=>{h.current&&h.current.blur()},[]),M=v.useCallback(()=>h&&h.current?h.current.value:"",[]),F=v.useCallback(N=>{N!==p.current&&i(D=>!D)},[p]),V=v.useCallback(N=>{N!==m.current&&u(D=>!D)},[m]);return{textAreaDisabled:r,setSyncedTextAreaDisabled:i,textAreaSensitiveMode:c,setSyncedTextAreaSensitiveMode:u,inputLength:t,setInputLength:n,getTextAreaValue:M,setTextAreaValue:w,updateTextAreaFocus:P,focusTextArea:k,blurTextArea:j,toggleTextAreaDisabled:F,toggleTextAreaSensitiveMode:V}},$o=v.createContext({toasts:[],setSyncedToasts:()=>{},syncedToastsRef:{current:[]}}),zo=()=>v.useContext($o),Sa=({children:e})=>{const[t,n,r]=ze([]);return x.jsx($o.Provider,{value:{toasts:t,setSyncedToasts:n,syncedToastsRef:r},children:e})},In=()=>{const{settings:e}=le(),{toasts:t,setSyncedToasts:n,syncedToastsRef:r}=zo(),{dispatchRcbEvent:i}=Ve(),c=v.useCallback(async(m,h)=>{var w,P,k,j;let b=null;if(r.current.length>=(((w=e.toast)==null?void 0:w.maxCount)??3)){if((P=e.toast)!=null&&P.forbidOnMax)return null;b=Cn();let M={id:b,content:m,timeout:h};if((k=e.event)!=null&&k.rcbShowToast){const F=await i(X.SHOW_TOAST,{toast:M});if(F.defaultPrevented)return null;M=F.data.toast}return n(F=>[...F.slice(1),M]),b}b=Cn();let O={id:b,content:m,timeout:h};if((j=e.event)!=null&&j.rcbShowToast){const M=await i(X.SHOW_TOAST,{toast:O});if(M.defaultPrevented)return null;O=M.data.toast}return n(M=>[...M,O]),b},[e,i]),u=v.useCallback(async m=>{var b;const h=r.current.find(S=>S.id===m);return!h||(b=e.event)!=null&&b.rcbDismissToast&&(await i(X.DISMISS_TOAST,{toast:h})).defaultPrevented?null:(n(S=>S.filter(I=>I.id!==m)),m)},[i]),p=v.useCallback(m=>{n(m)},[]);return{showToast:c,dismissToast:u,toasts:t,replaceToasts:p}},jr=()=>{var de,ie,pe,ue,fe;const{settings:e}=le(),{paths:t,setSyncedPaths:n,syncedPathsRef:r}=Kt(),{flowRef:i,streamMessageMap:c,paramsInputRef:u,keepVoiceOnRef:p,timeoutIdRef:m}=Oe(),{setSyncedIsBotTyping:h,setSyncedTextAreaDisabled:b,setSyncedTextAreaSensitiveMode:S,blockAllowsAttachment:I,setBlockAllowsAttachment:O}=_e(),{dispatchRcbEvent:w}=Ve(),{endStreamMessage:P,injectMessage:k,removeMessage:j,simulateStreamMessage:M,streamMessage:F}=Zt(),{showToast:V,dismissToast:H}=In(),{toggleChatWindow:N}=Ue(),{updateTextAreaFocus:D,setTextAreaValue:G}=Ot(),{syncVoice:q}=Rr(),W=v.useCallback(async re=>{var he;if((he=e.event)!=null&&he.rcbPostProcessBlock){const Y=await w(X.POST_PROCESS_BLOCK,{block:re});if(Y.defaultPrevented)return null;re=Y.data.block}return re},[(de=e.event)==null?void 0:de.rcbPostProcessBlock,w]),L=v.useCallback(async(re,he)=>{var be,we,Se,ke;if(!re)return;let Y=i.current[re];if(!Y){h(!1);return}if((be=e.event)!=null&&be.rcbPreProcessBlock){const Ce=await w(X.PRE_PROCESS_BLOCK,{block:Y});if(Ce.defaultPrevented)return;Y=Ce.data.block}h(!0),(we=e.chatInput)!=null&&we.blockSpam&&b(!0),S(!1);const oe={prevPath:he,currPath:re,goToPath:K,setTextAreaValue:G,userInput:u.current,endStreamMessage:P,injectMessage:k,removeMessage:j,simulateStreamMessage:M,streamMessage:F,toggleChatWindow:N,showToast:V,dismissToast:H};await Ji(Y,oe,((Se=e.botBubble)==null?void 0:Se.simulateStream)??!1,m,b,S,W),h(!1),"chatDisabled"in Y||b((ke=e.chatInput)==null?void 0:ke.disabled),"isSensitive"in Y||S(!1),O(typeof Y.file=="function"),D(re),q(p.current&&!Y.chatDisabled),re!==he&&c.current.clear()},[i,D,q,(ie=e.botBubble)==null?void 0:ie.simulateStream,(pe=e.chatInput)==null?void 0:pe.disabled,u,P,k,j,M,F,N,V,H,p,c]),$=v.useCallback(()=>r.current.length>0?r.current.at(-1)??null:null,[]),J=v.useCallback(()=>r.current.length>1?r.current.at(-2)??null:null,[]),K=v.useCallback(async re=>{var oe;const he=$(),Y=J();return(oe=e.event)!=null&&oe.rcbChangePath&&(await w(X.CHANGE_PATH,{currPath:he,prevPath:Y,nextPath:re})).defaultPrevented?!1:(n(be=>[...be,re]),await L(re,he),!0)},[(ue=e.chatInput)==null?void 0:ue.blockSpam,(fe=e.event)==null?void 0:fe.rcbChangePath,L,w]),Z=v.useCallback(re=>{n(re)},[]);return{getCurrPath:$,getPrevPath:J,goToPath:K,blockAllowsAttachment:I,setBlockAllowsAttachment:O,paths:t,replacePaths:Z,firePostProcessBlockEvent:W}},_t=()=>{var de,ie,pe,ue;const{settings:e}=le(),{endStreamMessage:t,injectMessage:n,removeMessage:r,simulateStreamMessage:i,streamMessage:c}=Zt(),{syncedPathsRef:u}=Kt(),{getCurrPath:p,getPrevPath:m,goToPath:h,firePostProcessBlockEvent:b}=jr(),{setSyncedTextAreaSensitiveMode:S,setSyncedTextAreaDisabled:I,setSyncedIsBotTyping:O,setBlockAllowsAttachment:w,setInputLength:P,syncedVoiceToggledOnRef:k,syncedTextAreaSensitiveModeRef:j}=_e(),{flowRef:M,inputRef:F,keepVoiceOnRef:V,paramsInputRef:H,timeoutIdRef:N}=Oe(),{showToast:D,dismissToast:G}=In(),{dispatchRcbEvent:q}=Ve(),{syncVoice:W}=Rr(),{setTextAreaValue:L}=Ot(),{toggleChatWindow:$}=Ue(),J=v.useCallback(async fe=>{var Y,oe,be,we,Se,ke;const re=p();if(!(!re||!M.current[re])){if(j.current){if((Y=e==null?void 0:e.sensitiveInput)!=null&&Y.hideInUserBubble)return;if((oe=e==null?void 0:e.sensitiveInput)!=null&&oe.maskInUserBubble){(be=e.userBubble)!=null&&be.simulateStream?await i("*".repeat(((we=e.sensitiveInput)==null?void 0:we.asterisksCount)??10),"USER"):await n("*".repeat(((Se=e.sensitiveInput)==null?void 0:Se.asterisksCount)??10),"USER");return}}(ke=e.userBubble)!=null&&ke.simulateStream?await i(fe,"USER"):await n(fe,"USER")}},[M,p,e,n,i,j]),K=v.useCallback(async(fe,re=!0)=>{var be,we;if(fe=fe.trim(),fe==="")return;re&&await J(fe),N.current&&clearTimeout(N.current),F.current&&(L(""),P(0));const he=p();if(!he)return;let Y=M.current[he];const oe=await b(Y);oe&&((be=e.chatInput)!=null&&be.blockSpam&&I(!0),V.current=k.current,W(!1),setTimeout(()=>{O(!0)},400),S(!1),setTimeout(async()=>{var Ce;const Se={prevPath:m(),currPath:p(),goToPath:h,setTextAreaValue:L,userInput:H.current,injectMessage:n,simulateStreamMessage:i,streamMessage:c,removeMessage:r,endStreamMessage:t,toggleChatWindow:$,showToast:D,dismissToast:G},ke=u.current.length;await Ro(oe,Se),u.current.length===ke&&("chatDisabled"in Y?I(!!Y.chatDisabled):I(!!((Ce=e.chatInput)!=null&&Ce.disabled)),Bo(Y,Se,S),w(typeof Y.file=="function"),W(V.current),O(!1))},(we=e.chatInput)==null?void 0:we.botDelay))},[N,(de=e.chatInput)==null?void 0:de.blockSpam,(ie=e.chatInput)==null?void 0:ie.botDelay,(pe=e.chatInput)==null?void 0:pe.disabled,V,k,W,J,m,p,h,n,i,c,r,t,$,D,G,M]);return{handleSubmitText:v.useCallback(async(fe,re=!0)=>{var Y,oe;fe=fe??((Y=F.current)==null?void 0:Y.value),!((oe=e.event)!=null&&oe.rcbUserSubmitText&&(await q(X.USER_SUBMIT_TEXT,{inputText:fe,sendInChat:re})).defaultPrevented||!p())&&K(fe,re)},[q,p,K,F,(ue=e.event)==null?void 0:ue.rcbUserSubmitText])}},On=()=>{var n;const{settings:e}=le();return v.useMemo(()=>{var u;if(typeof window>"u"||!window.navigator)return!1;if(!((u=e.device)!=null&&u.applyMobileOptimizations))return!0;const r=navigator.userAgent,i=!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r),c=window.innerWidth>=768;return i&&c},[(n=e.device)==null?void 0:n.applyMobileOptimizations])},xa=({buttons:e})=>{var J,K,Z,de,ie,pe,ue,fe,re,he;const t=On(),{settings:n}=le(),{styles:r}=me(),{textAreaDisabled:i,textAreaSensitiveMode:c,inputLength:u,hasFlowStarted:p,setHasFlowStarted:m,setInputLength:h}=_e(),{inputRef:b}=Oe(),[S,I]=v.useState(!1),[O,w]=v.useState(!1),{handleSubmitText:P}=_t(),{setTextAreaValue:k}=Ot(),j={boxSizing:t?"content-box":"border-box",...r.chatInputAreaStyle},M={outline:i?"":"none",border:i?"":"1px solid #088586",boxSizing:t?"content-box":"border-box",...r.chatInputAreaStyle,...r.chatInputAreaFocusedStyle},F={cursor:`url("${(J=n.general)==null?void 0:J.actionDisabledIcon}"), auto`,caretColor:"transparent",boxSizing:t?"content-box":"border-box",...r.chatInputAreaStyle,...r.chatInputAreaDisabledStyle},V={color:"#989898",...r.characterLimitStyle},H={color:"#ff0000",...r.characterLimitReachedStyle},N=i?(K=n.chatInput)==null?void 0:K.disabledPlaceholderText:(Z=n.chatInput)==null?void 0:Z.enabledPlaceholderText,D=()=>{i||I(!0)},G=()=>{I(!1)},q=()=>{w(!0)},W=()=>{w(!1)},L=async Y=>{var oe;if(!O&&Y.key==="Enter"){if(Y.shiftKey){(oe=n.chatInput)!=null&&oe.allowNewline||Y.preventDefault();return}Y.preventDefault(),await P()}},$=Y=>{b.current&&(k(Y.target.value),h(b.current.value.length))};return x.jsxs("div",{"aria-label":((de=n.ariaLabel)==null?void 0:de.inputTextArea)??"input text area",role:"textbox",onMouseDown:Y=>{var oe;Y.stopPropagation(),!p&&((oe=n.general)==null?void 0:oe.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&m(!0)},style:{...r.chatInputContainerStyle},className:"rcb-chat-input",children:[c&&((ie=n.sensitiveInput)!=null&&ie.maskInTextArea)?x.jsx("input",{ref:b,type:"password",className:"rcb-chat-input-textarea",style:i?F:S?M:j,placeholder:N,onChange:$,onKeyDown:L,onFocus:D,onBlur:G,onCompositionStart:q,onCompositionEnd:W}):x.jsx("input",{ref:b,style:i?F:S?M:j,className:"rcb-chat-input-textarea",placeholder:N,onChange:$,onKeyDown:L,onFocus:D,onBlur:G,onCompositionStart:q,onCompositionEnd:W}),x.jsxs(x.Fragment,{children:[e==null?void 0:e.map((Y,oe)=>x.jsx(v.Fragment,{children:Y},oe)),((pe=n.chatInput)==null?void 0:pe.showCharacterCount)&&((ue=n.chatInput)==null?void 0:ue.characterLimit)!=null&&((fe=n.chatInput)==null?void 0:fe.characterLimit)>0&&x.jsxs("div",{className:"rcb-chat-input-char-counter",style:u>=((re=n.chatInput)==null?void 0:re.characterLimit)?H:V,children:[u,"/",(he=n.chatInput)==null?void 0:he.characterLimit]})]})]})},wa=({buttons:e})=>{var r;const{settings:t}=le(),{styles:n}=me();return x.jsxs("div",{"data-testid":"chatbot-footer-container",style:{...n.footerStyle},className:"rcb-chat-footer-container",children:[x.jsx("div",{className:"rcb-chat-footer",children:e==null?void 0:e.map((i,c)=>x.jsx(v.Fragment,{children:i},c))}),x.jsx("span",{children:(r=t.footer)==null?void 0:r.text})]})},va=()=>{var p,m,h,b,S;const{settings:e}=le(),{styles:t}=me(),{unreadCount:n}=_e(),{isChatWindowOpen:r,toggleChatWindow:i}=Ue(),c={backgroundColor:"rgb(8, 133, 134)",...t.chatButtonStyle};({backgroundImage:`${(p=e.chatButton)==null?void 0:p.icon}`,...t.chatIconStyle});const u=()=>{var I;return x.jsx("span",{className:"rcb-toggle-icon",children:(I=e.chatButton)==null?void 0:I.icon})};return x.jsx(x.Fragment,{children:!((m=e.general)!=null&&m.embedded)&&x.jsxs("div",{"aria-label":((h=e.ariaLabel)==null?void 0:h.chatButton)??"open chat",role:"button",style:c,className:`rcb-toggle-button ${r?"rcb-button-hide":"rcb-button-show"}`,onClick:()=>i(!0),children:[u(),!((b=e.notification)!=null&&b.disabled)&&((S=e.notification)==null?void 0:S.showCount)&&x.jsx("span",{style:{...t.notificationBadgeStyle},className:"rcb-badge",children:n})]})})},Ca=()=>{var w,P,k,j;const e=On(),{settings:t}=le(),{styles:n}=me(),{chatBodyRef:r}=Oe(),{isChatWindowOpen:i,toggleChatWindow:c}=Ue(),[u,p]=v.useState(!1),[m,h]=v.useState(!1),[b,S]=v.useState(0);v.useEffect(()=>{var F,V,H;const M=(F=t.tooltip)==null?void 0:F.mode;if(M==="ALWAYS")if(e){let N;i?N=(((V=r.current)==null?void 0:V.offsetWidth)??375)-(typeof((H=n.chatButtonStyle)==null?void 0:H.width)=="number"?n.chatButtonStyle.width:75):N=0,S(N),p(!0)}else p(!i);else M==="NEVER"?p(!1):M==="START"?m?p(!1):(h(!0),p(!0)):M==="CLOSE"&&p(!i)},[i]);const I={transform:`translateX(-${b}px)`,right:(((w=n.chatButtonStyle)==null?void 0:w.width)??75)+40,bottom:30,backgroundColor:(P=t.general)==null?void 0:P.secondaryColor,color:"#fff",...n.tooltipStyle},O={borderColor:`transparent transparent transparent ${I.backgroundColor}`};return x.jsx(x.Fragment,{children:!((k=t.general)!=null&&k.embedded)&&x.jsxs("div",{"data-testid":"chat-tooltip",style:I,className:`rcb-chat-tooltip ${u?"rcb-tooltip-show":"rcb-tooltip-hide"}`,onClick:()=>c(!0),children:[x.jsx("span",{children:(j=t.tooltip)==null?void 0:j.text}),x.jsx("span",{className:"rcb-chat-tooltip-tail",style:O})]})})},Ta=({id:e,content:t,timeout:n})=>{var I,O;const{settings:r}=le(),{styles:i}=me(),[c]=v.useState({toastPromptStyle:{...i.toastPromptStyle},toastPromptHoveredStyle:{...i.toastPromptHoveredStyle}}),{dismissToast:u}=In(),[p,m]=v.useState(!1),h={color:(I=r.general)==null?void 0:I.primaryColor,borderColor:(O=r.general)==null?void 0:O.primaryColor,...c.toastPromptHoveredStyle};v.useEffect(()=>{if(n){const w=setTimeout(()=>{u(e)},n);return()=>clearTimeout(w)}},[e,u,n]);const b=()=>{m(!0)},S=()=>{m(!1)};return typeof t=="string"?x.jsx("div",{onMouseEnter:b,onMouseLeave:S,style:p?h:c.toastPromptStyle,onMouseDown:async w=>{var P;(P=r.toast)!=null&&P.dismissOnClick&&(w.preventDefault(),await u(e))},className:"rcb-toast-prompt",children:t}):x.jsx(x.Fragment,{children:t})},ka=()=>{var r,i,c,u,p,m,h,b,S,I,O,w;const{styles:e}=me(),{toasts:t}=zo(),n={bottom:`calc(${typeof((r=e.footerStyle)==null?void 0:r.height)=="number"?`${(i=e.footerStyle)==null?void 0:i.height}px`:((c=e.footerStyle)==null?void 0:c.height)??"50px"} + ${typeof((u=e.chatInputContainerStyle)==null?void 0:u.height)=="number"?`${(p=e.chatInputContainerStyle)==null?void 0:p.height}px`:((m=e.chatInputContainerStyle)==null?void 0:m.height)??"70px"} + 20px)`,width:300,minWidth:`calc(${typeof((h=e.chatWindowStyle)==null?void 0:h.width)=="number"?`${(b=e.chatWindowStyle)==null?void 0:b.width}px`:((S=e.chatWindowStyle)==null?void 0:S.width)??"375px"} / 2)`,maxWidth:`calc(${typeof((I=e.chatWindowStyle)==null?void 0:I.width)=="number"?`${(O=e.chatWindowStyle)==null?void 0:O.width}px`:((w=e.chatWindowStyle)==null?void 0:w.width)??"375px"} - 50px)`,...e.toastPromptContainerStyle};return x.jsx("div",{className:"rcb-toast-prompt-container",style:n,children:t.map(P=>x.jsx(Ta,{id:P.id,content:P.content,timeout:P.timeout},P.id))})},Vo=({file:e,fileType:t,fileUrl:n})=>{var u,p,m;const{settings:r}=le(),{styles:i}=me(),c={backgroundColor:(u=r.general)==null?void 0:u.primaryColor,maxWidth:(p=r.userBubble)!=null&&p.showAvatar?"65%":"70%",...i.mediaDisplayContainerStyle};return x.jsx(x.Fragment,{children:n?x.jsxs(x.Fragment,{children:[t==="image"&&n&&x.jsx("div",{style:c,className:"rcb-media-display-image-container rcb-media-entry","data-testid":"media-display-image-container",children:x.jsx("img",{src:n,alt:"Image Display",className:"rcb-media-display-image"})}),t==="video"&&n&&x.jsx("div",{style:c,className:"rcb-media-display-video-container rcb-media-entry","data-testid":"media-display-video-container",children:x.jsxs("video",{controls:!0,className:"rcb-media-display-video",children:[x.jsx("source",{src:n,type:e.type}),"Your browser does not support the video tag."]})}),t==="audio"&&n&&x.jsxs("audio",{"data-testid":"media-display-audio-container",style:{maxWidth:(m=r.userBubble)!=null&&m.showAvatar?"65%":"70%"},controls:!0,className:"rcb-media-display-audio rcb-media-entry",children:[x.jsx("source",{src:n,type:e.type}),"Your browser does not support the audio tag."]})]}):x.jsx(x.Fragment,{})})},qo=async e=>{if(!e)return{fileType:null,fileUrl:null};const t=e.type.split("/")[0];if(!["image","video","audio"].includes(t))return{fileType:null,fileUrl:null};try{const n=await new Promise((r,i)=>{const c=new FileReader;c.onload=()=>r(c.result),c.onerror=()=>i(new Error("File reading failed")),c.readAsDataURL(e)});return{fileType:t,fileUrl:n}}catch(n){return console.error(n),{fileType:null,fileUrl:null}}},Ea=()=>{var q,W,L,$,J,K;const{settings:e}=le(),{styles:t}=me(),{injectMessage:n,simulateStreamMessage:r,streamMessage:i,removeMessage:c,endStreamMessage:u}=Zt(),{getCurrPath:p,getPrevPath:m,goToPath:h,blockAllowsAttachment:b}=jr(),{flowRef:S,inputRef:I}=Oe(),O=S.current,{showToast:w,dismissToast:P}=In(),{dispatchRcbEvent:k}=Ve(),{toggleChatWindow:j}=Ue(),{setTextAreaValue:M}=Ot(),{handleSubmitText:F}=_t(),V={cursor:`url("${(q=e.general)==null?void 0:q.actionDisabledIcon}"), auto`,...t.fileAttachmentButtonStyle,...t.fileAttachmentButtonDisabledStyle},H={backgroundImage:`url(${(W=e.fileAttachment)==null?void 0:W.icon})`,fill:"#a6a6a6",...t.fileAttachmentIconStyle},N={backgroundImage:`url(${(L=e.fileAttachment)==null?void 0:L.icon})`,fill:"#a6a6a6",...t.fileAttachmentIconStyle,...t.fileAttachmentIconDisabledStyle},D=async Z=>{var re,he,Y,oe;const de=Z.target.files;if(!de)return;const ie=Array.from(de);if(Z.target.value="",(re=e.event)!=null&&re.rcbUserUploadFile&&(await k(X.USER_UPLOAD_FILE,{files:ie})).defaultPrevented)return;const pe=p();if(!pe)return;const ue=O[pe];if(!ue)return;const fe=ue.file;if(fe!=null){const be=[];for(let we=0;we<ie.length;we++){if(be.push(ie[we].name),!((he=e.fileAttachment)!=null&&he.showMediaDisplay))continue;const Se=await qo(ie[we]);!Se.fileType||!Se.fileUrl||await n(x.jsx(Vo,{file:ie[we],fileType:Se.fileType,fileUrl:Se.fileUrl}),"USER")}await F("📄 "+be.join(", "),(Y=e.fileAttachment)==null?void 0:Y.sendFileName),await fe({userInput:(oe=I.current)==null?void 0:oe.value,prevPath:m(),currPath:p(),goToPath:h,setTextAreaValue:M,injectMessage:n,simulateStreamMessage:r,streamMessage:i,removeMessage:c,endStreamMessage:u,toggleChatWindow:j,showToast:w,dismissToast:P,files:ie})}},G=()=>{var de,ie;const Z=b?(de=e.fileAttachment)==null?void 0:de.icon:(ie=e.fileAttachment)==null?void 0:ie.iconDisabled;return!Z||typeof Z=="string"?x.jsx("span",{className:b?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",style:b?H:N}):Z&&x.jsx("span",{className:b?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",children:x.jsx(Z,{style:b?H:N})})};return x.jsxs("label",{"aria-label":(($=e.ariaLabel)==null?void 0:$.fileAttachmentButton)??"upload file",role:"button",className:b?"rcb-attach-button-enabled":"rcb-attach-button-disabled",style:b?{...t.fileAttachmentButtonStyle}:V,children:[x.jsx("input",{className:"rcb-attach-input",role:"file",type:"file",onChange:D,multiple:(J=e.fileAttachment)==null?void 0:J.multiple,accept:(K=e.fileAttachment)==null?void 0:K.accept,disabled:!b}),G()]})},Aa=()=>{var k,j,M,F,V,H;const{settings:e}=le(),{styles:t}=me(),{syncedTextAreaDisabledRef:n}=_e(),{inputRef:r}=Oe(),{textAreaDisabled:i,setTextAreaValue:c}=Ot(),u=v.useRef(null),p=v.useRef(null),[m,h]=v.useState(!1),b={cursor:`url("${(k=e.general)==null?void 0:k.actionDisabledIcon}"), auto`,...t.emojiButtonStyle,...t.emojiButtonDisabledStyle},S={backgroundImage:`url(${(j=e.emoji)==null?void 0:j.icon})`,fill:"#a6a6a6",...t.emojiIconStyle},I={backgroundImage:`url(${(M=e.emoji)==null?void 0:M.icon})`,fill:"#a6a6a6",...t.emojiIconStyle,...t.emojiIconDisabledStyle};v.useEffect(()=>{const N=q=>{const W=q.composedPath();u.current&&!W.includes(u.current)&&p.current&&!W.includes(p.current)&&h(!1)},D=()=>{if(u.current&&p.current){const q=p.current.getBoundingClientRect(),W=u.current.offsetHeight,L=q.top-W-8;u.current.style.left=`${q.left}px`,u.current.style.top=`${L}px`}},G=()=>{D()};return document.addEventListener("mousedown",N),window.addEventListener("resize",G),()=>{document.removeEventListener("mousedown",N),window.removeEventListener("resize",G)}},[]);const O=(N,D)=>{N.preventDefault(),r.current&&(c(r.current.value+D),setTimeout(()=>{const G=r.current;if(G){G.focus();const q=G.value.length;G.setSelectionRange(q,q)}},50)),h(!1)},w=N=>{N.preventDefault(),n.current?h(!1):h(D=>!D)},P=()=>{var D,G;const N=i?(D=e.emoji)==null?void 0:D.iconDisabled:(G=e.emoji)==null?void 0:G.icon;return!N||typeof N=="string"?x.jsx("span",{className:`${i?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,style:i?I:S}):N&&x.jsx("span",{className:`${i?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,children:x.jsx(N,{style:i?I:S})})};return x.jsxs(x.Fragment,{children:[x.jsx("div",{"aria-label":((F=e.ariaLabel)==null?void 0:F.emojiButton)??"emoji picker",role:"button",ref:p,className:`${i?"rcb-emoji-button-disabled":"rcb-emoji-button-enabled"}`,style:i?b:{...t.emojiButtonStyle},onMouseDown:w,children:P()}),m&&x.jsx("div",{className:"rcb-emoji-button-popup",ref:u,children:(H=(V=e.emoji)==null?void 0:V.list)==null?void 0:H.map((N,D)=>x.jsx("span",{className:"rcb-emoji",onMouseDown:G=>O(G,N),children:N},D))})]})},Ia=()=>{var p,m,h;const{settings:e}=le(),{styles:t}=me(),{audioToggledOn:n,toggleAudio:r}=Ho(),i={backgroundImage:`url(${(p=e.audio)==null?void 0:p.icon})`,fill:"#fcec3d",...t.audioIconStyle},c={backgroundImage:`url(${(m=e.audio)==null?void 0:m.iconDisabled})`,fill:"#e8eaed",...t.audioIconStyle,...t.audioIconDisabledStyle},u=()=>{var S,I;const b=n?(S=e.audio)==null?void 0:S.icon:(I=e.audio)==null?void 0:I.iconDisabled;return!b||typeof b=="string"?x.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",style:n?i:c}):b&&x.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",children:x.jsx(b,{style:n?i:c,"data-testid":"rcb-audio-icon-svg"})})};return x.jsx("div",{"aria-label":((h=e.ariaLabel)==null?void 0:h.audioButton)??"toggle audio",role:"button",onMouseDown:async b=>{b.preventDefault(),await r()},style:n?{...t.audioButtonStyle}:{...t.audioButtonStyle,...t.audioButtonDisabledStyle},children:u()})},Oa=()=>{var i;const{settings:e}=le(),{styles:t}=me(),{toggleChatWindow:n}=Ue(),r=()=>{var c;return x.jsx("span",{className:"rcb-close-chat-icon","data-testid":"rcb-close-chat-icon",children:(c=e.header)==null?void 0:c.closeChatIcon})};return x.jsx("div",{"aria-label":((i=e.ariaLabel)==null?void 0:i.closeChatButton)??"close chat",role:"button",onMouseDown:c=>{c.stopPropagation(),n(!1)},style:{...t.closeChatButtonStyle},children:r()})},_a=()=>{const{notificationsToggledOn:e,toggleNotifications:t,playNotificationSound:n}=Ir();return{notificationsToggledOn:e,toggleNotifications:t,playNotificationSound:n}},Pa=()=>{var p,m,h;const{settings:e}=le(),{styles:t}=me(),{notificationsToggledOn:n,toggleNotifications:r}=_a(),i={backgroundImage:`url(${(p=e.notification)==null?void 0:p.icon})`,fill:"#fcec3d",...t.notificationIconStyle},c={backgroundImage:`url(${(m=e.notification)==null?void 0:m.iconDisabled})`,fill:"#e8eaed",...t.notificationIconStyle,...t.notificationIconDisabledStyle},u=()=>{var S,I;const b=n?(S=e.notification)==null?void 0:S.icon:(I=e.notification)==null?void 0:I.iconDisabled;return!b||typeof b=="string"?x.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",style:n?i:c}):b&&x.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",children:x.jsx(b,{style:n?i:c,"data-testid":"rcb-notification-icon-svg"})})};return x.jsx("div",{"aria-label":((h=e.ariaLabel)==null?void 0:h.notificationButton)??"toggle notifications",role:"button",onMouseDown:async b=>{b.preventDefault(),await r()},style:n?{...t.notificationButtonStyle}:{...t.notificationButtonStyle,...t.notificationButtonDisabledStyle},children:u()})},Ba=()=>{var M,F,V;const{settings:e}=le(),{styles:t}=me(),{injectMessage:n}=Zt(),{inputRef:r}=Oe(),{voiceToggledOn:i,toggleVoice:c}=Rr(),{setInputLength:u,setTextAreaValue:p,textAreaDisabled:m}=Ot(),{handleSubmitText:h}=_t(),b=v.useRef([]),[S,I]=v.useState(!1);v.useEffect(()=>{var H;(H=e.voice)!=null&&H.sendAsAudio?(k(),b.current=[]):h()},[S]),v.useEffect(()=>{i?ma(e,c,P,p,u,b,r):Pr()},[i]);const O={backgroundImage:`url(${(M=e.voice)==null?void 0:M.icon})`,fill:"#9aa0a6",...t.voiceIconStyle},w={backgroundImage:`url(${(F=e.voice)==null?void 0:F.iconDisabled})`,fill:"#9aa0a6",...t.voiceIconStyle,...t.voiceIconDisabledStyle},P=()=>{I(H=>!H)},k=async()=>{const H=new Blob(b.current,{type:"audio/wav"}),N=new File([H],"voice-input.wav",{type:"audio/wav"}),D=await qo(N);!D.fileType||!D.fileUrl||await n(x.jsx(Vo,{file:N,fileType:D.fileType,fileUrl:D.fileUrl}),"USER")},j=()=>{var N,D;const H=i?(N=e.voice)==null?void 0:N.icon:(D=e.voice)==null?void 0:D.iconDisabled;return!H||typeof H=="string"?x.jsx("span",{className:`rcb-voice-icon${i&&!m?"-on":""}`,"data-testid":"rcb-voice-icon",style:i&&!m?O:w}):H&&x.jsx("span",{className:`rcb-voice-icon ${i&&!m?"on":""}`,children:x.jsx(H,{style:i&&!m?O:w})})};return x.jsx("div",{"aria-label":((V=e.ariaLabel)==null?void 0:V.voiceButton)??"toggle voice",role:"button",onMouseDown:async H=>{H.preventDefault(),!m&&await c()},style:i&&!m?{...t.voiceButtonStyle}:{...t.voiceButtonStyle,...t.voiceButtonDisabledStyle},className:i&&!m?"rcb-voice-button-enabled":"rcb-voice-button-disabled",children:j()})},Ra=()=>{var S,I,O,w,P;const{settings:e}=le(),{styles:t}=me(),{textAreaDisabled:n}=_e(),[r,i]=v.useState(!1),{handleSubmitText:c}=_t(),u={backgroundColor:(S=e.general)==null?void 0:S.secondaryColor,...t.sendButtonStyle},p={cursor:`url("${(I=e.general)==null?void 0:I.actionDisabledIcon}"), auto`,backgroundColor:"#93c2c3",...t.sendButtonStyle,...t.sendButtonDisabledStyle},m={backgroundColor:(O=e.general)==null?void 0:O.secondaryColor,...t.sendButtonStyle,...t.sendButtonHoveredStyle},h=()=>{i(!0)},b=()=>{i(!1)};return x.jsx("div",{"aria-label":((w=e.ariaLabel)==null?void 0:w.sendButton)??"send message",role:"button",onMouseEnter:h,onMouseLeave:b,onMouseDown:async k=>{k==null||k.preventDefault(),!n&&await c()},style:n?p:r?m:u,className:"rcb-send-button",children:(P=e.chatInput)==null?void 0:P.sendButtonIcon})},ja=e=>Object.values(Ie).includes(e),Ma=(e,t)=>{var m,h,b,S,I,O,w,P,k;const n={[Ie.AUDIO_BUTTON]:(m=e.audio)==null?void 0:m.disabled,[Ie.CLOSE_CHAT_BUTTON]:(h=e.general)==null?void 0:h.embedded,[Ie.EMOJI_PICKER_BUTTON]:(b=e.emoji)==null?void 0:b.disabled,[Ie.FILE_ATTACHMENT_BUTTON]:(S=e.fileAttachment)==null?void 0:S.disabled,[Ie.NOTIFICATION_BUTTON]:(I=e.notification)==null?void 0:I.disabled,[Ie.SEND_MESSAGE_BUTTON]:!1,[Ie.VOICE_MESSAGE_BUTTON]:(O=e.voice)==null?void 0:O.disabled},r={},i=j=>j?j.map(M=>{if(typeof M=="string"){if(ja(M)&&!n[M]){if(r[M])return r[M];const F=t[M];if(typeof F=="function"){const V=F();return r[M]=V,V}return null}return null}return M}).filter(M=>M!==null):[],c=i((w=e.header)==null?void 0:w.buttons),u=i((P=e.chatInput)==null?void 0:P.buttons),p=i((k=e.footer)==null?void 0:k.buttons);return{header:c,chatInput:u,footer:p}},Na=()=>x.jsx(Ia,{}),Da=()=>x.jsx(Pa,{}),Fa=()=>x.jsx(Oa,{}),La=()=>x.jsx(Ba,{}),Ua=()=>x.jsx(Ra,{}),Ha=()=>x.jsx(Ea,{}),$a=()=>x.jsx(Aa,{}),za=()=>{const{settings:e}=le(),t=v.useMemo(()=>({[Ie.CLOSE_CHAT_BUTTON]:()=>Fa(),[Ie.AUDIO_BUTTON]:()=>Na(),[Ie.NOTIFICATION_BUTTON]:()=>Da(),[Ie.EMOJI_PICKER_BUTTON]:()=>$a(),[Ie.FILE_ATTACHMENT_BUTTON]:()=>Ha(),[Ie.SEND_MESSAGE_BUTTON]:()=>Ua(),[Ie.VOICE_MESSAGE_BUTTON]:()=>La()}),[]),{header:n,chatInput:r,footer:i}=v.useMemo(()=>Ma(e,t),[e,t]),c=v.useMemo(()=>n,[n]),u=v.useMemo(()=>r,[r]),p=v.useMemo(()=>i,[i]);return{headerButtons:c,chatInputButtons:u,footerButtons:p}},Wo=()=>{const{settings:e}=le(),{styles:t}=me(),{setSyncedMessages:n,syncedMessagesRef:r}=Er(),{isLoadingChatHistory:i,setIsLoadingChatHistory:c,hasChatHistoryLoaded:u,setHasChatHistoryLoaded:p}=_e(),{chatBodyRef:m}=Oe(),{dispatchRcbEvent:h}=Ve(),b=v.useCallback(async()=>{var O,w;const S=Lo();if(!S||(O=e.event)!=null&&O.rcbLoadChatHistory&&(await h(X.LOAD_CHAT_HISTORY,{})).defaultPrevented)return;c(!0);const I=((w=m.current)==null?void 0:w.scrollHeight)??0;aa(e,t,S,n,r,m,I,c,p)},[e,t,h,r,m,c,p]);return{isLoadingChatHistory:i,setIsLoadingChatHistory:c,hasChatHistoryLoaded:u,showChatHistory:b}},Va=()=>{var m,h,b;const{settings:e}=le(),{styles:t}=me(),{showChatHistory:n}=Wo(),[r,i]=v.useState(!1),c={color:(m=e.general)==null?void 0:m.primaryColor,borderColor:(h=e.general)==null?void 0:h.primaryColor,...t.chatHistoryButtonStyle,...t.chatHistoryButtonHoveredStyle},u=()=>{i(!0)},p=()=>{i(!1)};return x.jsx("div",{className:"rcb-view-history-container",children:x.jsx("div",{onMouseEnter:u,onMouseLeave:p,style:r?c:{...t.chatHistoryButtonStyle},onMouseDown:S=>{S.preventDefault(),n()},className:"rcb-view-history-button",role:"button",tabIndex:0,children:x.jsx("p",{children:(b=e.chatHistory)==null?void 0:b.viewChatHistoryButtonText})})})},qa=()=>{var u;const{settings:e}=le(),{hasInteractedPage:t,setHasInteractedPage:n,hasFlowStarted:r,setHasFlowStarted:i}=_e(),c=v.useCallback(()=>{var m;if(n(!0),!r&&((m=e.general)==null?void 0:m.flowStartTrigger)==="ON_PAGE_INTERACT"&&i(!0),!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const p=new window.SpeechSynthesisUtterance;p.text="",p.onend=()=>{window.removeEventListener("click",c),window.removeEventListener("keydown",c),window.removeEventListener("touchstart",c)},window.speechSynthesis.speak(p)},[r,(u=e.general)==null?void 0:u.flowStartTrigger]);return{hasInteractedPage:t,handleFirstInteraction:c}},Wa=()=>{var D,G,q,W;const e=On(),{settings:t}=le(),{replaceMessages:n}=Zt(),{isBotTyping:r,isChatWindowOpen:i,setUnreadCount:c,setSyncedIsChatWindowOpen:u,setSyncedTextAreaDisabled:p,setSyncedAudioToggledOn:m,setSyncedVoiceToggledOn:h,setSyncedIsScrolling:b,syncedIsScrollingRef:S,syncedIsChatWindowOpenRef:I}=_e(),{chatBodyRef:O}=Oe(),{viewportHeight:w,setViewportHeight:P,setViewportWidth:k,scrollToBottom:j}=Ue(),{setUpNotifications:M}=Ir(),{handleFirstInteraction:F}=qa(),{showChatHistory:V}=Wo(),H=v.useRef(0),N=v.useRef(!1);v.useEffect(()=>(window.addEventListener("click",F),window.addEventListener("keydown",F),window.addEventListener("touchstart",F),()=>{window.removeEventListener("click",F),window.removeEventListener("keydown",F),window.removeEventListener("touchstart",F)}),[]),v.useEffect(()=>{const L=O.current;if(!L)return;const $=()=>{N.current||(N.current=!0,requestAnimationFrame(()=>{var ie,pe;if(!L)return;const{scrollTop:J,clientHeight:K,scrollHeight:Z}=L,de=J+K<Z-(((ie=t.chatWindow)==null?void 0:ie.messagePromptOffset)??30);b(de),S.current=de,de||(J+K>=Z-1&&(L.scrollTop=Z-K-1),(I.current||(pe=t.general)!=null&&pe.embedded)&&c(0)),N.current=!1}))};return L.addEventListener("wheel",$,{passive:!0}),L.addEventListener("touchmove",$,{passive:!0}),()=>{L.removeEventListener("wheel",$),L.removeEventListener("touchmove",$)}},[]),v.useEffect(()=>{var L,$,J;p((L=t.chatInput)==null?void 0:L.disabled),u(($=t.chatWindow)==null?void 0:$.defaultOpen),m((J=t.audio)==null?void 0:J.defaultToggledOn),setTimeout(()=>{var K;h((K=t.voice)==null?void 0:K.defaultToggledOn)},1)},[]),v.useEffect(()=>{var L;(L=t.notification)!=null&&L.disabled||M()},[(D=t.notification)==null?void 0:D.disabled]),v.useEffect(()=>{!S.current&&(O!=null&&O.current)&&j()},[r]),v.useEffect(()=>{var L,$;if((L=t.chatHistory)!=null&&L.disabled)oa();else if(sa(t),Lo().length>0){const K=lt(x.jsx(Va,{}),"SYSTEM");n([K]),($=t.chatHistory)!=null&&$.autoLoad&&V()}},[(G=t.chatHistory)==null?void 0:G.storageKey,(q=t.chatHistory)==null?void 0:q.maxEntries,(W=t.chatHistory)==null?void 0:W.disabled]),v.useEffect(()=>{var L;e||(L=t.general)!=null&&L.embedded||!navigator.virtualKeyboard||(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",$=>{if(!$.target)return;const{x:J,y:K,width:Z,height:de}=$.target.boundingRect;J==0&&K==0&&Z==0&&de==0?(setTimeout(()=>{var ie;P((ie=window.visualViewport)==null?void 0:ie.height)},101),setTimeout(()=>{var ie,pe;w!=((ie=window.visualViewport)==null?void 0:ie.height)&&P((pe=window.visualViewport)==null?void 0:pe.height)},1001)):setTimeout(()=>{var ie;P(((ie=window.visualViewport)==null?void 0:ie.height)-de)},101)}))},[e]),v.useEffect(()=>{var Z,de,ie,pe;if(e)return;i&&(P((Z=window.visualViewport)==null?void 0:Z.height),k((de=window.visualViewport)==null?void 0:de.width));const L=()=>window.scrollTo({top:0,left:0,behavior:"auto"}),$=()=>H.current=window.scrollY,J=()=>{var ue,fe;P((ue=window.visualViewport)==null?void 0:ue.height),k((fe=window.visualViewport)==null?void 0:fe.width)},K=()=>{var ue;window.removeEventListener("scroll",L),window.removeEventListener("scroll",$),(ue=window.visualViewport)==null||ue.removeEventListener("resize",J)};return i?(K(),document.body.style.position="fixed",window.addEventListener("scroll",L),(ie=window.visualViewport)==null||ie.addEventListener("resize",J)):(document.body.style.position="static",K(),window.scrollTo({top:H.current,left:0,behavior:"auto"}),window.addEventListener("scroll",$),(pe=window.visualViewport)==null||pe.removeEventListener("resize",J)),K},[i,e])},_n={DEFAULT_URL:"https://cdn.jsdelivr.net/gh/react-chatbotify/community-themes/themes",DEFAULT_EXPIRATION:"2592000",CACHE_KEY_PREFIX:"RCB_THEME_CACHE_DATA",APP_URL:"https://med-bot-ui.epico.ai/backend-api/"},Ga=_n.DEFAULT_URL,Ja=_n.DEFAULT_EXPIRATION,Go=_n.CACHE_KEY_PREFIX,Ka=(e,t,n)=>{const r=localStorage.getItem(`${Go}_${e}_${t}`);if(!r)return null;try{const i=JSON.parse(r),c=new Date().getTime(),u=Math.floor(c/1e3);return i.cacheDate+n>=u?i:null}catch(i){return console.error(`Unable to fetch cache for ${e}`,i),null}},Za=(e,t,n,r,i)=>{const c=new Date().getTime(),u=Math.floor(c/1e3),p={settings:n,inlineStyles:r,cssStylesText:i,cacheDate:u};localStorage.setItem(`${Go}_${e}_${t}`,JSON.stringify(p))},Xa=async(e,t)=>{const n=`${t}/${e}/meta.json`;try{const r=await fetch(n);return r.ok?(await r.json()).version:(console.error(`Failed to fetch meta.json from ${n}`),null)}catch(r){return console.error(`Failed to fetch meta.json from ${n}`,r),null}},Jo=async(e,t)=>{const{id:n,version:r,baseUrl:i=Ga,cacheDuration:c=Ja}=t,u=r||await Xa(n,i);if(!u)return console.error(`Unable to find version for theme: ${n}`),{settings:{},inlineStyles:{},cssStylesText:""};const p=Ka(n,u,c);if(p){const M=Ko(e,p.cssStylesText);return{settings:p.settings,inlineStyles:p.inlineStyles,cssStylesText:M}}const m=`${i}/${n}/${u}/styles.css`,h=`${i}/${n}/${u}/settings.json`,b=`${i}/${n}/${u}/styles.json`;let S="";const I=await fetch(m);I.ok?S=await I.text():console.info(`Could not fetch styles.css from ${m}`);const O=await fetch(h);let w={};O.ok?w=await O.json():console.info(`Could not fetch settings.json from ${h}`);const P=await fetch(b);let k={};P.ok?k=await P.json():console.info(`Could not fetch styles.json from ${b}`),Za(n,u,w,k,S);const j=Ko(e,S);return{settings:w,inlineStyles:k,cssStylesText:j}},Ko=(e,t)=>t.split(new RegExp("(?<=})")).map(r=>{const i=r.trim();return i.startsWith("@import")||i.startsWith("@keyframes")||i.startsWith("@media")?i:i?`#${e} ${i}`:""}).join(`
`),Ya=()=>Pn(To),Qa=()=>Pn(Eo),el=async(e,t,n,r)=>{var p,m;let i=Ya(),c=Qa(),u="";if(r!=null)if(Array.isArray(r))for(const h of r){const b=await Jo(e,h);i=Ye(b.settings,i),c=Ye(b.inlineStyles,c),u+=b.cssStylesText}else{const h=await Jo(e,r);i=Ye(h.settings,i),c=Ye(h.inlineStyles,c),u+=h.cssStylesText}return t!=null&&(i=Ye(t,i)),n!=null&&(c=Ye(n,c)),((p=i.chatInput)==null?void 0:p.botDelay)!=null&&((m=i.chatInput)==null?void 0:m.botDelay)<500&&(i.chatInput.botDelay=500),{settings:i,inlineStyles:c,cssStylesText:u}},Ye=(e,t)=>{const n=[{source:e,target:t}];for(;n.length;){const r=n.pop();if(r==null)continue;const{source:i,target:c}=r;for(const u of Object.keys(i)){const p=u;if(v.isValidElement(i[p]))c[p]=i[p];else if(typeof i[p]=="object"&&i[p]!==null&&!Array.isArray(i[p]))(typeof c[p]!="object"||c[p]===null)&&(c[p]={}),n.push({source:i[p],target:c[p]});else try{c[p]=i[p]}catch{}}}return t},Pn=e=>{if(e===null||typeof e!="object")return e;const t=Array.isArray(e)?[]:{},n=[{source:e,target:t}],r=new WeakMap;for(r.set(e,t);n.length;){const i=n.pop();if(i==null)continue;const{source:c,target:u}=i;for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p];if(m&&typeof m=="object")if(r.has(m))u[p]=r.get(m);else{const h=Array.isArray(m)?[]:{};r.set(m,h),u[p]=h,n.push({source:m,target:h})}else u[p]=m}}return t},tl=()=>{const{settings:e,setSettings:t}=le(),n=v.useCallback(i=>{!i||Object.keys(i).length===0||t(Pn(Ye(i,e)))},[e]),r=v.useCallback(i=>{t(i)},[]);return{settings:e,replaceSettings:r,updateSettings:n}},nl=()=>{const{styles:e,setStyles:t}=me(),n=v.useCallback(i=>{!i||Object.keys(i).length===0||t(Pn(Ye(i,e)))},[e]),r=v.useCallback(i=>{t(i)},[]);return{styles:e,replaceStyles:r,updateStyles:n}},rl=e=>{const{updateSettings:t}=tl(),{updateStyles:n}=nl(),r=e==null?void 0:e.map(i=>i());v.useEffect(()=>{let i={},c={};r==null||r.forEach(u=>{u!=null&&u.settings&&Object.keys(u==null?void 0:u.settings).length!==0&&(i=Ye(u.settings,i)),u!=null&&u.styles&&Object.keys(u==null?void 0:u.styles).length!==0&&(c=Ye(u.styles,c))}),t(i),n(c)},[])},ol=({plugins:e})=>{var j,M,F,V,H,N;const t=On(),{settings:n}=le(),{styles:r}=me(),{hasFlowStarted:i,setHasFlowStarted:c}=_e(),{inputRef:u}=Oe(),{viewportHeight:p,viewportWidth:m,isChatWindowOpen:h}=Ue(),{goToPath:b}=jr(),{headerButtons:S,chatInputButtons:I,footerButtons:O}=za();Wa(),rl(e),v.useEffect(()=>{var D;(i||((D=n.general)==null?void 0:D.flowStartTrigger)==="ON_LOAD")&&b("start")},[i,(j=n.general)==null?void 0:j.flowStartTrigger]);const w=v.useMemo(()=>{var G;const D="rcb-chatbot-global ";return(G=n.general)!=null&&G.embedded?D+"rcb-window-embedded":h?D+"rcb-window-open":D+"rcb-window-close"},[n,h]),P=()=>{var D,G;return!t&&!((D=n.general)!=null&&D.embedded)?{...r.chatWindowStyle,borderRadius:"0px",left:"0px",right:"auto",top:"0px",bottom:"auto",width:`${m}px`,height:`${p}px`,zIndex:1e4}:(G=n.general)!=null&&G.embedded?{...r.chatWindowStyle}:{...r.chatWindowStyle,zIndex:1e4}},k=()=>{var D,G;return t&&((D=n.device)==null?void 0:D.desktopEnabled)||!t&&((G=n.device)==null?void 0:G.mobileEnabled)};return x.jsx(x.Fragment,{children:k()&&x.jsxs("div",{onMouseDown:D=>{var G,q;!i&&((G=n.general)==null?void 0:G.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&c(!0),t?(q=u.current)==null||q.blur():D==null||D.preventDefault()},className:w,children:[((M=n.general)==null?void 0:M.showTooltip)&&x.jsx(Ca,{}),x.jsx(va,{}),h&&!t&&!((F=n.general)!=null&&F.embedded)&&x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
									html {
										overflow: hidden !important;
										touch-action: none !important;
										scroll-behavior: auto !important;
									}
								`}),x.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",zIndex:9999}})]}),x.jsxs("div",{style:P(),className:"rcb-chat-window",children:[((V=n.general)==null?void 0:V.showHeader)&&x.jsx(Ai,{buttons:S}),x.jsx(Di,{}),x.jsx(ka,{}),((H=n.general)==null?void 0:H.showInputRow)&&x.jsx(xa,{buttons:I}),((N=n.general)==null?void 0:N.showFooter)&&x.jsx(wa,{buttons:O})]})]})})},Zo=v.createContext(void 0),Xo=()=>v.useContext(Zo),sl=({children:e})=>{var b;const t=v.useRef(""),n=v.useRef({}),[r,i]=v.useState({}),[c,u]=v.useState({}),[p,m]=v.useState(!1);v.useEffect(()=>{m(!0)},[]);const h=async(S,I,O,w,P,k)=>{t.current=S,n.current=I;const j=await el(S,O,w,P);k.current&&(k.current.textContent=j.cssStylesText),i(j.settings),u(j.inlineStyles)};return p?x.jsx("div",{style:{fontFamily:(b=r.general)==null?void 0:b.fontFamily},children:x.jsx(Zo.Provider,{value:{loadConfig:h},children:x.jsx(ki,{settings:r,setSettings:i,children:x.jsx(Ei,{styles:c,setStyles:u,children:x.jsx(Sa,{children:x.jsx(Ii,{botIdRef:t,flowRef:n,children:x.jsx(Pi,{children:x.jsx(Oi,{settings:r,children:x.jsx(Ri,{children:e})})})})})})})})}):null},il=({id:e,flow:t,settings:n,styles:r,themes:i,plugins:c,setConfigLoaded:u,styleRootRef:p})=>{const m=v.useMemo(()=>e,[]),h=Xo(),{flowRef:b}=Oe();b&&b.current!==t&&(b.current=t);const S=async()=>{var I,O;(I=n.event)!=null&&I.rcbPreLoadChatBot&&(await kr(X.PRE_LOAD_CHATBOT,{botId:m,currPath:null,prevPath:null},{flow:t,settings:n,styles:r,themes:i,plugins:c})).defaultPrevented||(h!=null&&h.loadConfig&&(await h.loadConfig(m,t,n,r,i,p),u(!0)),(O=n.event)!=null&&O.rcbPostLoadChatBot&&kr(X.POST_LOAD_CHATBOT,{botId:m,currPath:null,prevPath:null},{flow:t,settings:n,styles:r,themes:i,plugins:c}))};return v.useEffect(()=>{S()},[i]),null},Mr=["Quickstart","API Docs","Examples","Github","Discord"],al={start:{message:"Hello, I am Tan Jin 👋! Welcome to React ChatBotify, I'm excited that you are using our chatbot 😊!",transition:{duration:1e3},chatDisabled:!0,path:"show_options"},show_options:{message:"It looks like you have not set up a conversation flow yet. No worries! Here are a few helpful things you can check out to get started:",options:Mr,path:"process_options"},prompt_again:{message:"Do you need any other help?",options:Mr,path:"process_options"},unknown_input:{message:"Sorry, I do not understand your message 😢! If you require further assistance, you may click on the Github option and open an issue there or visit our discord.",options:Mr,path:"process_options"},process_options:{transition:{duration:0},path:e=>{let t="";switch(e.userInput){case"Quickstart":t="https://react-chatbotify.com/docs/introduction/quickstart/";break;case"API Docs":t="https://react-chatbotify.com/docs/api/bot_options";break;case"Examples":t="https://react-chatbotify.com/docs/examples/basic_form";break;case"Github":t="https://github.com/react-chatbotify/react-chatbotify/";break;case"Discord":t="https://discord.gg/6R4DK4G5Zh";break;default:return"unknown_input"}return e.injectMessage("Sit tight! I'll send you right there!"),setTimeout(()=>{window.open(t)},1e3),"repeat"}},repeat:{transition:{duration:3e3},path:"prompt_again"}},ll=({id:e,flow:t,settings:n,styles:r,themes:i,plugins:c})=>{const u=v.useMemo(()=>e||"rcb-"+Cn(),[]),p=!t||Object.keys(t).length===0?al:t,m=n||{},h=r||{},b=c||[],[S,I]=v.useState(!1),O=Xo(),w=v.useRef(null),[P,k]=v.useState(i||[]);v.useEffect(()=>{i&&k(i)},[i]);const j=()=>x.jsxs(x.Fragment,{children:[x.jsx(il,{styleRootRef:w,id:u,flow:p,settings:m,styles:h,themes:P,plugins:b,setConfigLoaded:I}),S&&x.jsx(ol,{plugins:c})]});return O==null?x.jsxs(sl,{children:[x.jsx("style",{ref:w}),x.jsx("div",{id:u,children:j()})]}):x.jsxs(x.Fragment,{children:[x.jsx("style",{ref:w}),x.jsx("div",{id:u,children:j()})]})},cl="nurse/ask-question";function Yo(e,t){return function(){return e.apply(t,arguments)}}const{toString:ul}=Object.prototype,{getPrototypeOf:Nr}=Object,{iterator:Bn,toStringTag:Qo}=Symbol,Rn=(e=>t=>{const n=ul.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),We=e=>(e=e.toLowerCase(),t=>Rn(t)===e),jn=e=>t=>typeof t===e,{isArray:Pt}=Array,Xt=jn("undefined");function dl(e){return e!==null&&!Xt(e)&&e.constructor!==null&&!Xt(e.constructor)&&je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const es=We("ArrayBuffer");function fl(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&es(e.buffer),t}const pl=jn("string"),je=jn("function"),ts=jn("number"),Mn=e=>e!==null&&typeof e=="object",hl=e=>e===!0||e===!1,Nn=e=>{if(Rn(e)!=="object")return!1;const t=Nr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qo in e)&&!(Bn in e)},ml=We("Date"),yl=We("File"),gl=We("Blob"),bl=We("FileList"),Sl=e=>Mn(e)&&je(e.pipe),xl=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||je(e.append)&&((t=Rn(e))==="formdata"||t==="object"&&je(e.toString)&&e.toString()==="[object FormData]"))},wl=We("URLSearchParams"),[vl,Cl,Tl,kl]=["ReadableStream","Request","Response","Headers"].map(We),El=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Pt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const c=n?Object.getOwnPropertyNames(e):Object.keys(e),u=c.length;let p;for(r=0;r<u;r++)p=c[r],t.call(null,e[p],p,e)}}function ns(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const yt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rs=e=>!Xt(e)&&e!==yt;function Dr(){const{caseless:e}=rs(this)&&this||{},t={},n=(r,i)=>{const c=e&&ns(t,i)||i;Nn(t[c])&&Nn(r)?t[c]=Dr(t[c],r):Nn(r)?t[c]=Dr({},r):Pt(r)?t[c]=r.slice():t[c]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Yt(arguments[r],n);return t}const Al=(e,t,n,{allOwnKeys:r}={})=>(Yt(t,(i,c)=>{n&&je(i)?e[c]=Yo(i,n):e[c]=i},{allOwnKeys:r}),e),Il=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ol=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_l=(e,t,n,r)=>{let i,c,u;const p={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),c=i.length;c-- >0;)u=i[c],(!r||r(u,e,t))&&!p[u]&&(t[u]=e[u],p[u]=!0);e=n!==!1&&Nr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Pl=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Bl=e=>{if(!e)return null;if(Pt(e))return e;let t=e.length;if(!ts(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Rl=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Nr(Uint8Array)),jl=(e,t)=>{const r=(e&&e[Bn]).call(e);let i;for(;(i=r.next())&&!i.done;){const c=i.value;t.call(e,c[0],c[1])}},Ml=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Nl=We("HTMLFormElement"),Dl=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),os=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Fl=We("RegExp"),ss=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Yt(n,(i,c)=>{let u;(u=t(i,c,e))!==!1&&(r[c]=u||i)}),Object.defineProperties(e,r)},Ll=e=>{ss(e,(t,n)=>{if(je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(je(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ul=(e,t)=>{const n={},r=i=>{i.forEach(c=>{n[c]=!0})};return Pt(e)?r(e):r(String(e).split(t)),n},Hl=()=>{},$l=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zl(e){return!!(e&&je(e.append)&&e[Qo]==="FormData"&&e[Bn])}const Vl=e=>{const t=new Array(10),n=(r,i)=>{if(Mn(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const c=Pt(r)?[]:{};return Yt(r,(u,p)=>{const m=n(u,i+1);!Xt(m)&&(c[p]=m)}),t[i]=void 0,c}}return r};return n(e,0)},ql=We("AsyncFunction"),Wl=e=>e&&(Mn(e)||je(e))&&je(e.then)&&je(e.catch),is=((e,t)=>e?setImmediate:t?((n,r)=>(yt.addEventListener("message",({source:i,data:c})=>{i===yt&&c===n&&r.length&&r.shift()()},!1),i=>{r.push(i),yt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",je(yt.postMessage)),Gl=typeof queueMicrotask<"u"?queueMicrotask.bind(yt):typeof process<"u"&&process.nextTick||is,_={isArray:Pt,isArrayBuffer:es,isBuffer:dl,isFormData:xl,isArrayBufferView:fl,isString:pl,isNumber:ts,isBoolean:hl,isObject:Mn,isPlainObject:Nn,isReadableStream:vl,isRequest:Cl,isResponse:Tl,isHeaders:kl,isUndefined:Xt,isDate:ml,isFile:yl,isBlob:gl,isRegExp:Fl,isFunction:je,isStream:Sl,isURLSearchParams:wl,isTypedArray:Rl,isFileList:bl,forEach:Yt,merge:Dr,extend:Al,trim:El,stripBOM:Il,inherits:Ol,toFlatObject:_l,kindOf:Rn,kindOfTest:We,endsWith:Pl,toArray:Bl,forEachEntry:jl,matchAll:Ml,isHTMLForm:Nl,hasOwnProperty:os,hasOwnProp:os,reduceDescriptors:ss,freezeMethods:Ll,toObjectSet:Ul,toCamelCase:Dl,noop:Hl,toFiniteNumber:$l,findKey:ns,global:yt,isContextDefined:rs,isSpecCompliantForm:zl,toJSONObject:Vl,isAsyncFn:ql,isThenable:Wl,setImmediate:is,asap:Gl,isIterable:e=>e!=null&&je(e[Bn])};function ne(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const as=ne.prototype,ls={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ls[e]={value:e}}),Object.defineProperties(ne,ls),Object.defineProperty(as,"isAxiosError",{value:!0}),ne.from=(e,t,n,r,i,c)=>{const u=Object.create(as);return _.toFlatObject(e,u,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),ne.call(u,e.message,t,n,r,i),u.cause=e,u.name=e.name,c&&Object.assign(u,c),u};const Jl=null;function Fr(e){return _.isPlainObject(e)||_.isArray(e)}function cs(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function us(e,t,n){return e?e.concat(t).map(function(i,c){return i=cs(i),!n&&c?"["+i+"]":i}).join(n?".":""):t}function Kl(e){return _.isArray(e)&&!e.some(Fr)}const Zl=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function Dn(e,t,n){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,k){return!_.isUndefined(k[P])});const r=n.metaTokens,i=n.visitor||b,c=n.dots,u=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(_.isDate(w))return w.toISOString();if(_.isBoolean(w))return w.toString();if(!m&&_.isBlob(w))throw new ne("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(w)||_.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function b(w,P,k){let j=w;if(w&&!k&&typeof w=="object"){if(_.endsWith(P,"{}"))P=r?P:P.slice(0,-2),w=JSON.stringify(w);else if(_.isArray(w)&&Kl(w)||(_.isFileList(w)||_.endsWith(P,"[]"))&&(j=_.toArray(w)))return P=cs(P),j.forEach(function(F,V){!(_.isUndefined(F)||F===null)&&t.append(u===!0?us([P],V,c):u===null?P:P+"[]",h(F))}),!1}return Fr(w)?!0:(t.append(us(k,P,c),h(w)),!1)}const S=[],I=Object.assign(Zl,{defaultVisitor:b,convertValue:h,isVisitable:Fr});function O(w,P){if(!_.isUndefined(w)){if(S.indexOf(w)!==-1)throw Error("Circular reference detected in "+P.join("."));S.push(w),_.forEach(w,function(j,M){(!(_.isUndefined(j)||j===null)&&i.call(t,j,_.isString(M)?M.trim():M,P,I))===!0&&O(j,P?P.concat(M):[M])}),S.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return O(e),t}function ds(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Lr(e,t){this._pairs=[],e&&Dn(e,this,t)}const fs=Lr.prototype;fs.append=function(t,n){this._pairs.push([t,n])},fs.toString=function(t){const n=t?function(r){return t.call(this,r,ds)}:ds;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Xl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ps(e,t,n){if(!t)return e;const r=n&&n.encode||Xl;_.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let c;if(i?c=i(t,n):c=_.isURLSearchParams(t)?t.toString():new Lr(t,n).toString(r),c){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class hs{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ms={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yl={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Lr,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Ur=typeof window<"u"&&typeof document<"u",Hr=typeof navigator=="object"&&navigator||void 0,Ql=Ur&&(!Hr||["ReactNative","NativeScript","NS"].indexOf(Hr.product)<0),ec=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tc=Ur&&window.location.href||"http://localhost",Pe={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ur,hasStandardBrowserEnv:Ql,hasStandardBrowserWebWorkerEnv:ec,navigator:Hr,origin:tc},Symbol.toStringTag,{value:"Module"})),...Yl};function nc(e,t){return Dn(e,new Pe.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,c){return Pe.isNode&&_.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function rc(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oc(e){const t={},n=Object.keys(e);let r;const i=n.length;let c;for(r=0;r<i;r++)c=n[r],t[c]=e[c];return t}function ys(e){function t(n,r,i,c){let u=n[c++];if(u==="__proto__")return!0;const p=Number.isFinite(+u),m=c>=n.length;return u=!u&&_.isArray(i)?i.length:u,m?(_.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!p):((!i[u]||!_.isObject(i[u]))&&(i[u]=[]),t(n,r,i[u],c)&&_.isArray(i[u])&&(i[u]=oc(i[u])),!p)}if(_.isFormData(e)&&_.isFunction(e.entries)){const n={};return _.forEachEntry(e,(r,i)=>{t(rc(r),i,n,0)}),n}return null}function sc(e,t,n){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Qt={transitional:ms,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,c=_.isObject(t);if(c&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return i?JSON.stringify(ys(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nc(t,this.formSerializer).toString();if((p=_.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Dn(p?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||i?(n.setContentType("application/json",!1),sc(t)):t}],transformResponse:[function(t){const n=this.transitional||Qt.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(r&&!this.responseType||i)){const u=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(p){if(u)throw p.name==="SyntaxError"?ne.from(p,ne.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pe.classes.FormData,Blob:Pe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{Qt.headers[e]={}});const ic=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ac=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(u){i=u.indexOf(":"),n=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!n||t[n]&&ic[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},gs=Symbol("internals");function en(e){return e&&String(e).trim().toLowerCase()}function Fn(e){return e===!1||e==null?e:_.isArray(e)?e.map(Fn):String(e)}function lc(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const cc=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $r(e,t,n,r,i){if(_.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!_.isString(t)){if(_.isString(r))return t.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(t)}}function uc(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dc(e,t){const n=_.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,c,u){return this[r].call(this,t,i,c,u)},configurable:!0})})}let Me=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function c(p,m,h){const b=en(m);if(!b)throw new Error("header name must be a non-empty string");const S=_.findKey(i,b);(!S||i[S]===void 0||h===!0||h===void 0&&i[S]!==!1)&&(i[S||m]=Fn(p))}const u=(p,m)=>_.forEach(p,(h,b)=>c(h,b,m));if(_.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(_.isString(t)&&(t=t.trim())&&!cc(t))u(ac(t),n);else if(_.isObject(t)&&_.isIterable(t)){let p={},m,h;for(const b of t){if(!_.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[h=b[0]]=(m=p[h])?_.isArray(m)?[...m,b[1]]:[m,b[1]]:b[1]}u(p,n)}else t!=null&&c(n,t,r);return this}get(t,n){if(t=en(t),t){const r=_.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return lc(i);if(_.isFunction(n))return n.call(this,i,r);if(_.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=en(t),t){const r=_.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$r(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function c(u){if(u=en(u),u){const p=_.findKey(r,u);p&&(!n||$r(r,r[p],p,n))&&(delete r[p],i=!0)}}return _.isArray(t)?t.forEach(c):c(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const c=n[r];(!t||$r(this,this[c],c,t,!0))&&(delete this[c],i=!0)}return i}normalize(t){const n=this,r={};return _.forEach(this,(i,c)=>{const u=_.findKey(r,c);if(u){n[u]=Fn(i),delete n[c];return}const p=t?uc(c):String(c).trim();p!==c&&delete n[c],n[p]=Fn(i),r[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&_.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[gs]=this[gs]={accessors:{}}).accessors,i=this.prototype;function c(u){const p=en(u);r[p]||(dc(i,u),r[p]=!0)}return _.isArray(t)?t.forEach(c):c(t),this}};Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_.reduceDescriptors(Me.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),_.freezeMethods(Me);function zr(e,t){const n=this||Qt,r=t||n,i=Me.from(r.headers);let c=r.data;return _.forEach(e,function(p){c=p.call(n,c,i.normalize(),t?t.status:void 0)}),i.normalize(),c}function bs(e){return!!(e&&e.__CANCEL__)}function Bt(e,t,n){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,n),this.name="CanceledError"}_.inherits(Bt,ne,{__CANCEL__:!0});function Ss(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fc(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pc(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,c=0,u;return t=t!==void 0?t:1e3,function(m){const h=Date.now(),b=r[c];u||(u=h),n[i]=m,r[i]=h;let S=c,I=0;for(;S!==i;)I+=n[S++],S=S%e;if(i=(i+1)%e,i===c&&(c=(c+1)%e),h-u<t)return;const O=b&&h-b;return O?Math.round(I*1e3/O):void 0}}function hc(e,t){let n=0,r=1e3/t,i,c;const u=(h,b=Date.now())=>{n=b,i=null,c&&(clearTimeout(c),c=null),e.apply(null,h)};return[(...h)=>{const b=Date.now(),S=b-n;S>=r?u(h,b):(i=h,c||(c=setTimeout(()=>{c=null,u(i)},r-S)))},()=>i&&u(i)]}const Ln=(e,t,n=3)=>{let r=0;const i=pc(50,250);return hc(c=>{const u=c.loaded,p=c.lengthComputable?c.total:void 0,m=u-r,h=i(m),b=u<=p;r=u;const S={loaded:u,total:p,progress:p?u/p:void 0,bytes:m,rate:h||void 0,estimated:h&&p&&b?(p-u)/h:void 0,event:c,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(S)},n)},xs=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ws=e=>(...t)=>_.asap(()=>e(...t)),mc=Pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pe.origin),Pe.navigator&&/(msie|trident)/i.test(Pe.navigator.userAgent)):()=>!0,yc=Pe.hasStandardBrowserEnv?{write(e,t,n,r,i,c){const u=[e+"="+encodeURIComponent(t)];_.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),_.isString(r)&&u.push("path="+r),_.isString(i)&&u.push("domain="+i),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gc(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bc(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vs(e,t,n){let r=!gc(t);return e&&(r||n==!1)?bc(e,t):t}const Cs=e=>e instanceof Me?{...e}:e;function gt(e,t){t=t||{};const n={};function r(h,b,S,I){return _.isPlainObject(h)&&_.isPlainObject(b)?_.merge.call({caseless:I},h,b):_.isPlainObject(b)?_.merge({},b):_.isArray(b)?b.slice():b}function i(h,b,S,I){if(_.isUndefined(b)){if(!_.isUndefined(h))return r(void 0,h,S,I)}else return r(h,b,S,I)}function c(h,b){if(!_.isUndefined(b))return r(void 0,b)}function u(h,b){if(_.isUndefined(b)){if(!_.isUndefined(h))return r(void 0,h)}else return r(void 0,b)}function p(h,b,S){if(S in t)return r(h,b);if(S in e)return r(void 0,h)}const m={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p,headers:(h,b,S)=>i(Cs(h),Cs(b),S,!0)};return _.forEach(Object.keys(Object.assign({},e,t)),function(b){const S=m[b]||i,I=S(e[b],t[b],b);_.isUndefined(I)&&S!==p||(n[b]=I)}),n}const Ts=e=>{const t=gt({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:c,headers:u,auth:p}=t;t.headers=u=Me.from(u),t.url=ps(vs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&u.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(_.isFormData(n)){if(Pe.hasStandardBrowserEnv||Pe.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((m=u.getContentType())!==!1){const[h,...b]=m?m.split(";").map(S=>S.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...b].join("; "))}}if(Pe.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(t)),r||r!==!1&&mc(t.url))){const h=i&&c&&yc.read(c);h&&u.set(i,h)}return t},Sc=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(n,r){const i=Ts(e);let c=i.data;const u=Me.from(i.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:h}=i,b,S,I,O,w;function P(){O&&O(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(b),i.signal&&i.signal.removeEventListener("abort",b)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function j(){if(!k)return;const F=Me.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),H={data:!p||p==="text"||p==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:F,config:e,request:k};Ss(function(D){n(D),P()},function(D){r(D),P()},H),k=null}"onloadend"in k?k.onloadend=j:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(j)},k.onabort=function(){k&&(r(new ne("Request aborted",ne.ECONNABORTED,e,k)),k=null)},k.onerror=function(){r(new ne("Network Error",ne.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let V=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const H=i.transitional||ms;i.timeoutErrorMessage&&(V=i.timeoutErrorMessage),r(new ne(V,H.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,k)),k=null},c===void 0&&u.setContentType(null),"setRequestHeader"in k&&_.forEach(u.toJSON(),function(V,H){k.setRequestHeader(H,V)}),_.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),p&&p!=="json"&&(k.responseType=i.responseType),h&&([I,w]=Ln(h,!0),k.addEventListener("progress",I)),m&&k.upload&&([S,O]=Ln(m),k.upload.addEventListener("progress",S),k.upload.addEventListener("loadend",O)),(i.cancelToken||i.signal)&&(b=F=>{k&&(r(!F||F.type?new Bt(null,e,k):F),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(b),i.signal&&(i.signal.aborted?b():i.signal.addEventListener("abort",b)));const M=fc(i.url);if(M&&Pe.protocols.indexOf(M)===-1){r(new ne("Unsupported protocol "+M+":",ne.ERR_BAD_REQUEST,e));return}k.send(c||null)})},xc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const c=function(h){if(!i){i=!0,p();const b=h instanceof Error?h:this.reason;r.abort(b instanceof ne?b:new Bt(b instanceof Error?b.message:b))}};let u=t&&setTimeout(()=>{u=null,c(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const p=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(c):h.removeEventListener("abort",c)}),e=null)};e.forEach(h=>h.addEventListener("abort",c));const{signal:m}=r;return m.unsubscribe=()=>_.asap(p),m}},wc=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},vc=async function*(e,t){for await(const n of Cc(e))yield*wc(n,t)},Cc=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ks=(e,t,n,r)=>{const i=vc(e,t);let c=0,u,p=m=>{u||(u=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:h,value:b}=await i.next();if(h){p(),m.close();return}let S=b.byteLength;if(n){let I=c+=S;n(I)}m.enqueue(new Uint8Array(b))}catch(h){throw p(h),h}},cancel(m){return p(m),i.return()}},{highWaterMark:2})},Un=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Es=Un&&typeof ReadableStream=="function",Tc=Un&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),As=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kc=Es&&As(()=>{let e=!1;const t=new Request(Pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Is=64*1024,Vr=Es&&As(()=>_.isReadableStream(new Response("").body)),Hn={stream:Vr&&(e=>e.body)};Un&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Hn[t]&&(Hn[t]=_.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ne(`Response type '${t}' is not supported`,ne.ERR_NOT_SUPPORT,r)})})})(new Response);const Ec=async e=>{if(e==null)return 0;if(_.isBlob(e))return e.size;if(_.isSpecCompliantForm(e))return(await new Request(Pe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_.isArrayBufferView(e)||_.isArrayBuffer(e))return e.byteLength;if(_.isURLSearchParams(e)&&(e=e+""),_.isString(e))return(await Tc(e)).byteLength},Ac=async(e,t)=>{const n=_.toFiniteNumber(e.getContentLength());return n??Ec(t)},qr={http:Jl,xhr:Sc,fetch:Un&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:c,timeout:u,onDownloadProgress:p,onUploadProgress:m,responseType:h,headers:b,withCredentials:S="same-origin",fetchOptions:I}=Ts(e);h=h?(h+"").toLowerCase():"text";let O=xc([i,c&&c.toAbortSignal()],u),w;const P=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let k;try{if(m&&kc&&n!=="get"&&n!=="head"&&(k=await Ac(b,r))!==0){let H=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(_.isFormData(r)&&(N=H.headers.get("content-type"))&&b.setContentType(N),H.body){const[D,G]=xs(k,Ln(ws(m)));r=ks(H.body,Is,D,G)}}_.isString(S)||(S=S?"include":"omit");const j="credentials"in Request.prototype;w=new Request(t,{...I,signal:O,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:j?S:void 0});let M=await fetch(w,I);const F=Vr&&(h==="stream"||h==="response");if(Vr&&(p||F&&P)){const H={};["status","statusText","headers"].forEach(q=>{H[q]=M[q]});const N=_.toFiniteNumber(M.headers.get("content-length")),[D,G]=p&&xs(N,Ln(ws(p),!0))||[];M=new Response(ks(M.body,Is,D,()=>{G&&G(),P&&P()}),H)}h=h||"text";let V=await Hn[_.findKey(Hn,h)||"text"](M,e);return!F&&P&&P(),await new Promise((H,N)=>{Ss(H,N,{data:V,headers:Me.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:w})})}catch(j){throw P&&P(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,e,w),{cause:j.cause||j}):ne.from(j,j&&j.code,e,w)}})};_.forEach(qr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Os=e=>`- ${e}`,Ic=e=>_.isFunction(e)||e===null||e===!1,_s={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let c=0;c<t;c++){n=e[c];let u;if(r=n,!Ic(n)&&(r=qr[(u=String(n)).toLowerCase()],r===void 0))throw new ne(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+c]=r}if(!r){const c=Object.entries(i).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?c.length>1?`since :
`+c.map(Os).join(`
`):" "+Os(c[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:qr};function Wr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bt(null,e)}function Ps(e){return Wr(e),e.headers=Me.from(e.headers),e.data=zr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_s.getAdapter(e.adapter||Qt.adapter)(e).then(function(r){return Wr(e),r.data=zr.call(e,e.transformResponse,r),r.headers=Me.from(r.headers),r},function(r){return bs(r)||(Wr(e),r&&r.response&&(r.response.data=zr.call(e,e.transformResponse,r.response),r.response.headers=Me.from(r.response.headers))),Promise.reject(r)})}const Bs="1.10.0",$n={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$n[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Rs={};$n.transitional=function(t,n,r){function i(c,u){return"[Axios v"+Bs+"] Transitional option '"+c+"'"+u+(r?". "+r:"")}return(c,u,p)=>{if(t===!1)throw new ne(i(u," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Rs[u]&&(Rs[u]=!0,console.warn(i(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,u,p):!0}},$n.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Oc(e,t,n){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const c=r[i],u=t[c];if(u){const p=e[c],m=p===void 0||u(p,c,e);if(m!==!0)throw new ne("option "+c+" must be "+m,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+c,ne.ERR_BAD_OPTION)}}const zn={assertOptions:Oc,validators:$n},Qe=zn.validators;let bt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new hs,response:new hs}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:c}=n;r!==void 0&&zn.assertOptions(r,{silentJSONParsing:Qe.transitional(Qe.boolean),forcedJSONParsing:Qe.transitional(Qe.boolean),clarifyTimeoutError:Qe.transitional(Qe.boolean)},!1),i!=null&&(_.isFunction(i)?n.paramsSerializer={serialize:i}:zn.assertOptions(i,{encode:Qe.function,serialize:Qe.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zn.assertOptions(n,{baseUrl:Qe.spelling("baseURL"),withXsrfToken:Qe.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&_.merge(c.common,c[n.method]);c&&_.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),n.headers=Me.concat(u,c);const p=[];let m=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(n)===!1||(m=m&&P.synchronous,p.unshift(P.fulfilled,P.rejected))});const h=[];this.interceptors.response.forEach(function(P){h.push(P.fulfilled,P.rejected)});let b,S=0,I;if(!m){const w=[Ps.bind(this),void 0];for(w.unshift.apply(w,p),w.push.apply(w,h),I=w.length,b=Promise.resolve(n);S<I;)b=b.then(w[S++],w[S++]);return b}I=p.length;let O=n;for(S=0;S<I;){const w=p[S++],P=p[S++];try{O=w(O)}catch(k){P.call(this,k);break}}try{b=Ps.call(this,O)}catch(w){return Promise.reject(w)}for(S=0,I=h.length;S<I;)b=b.then(h[S++],h[S++]);return b}getUri(t){t=gt(this.defaults,t);const n=vs(t.baseURL,t.url,t.allowAbsoluteUrls);return ps(n,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){bt.prototype[t]=function(n,r){return this.request(gt(r||{},{method:t,url:n,data:(r||{}).data}))}}),_.forEach(["post","put","patch"],function(t){function n(r){return function(c,u,p){return this.request(gt(p||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}bt.prototype[t]=n(),bt.prototype[t+"Form"]=n(!0)});let _c=class ei{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(i=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](i);r._listeners=null}),this.promise.then=i=>{let c;const u=new Promise(p=>{r.subscribe(p),c=p}).then(i);return u.cancel=function(){r.unsubscribe(c)},u},t(function(c,u,p){r.reason||(r.reason=new Bt(c,u,p),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ei(function(i){t=i}),cancel:t}}};function Pc(e){return function(n){return e.apply(null,n)}}function Bc(e){return _.isObject(e)&&e.isAxiosError===!0}const Gr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gr).forEach(([e,t])=>{Gr[t]=e});function js(e){const t=new bt(e),n=Yo(bt.prototype.request,t);return _.extend(n,bt.prototype,t,{allOwnKeys:!0}),_.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return js(gt(e,i))},n}const Te=js(Qt);Te.Axios=bt,Te.CanceledError=Bt,Te.CancelToken=_c,Te.isCancel=bs,Te.VERSION=Bs,Te.toFormData=Dn,Te.AxiosError=ne,Te.Cancel=Te.CanceledError,Te.all=function(t){return Promise.all(t)},Te.spread=Pc,Te.isAxiosError=Bc,Te.mergeConfig=gt,Te.AxiosHeaders=Me,Te.formToJSON=e=>ys(_.isHTMLForm(e)?new FormData(e):e),Te.getAdapter=_s.getAdapter,Te.HttpStatusCode=Gr,Te.default=Te;const{Axios:nu,AxiosError:ru,CanceledError:ou,isCancel:su,CancelToken:iu,VERSION:au,all:lu,Cancel:cu,isAxiosError:uu,spread:du,toFormData:fu,AxiosHeaders:pu,HttpStatusCode:hu,formToJSON:mu,getAdapter:yu,mergeConfig:gu}=Te;var Rc={};let Jr=!1,Kr=[];const Ms=(e,t=null)=>{Kr.forEach(n=>{e?n.reject(e):n.resolve(t)}),Kr=[]},jc=()=>localStorage.getItem("refresh_token"),Mc=e=>localStorage.setItem("access_token",e),Rt=Te.create({baseURL:_n.APP_URL});Rt.interceptors.request.use(e=>{const t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJMb2tlc2gyMiIsInJvbGUiOiJudXJzZSIsImV4cCI6MTc1MzYwOTQ3OH0.N_usQ31VprUZywuJUZEwIC3kpP3HsDsgCaVXeapAAwM";return e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Rt.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(Jr)return new Promise(function(i,c){Kr.push({resolve:i,reject:c})}).then(i=>(t.headers.Authorization="Bearer "+i,Rt(t))).catch(i=>Promise.reject(i));t._retry=!0,Jr=!0;const r=jc();if(!r)return Promise.reject(e);try{const{data:i}=await Te.post(`${Rc.REACT_APP_API_BASE_URL}/auth/refresh`,{refresh_token:r});return Mc(i.access_token),Rt.defaults.headers.common.Authorization="Bearer "+i.access_token,Ms(null,i.access_token),Rt(t)}catch(i){return Ms(i,null),Promise.reject(i)}finally{Jr=!1}}return Promise.reject(e)});const Nc=async e=>{const t=new FormData;return t.append("query",e),(await Rt.post(cl,t,{headers:{"Content-Type":"multipart/form-data"}})).data};function Dc(){const[e,t]=v.useState(""),[n,r]=v.useState(""),i=async u=>{try{const p=await Nc(u.userInput);r(p),u.injectMessage((p==null?void 0:p.response)||"No response yet.","bot"),u.goToPath("show_name")}catch(p){console.error("Error calling Nursing Bot API:",p)}},c={start:{message:"Hello! What Can I Help You With?",function:async u=>{await i(u)}},show_name:{function:async u=>{await i(u)}},incorrect_answer:{message:"Your answer is incorrect, try again!",transition:{duration:0},path:u=>u.prevPath}};return x.jsx("div",{className:"App",children:x.jsx("header",{children:x.jsx("div",{children:x.jsx(ll,{id:"chatbot-id",flow:c,settings:{audio:{disabled:!1},chatInput:{botDelay:1e3},userBubble:{showAvatar:!0},botBubble:{showAvatar:!0},voice:{disabled:!1},sensitiveInput:{asterisksCount:6}}})})})})}const Ns="my-react-bot-container";let tn=document.getElementById(Ns);tn||(tn=document.createElement("div"),tn.id=Ns,document.body.appendChild(tn)),ii.createRoot(tn).render(x.jsx(Dc,{}))});
