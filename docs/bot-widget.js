(function(x,jt){typeof exports=="object"&&typeof module<"u"?jt(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],jt):(x=typeof globalThis<"u"?globalThis:x||self,jt(x.React,x.ReactDOM))})(this,function(x,jt){"use strict";var Er=document.createElement("style");Er.textContent=`.rcb-chat-header-container{padding:12px;color:#fff;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;max-height:55px}.rcb-chat-header{display:flex;flex-direction:row;align-items:center;gap:10px}.rcb-bot-avatar{background-size:cover;width:30px;height:30px;border-radius:50%;margin-right:12px}.rcb-message-prompt-container.visible{position:sticky;bottom:0;margin:auto;display:flex;align-items:center;justify-content:center;opacity:1;animation:rcb-animation-pop-in .3s ease-in-out;pointer-events:auto}.rcb-message-prompt-container.hidden{opacity:0;height:0px;visibility:hidden;pointer-events:none}.rcb-message-prompt-text{padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border:.5px solid #adadad;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999}.rcb-message-prompt-container.hidden .rcb-message-prompt-text{padding:0}.rcb-user-message-container{display:flex;flex-direction:row;justify-content:right}.rcb-user-message{margin-top:8px;padding:8px 16px;border-radius:16px 16px 5px;min-height:20px;height:fit-content;width:fit-content;font-size:15px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:right;margin-right:16px}.rcb-user-message-offset{margin-right:50px}.rcb-user-message-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-message-user-avatar{background-size:cover;width:40px;height:40px;border-radius:50%;margin-top:9px}.rcb-message-user-avatar{margin-left:-10px;margin-right:6px}.rcb-bot-message-container{display:flex;flex-direction:column;align-items:baseline}.rcb-bot-message{margin-top:8px;padding:8px 16px;border-radius:16px;min-height:20px;height:fit-content;width:fit-content;font-size:14px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:left;margin-left:16px}.rcb-bot-message-offset{margin-left:50px}.rcb-bot-message-entry{animation:rcb-animation-bot-message-entry .3s ease-in backwards}.rcb-message-bot-avatar-container{display:flex;justify-content:center;align-items:center;gap:10px}.rcb-message-bot-avatar-heading{font-size:12px;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.rcb-message-bot-avtar{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:100%;background:linear-gradient(135deg,#227b87,#1e2948)}.rcb-typing-indicator{display:flex;align-items:center}.rcb-dot{width:8px;height:8px;border-radius:50%;background-color:#ccc;margin-right:4px;animation:rcb-animation-bot-typing 1s infinite}.rcb-dot:nth-child(2){animation-delay:.2s}.rcb-dot:nth-child(3){animation-delay:.4s}.rcb-chat-body-container{position:relative;height:100%;width:100%;padding-bottom:16px;padding-top:16px;overflow-x:hidden;overflow-y:scroll;touch-action:pan-y}.rcb-chat-body-container::-webkit-scrollbar-track{background-color:#f1f1f1}.rcb-chat-body-container::-webkit-scrollbar-thumb{background-color:#ddd;border-radius:4px}.rcb-chat-body-container::-webkit-scrollbar-thumb:hover{background-color:#cfcfcf}.rcb-chat-body-container::-webkit-scrollbar-corner{background-color:#f1f1f1}.rcb-checkbox-container{display:flex;padding-top:12px;margin-left:16px;flex-wrap:wrap;gap:10px}.rcb-checkbox-offset{margin-left:50px!important}.rcb-checkbox-row-container{display:flex;align-items:center;gap:5px;border-width:.5px;border-style:solid;border-radius:10px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out;overflow:hidden}.rcb-checkbox-row-container:hover{box-shadow:0 0 5px #0003}.rcb-checkbox-row{display:inline-flex;margin-left:10px;align-items:center;cursor:pointer}.rcb-checkbox-mark{width:20px;height:20px;background-color:#f2f2f2;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;transition:all .3s ease;margin-right:10px;cursor:pointer}.rcb-checkbox-mark:hover{background-color:#c2c2c2}.rcb-checkbox-mark:before{content:"âœ“";transition:all .3s ease}.rcb-checkbox-label{font-size:14px}.rcb-checkbox-next-button{text-align:center;display:inline-block;align-items:center;border-width:.5px;border-style:solid;border-radius:10px;font-size:24px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out}.rcb-checkbox-next-button:before{content:"â†’"}.rcb-checkbox-next-button:hover{box-shadow:0 0 5px #0003}.rcb-options-container{padding-top:12px;margin-left:16px;max-width:70%;display:flex;flex-wrap:wrap;gap:10px}.rcb-options-offset{margin-left:50px!important}.rcb-options{display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:20px;font-size:14px;border-width:.5px;border-style:solid;cursor:pointer;transition:background-color .3s ease;animation:rcb-animation-options-entry .5s ease-out;overflow:hidden}.rcb-options:hover{box-shadow:0 0 5px #0003}.rcb-line-break-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;max-height:45px}.rcb-line-break-text{padding:6px 12px;color:#adadad;font-size:12px}.rcb-spinner-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-spinner{width:22px;height:22px;border-radius:50%;border:4px solid #f3f3f3;animation:rcb-animation-spin 1s linear infinite}.rcb-chat-input{padding:16px;border-top:1px solid #ccc;display:flex;align-items:center;background-color:#fff}.rcb-chat-input::placeholder{color:#999}.rcb-chat-input-textarea{flex:1;padding:8px 16px;border:none;border-radius:20px;outline:none;font-size:14px;resize:none;height:auto;overflow-y:scroll;font-family:inherit;background-color:#fff;color:#000;touch-action:none;border:1px solid rgb(209 213 219 / var(--tw-border-opacity, 1))}.rcb-chat-input-textarea::-webkit-scrollbar{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb:hover{background-color:transparent}.rcb-chat-input-char-counter{font-size:14px;margin-left:8px;margin-top:3px}.rcb-chat-footer-container{padding:12px 16px 8px 10px;border-top:1px solid #ccc;max-height:55px;display:flex;justify-content:space-between;align-items:flex-end;font-size:12px;background-color:#f2f2f2;color:#000}.rcb-chat-footer{display:flex;flex-direction:row}.rcb-toggle-button{display:flex;flex-direction:row;position:fixed;bottom:20px;right:20px;z-index:9999;width:64px;height:64px;border-radius:50%;border:none;cursor:pointer;box-shadow:0 2px 4px #0003}.rcb-toggle-button.rcb-button-hide{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}.rcb-toggle-button.rcb-button-show{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-toggle-icon{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;margin:auto;border-radius:inherit;color:#fff}.rcb-badge{position:absolute;top:-6px;right:-6px;border-radius:50%;background-color:red;color:#fff;height:25px;width:25px;display:flex;justify-content:center;align-items:center}.rcb-chat-tooltip{position:fixed;padding:16px;border-radius:20px;box-shadow:0 2px 6px #0003;white-space:nowrap;cursor:pointer;font-size:20px;transition:transform .3s ease;z-index:9999}.rcb-chat-tooltip-tail{content:"";position:absolute;top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-style:solid}.rcb-chat-tooltip.rcb-tooltip-hide{opacity:0;visibility:hidden;animation:rcb-animation-tooltip-out .5s ease-in-out}.rcb-chat-tooltip.rcb-tooltip-show{opacity:1;visibility:visible;animation:rcb-animation-tooltip-in .5s ease-in-out}.rcb-toast-prompt{padding:6px 12px;border-radius:5px;color:#7a7a7a;font-size:12px;text-align:center;background-color:#fff;border:.5px solid #7a7a7a;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999;width:100%;margin-top:6px;animation:rcb-animation-pop-in .3s ease-in-out}.rcb-toast-prompt-container{position:absolute;left:50%;transform:translate(-50%);bottom:0;margin:auto;display:flex;align-items:center;justify-content:flex-end;flex-direction:column;opacity:1;animation:popIn .3s ease-in-out;pointer-events:auto;margin-top:200}.rcb-media-display-image-container,.rcb-media-display-video-container{margin-top:8px;margin-right:16px;border-radius:22px;padding:16px;width:fit-content}.rcb-media-display-offset{margin-right:50px!important}.rcb-media-display-image{width:100%;height:auto;border-radius:22px;object-fit:cover}.rcb-media-display-video{width:100%;height:auto;border-radius:22px;background-color:#000}.rcb-media-display-audio{margin-top:8px;margin-right:16px;width:100%;height:auto;border-radius:22px}.rcb-media-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-attach-button-enabled,.rcb-attach-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center}.rcb-attach-button-enabled input[type=file],.rcb-attach-button-disabled input[type=file]{position:absolute;width:100%;height:100%;display:none}.rcb-attach-button-enabled{cursor:pointer}.rcb-attach-button-disabled{opacity:.5}.rcb-attach-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-attach-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-attach-icon-enabled,.rcb-attach-icon-disabled{display:inline-block;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat;background-size:cover;transition:background-image .3s ease}.rcb-attach-icon-enabled{cursor:pointer}.rcb-emoji-button-enabled,.rcb-emoji-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center;cursor:pointer}.rcb-emoji-icon-enabled,.rcb-emoji-icon-disabled{position:relative;display:inline-block;background-size:cover;font-size:20px;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat}.rcb-emoji-icon-enabled{cursor:pointer}.rcb-emoji-icon-disabled{opacity:.5}.rcb-emoji-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-emoji-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-emoji-button-popup{position:absolute;width:158px;background-color:#fff;border:1px solid #ccc;border-radius:4px;padding:8px;box-shadow:0 2px 4px #0003;max-height:200px;overflow-y:auto;transform:translateY(calc(-100% - 30px))}.rcb-emoji{cursor:pointer;font-size:24px;padding:3px;transition:transform .2s ease-in-out}.rcb-emoji:hover{transform:scale(1.2)}.rcb-audio-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-audio-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-audio-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-close-chat-icon{display:flex;background:transparent;width:25px;height:25px;align-items:center;justify-content:center;border:none;border-radius:100%;cursor:pointer;background-color:transparent}.rcb-close-chat-icon:hover{background-color:#548b96}.rcb-notification-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-notification-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-notification-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-voice-button-enabled,.rcb-voice-button-disabled{display:inline-flex;align-items:center;justify-content:center;text-transform:uppercase;border-radius:4px;box-shadow:0 0 3px #0000004d;cursor:pointer;height:32px;width:32px;margin-left:8px;transition:all .3s ease;background-color:#fff}.rcb-voice-button-enabled{border:1px solid red;box-shadow:0 0 3px #ff000080}.rcb-voice-button-enabled:hover{border:1px solid rgb(61,0,0)}.rcb-voice-button-disabled{border:1px;border-style:solid;border-color:#0003}.rcb-voice-button-disabled:hover{box-shadow:0 0 3px #8a0000}.rcb-voice-icon{width:60%;height:60%;background-size:cover;object-fit:cover;background-size:contain;background-repeat:no-repeat;background-position:center}.rcb-voice-icon.on{animation:rcb-animation-ping 1s infinite}.rcb-send-button{display:flex;justify-content:center;align-items:center;text-transform:uppercase;border:none;border-radius:50%;cursor:pointer;transition:background-color .3s ease;height:32px;width:32px;margin-left:8px}.rcb-send-icon{width:fit-content;color:#fff}.rcb-view-history-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-view-history-button{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border-color:#adadad;border-width:.5px;border-style:solid;max-width:60%;cursor:pointer;transition:color .3s ease,border-color .3s ease}.rcb-view-history-button>p{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rcb-chatbot-global{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5;z-index:9999}.rcb-chat-window{position:fixed;right:20px;bottom:20px;border-radius:10px;box-shadow:0 2px 4px #0003;background-color:#fff;transition:all .3s ease;overflow:hidden;display:flex;flex-direction:column;width:375px;height:550px}.rcb-window-embedded .rcb-chat-window{position:relative;opacity:1;visibility:visible;right:auto;bottom:auto}.rcb-window-open .rcb-chat-window{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-window-close .rcb-chat-window{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}@keyframes rcb-animation-expand{0%{transform:translate(100%,100%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-collapse{0%{transform:translate(0) scale(1);opacity:1}to{transform:translate(100%,100%) scale(0);opacity:0}}@keyframes rcb-animation-ping{0%{filter:brightness(100%);opacity:1}50%{filter:brightness(50%);opacity:.8}}@keyframes rcb-animation-bot-message-entry{0%{transform:translate(-100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-user-message-entry{0%{transform:translate(100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-bot-typing{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes rcb-animation-pop-in{0%{transform:scale(.8);opacity:0}70%{transform:scale(1.1);opacity:1}to{transform:scale(1)}}@keyframes rcb-animations-checkboxes-entry{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes rcb-animation-options-entry{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes rcb-animation-tooltip-in{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@keyframes rcb-animation-tooltip-out{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-5px)}}@keyframes rcb-animation-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
/*$vite$:1*/`,document.head.appendChild(Er);function Eo(n){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const a in n)if(a!=="default"){const i=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}return r.default=n,Object.freeze(r)}const ke=Eo(x);function Ir(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gn={exports:{}},Ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Io(){if(Ar)return Ot;Ar=1;var n=x,r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function b(g,m,h){var w,T={},B=null,E=null;h!==void 0&&(B=""+h),m.key!==void 0&&(B=""+m.key),m.ref!==void 0&&(E=m.ref);for(w in m)i.call(m,w)&&!p.hasOwnProperty(w)&&(T[w]=m[w]);if(g&&g.defaultProps)for(w in m=g.defaultProps,m)T[w]===void 0&&(T[w]=m[w]);return{$$typeof:r,type:g,key:B,ref:E,props:T,_owner:l.current}}return Ot.Fragment=a,Ot.jsx=b,Ot.jsxs=b,Ot}var Br;function Ao(){return Br||(Br=1,Gn.exports=Io()),Gn.exports}var y=Ao(),nn={},_r;function Bo(){if(_r)return nn;_r=1;var n=jt;return nn.createRoot=n.createRoot,nn.hydrateRoot=n.hydrateRoot,nn}var _o=Bo();const Mo=Ir(_o),Te={AUDIO_BUTTON:"audio-button",NOTIFICATION_BUTTON:"notification-button",CLOSE_CHAT_BUTTON:"close-chat-button",SEND_MESSAGE_BUTTON:"send-button",VOICE_MESSAGE_BUTTON:"voice-button",FILE_ATTACHMENT_BUTTON:"file-attachment-button",EMOJI_PICKER_BUTTON:"emoji-button"},Po="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2042%2042'%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:4'%20d='M17%209a8%208%200%200%201-8%208%208%208%200%200%201-8-8%208%208%200%200%201%208-8%208%208%200%200%201%208%208Zm0%200'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:10'%20d='M14.66%2014.66%203.34%203.34'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3c/svg%3e",jo="data:image/svg+xml,%3csvg%20width='140'%20height='140'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cy='60.044'%20cx='70'%20fill='%235c5c5c'%20r='29'/%3e%3cpath%20d='m16.36%20156.186-.01-30.5c-.005-16.844%2024.168-30.507%2053.991-30.516%2029.823-.009%2054.004%2013.64%2054.01%2030.484l.008%2030.5-108%20.032z'%20fill='%235c5c5c'/%3e%3c/svg%3e",Oo=(n,r)=>ke.createElement("svg",{viewBox:"0 0 637 637",ref:r,...n},ke.createElement("path",{d:"m478 113-13 2-4 1h4l14-2c10-2 35-2 42-1l6 3 3 1c3 0-4-3-8-5-7-1-34-1-44 1m56 6 8 6c7 5 20 17 20 19s7 12 8 12l-3-6-4-6c0-3-15-17-25-24-5-3-8-4-4-1m-198 16-9 1a512 512 0 0 1 9-1m-180 30a412 412 0 0 0-23 4 167 167 0 0 0-32 8 439 439 0 0 1 46-9 304 304 0 0 1 11-2l6-1h-8m369 8 4 3-7-6c-1 0 0 2 3 3m-439 9c-7 3-18 13-18 15l6-5c5-5 9-8 14-10l6-4-8 4m442 12-10 11-7 6 7-6c7-5 14-14 13-16l-3 5M65 205l-1 11c0 9 0 10 4 17 5 10 7 12 22 11 10 0 15 0 38-5l5-1-6 1-16 2-21 2c-13 1-16-1-21-10-3-5-4-6-4-15l1-12c1-4 1-5-1-1m335 1c3 0 3 1 3 3l-2 6c-2 5-35 39-76 80-53 51-120 117-138 137-21 24-22 25-22 27 0 3 6 9 9 9 4 0 14-8 38-27a5073 5073 0 0 1 15-16 1421 1421 0 0 0-17 15l-31 25-6 2-4-3c-3-3-3-4-2-6 3-8 79-85 160-163 57-57 79-80 79-86 0-2-3-4-7-4-2 0-2 0 1 1m165 18c-9 17-25 32-57 53l-10 8 16-11 12-8c15-10 27-22 39-39 5-7 6-8 4-8l-4 5m-221 2a199 199 0 0 0-19 10 183 183 0 0 1 27-12c0-1-1-1-8 2m-34 16c-3 3-2 3 2 0l1-2-3 2m151 3-1 2 2-2c3-3 2-3-1 0m-16 12-11 10a281 281 0 0 0 11-10m-24 18-7 5-7 5-42 31c-10 7-24 19-22 19l7-6 16-12a343 343 0 0 0 35-25 573 573 0 0 0 20-17m-187 0-2 2 4-2 3-2-5 2m-14 6-3 2 4-1 4-3-5 2m-7 3-8 4-18 8 18-7 7-3 3-1c1-2 0-2-2-1m254 24a2672 2672 0 0 1-71 54 601 601 0 0 0 39-29 1352 1352 0 0 1 32-25m-291-8-2 2 4-2 3-2-5 2m-13 5-2 2h3c5-3 4-4-1-2m-19 9-7 3-13 6c-10 5-13 7-14 10-3 4-2 5 1 0 2-3 5-5 14-9l13-6 12-6-6 2m178 36c-17 12-21 16-21 17a390 390 0 0 1 20-17m-206 34 1 4 1 3 1 5 2 8 1 5v-6l-1-8-2-5-1-4-1-2c-1-2-1-2-1 0m222 23-9 7a683 683 0 0 0-56 44 261 261 0 0 0-26 20 1345 1345 0 0 0-46 34c-6 3-7 3-19 3-11 0-12 0-18-3-8-4-10-8-17-20l-5-10 4 10c5 10 12 18 19 22 4 2 6 2 17 2 13 0 14 0 21-3l26-19 42-33a2183 2183 0 0 0 43-34 643 643 0 0 1 24-20",fill:"#fff",fillRule:"evenodd"}),ke.createElement("path",{d:"M478 114a620 620 0 0 1-39 6l-21 3a5481 5481 0 0 0-19 3 870 870 0 0 1-54 8l-1 1-6 1-12 2-13 2a992 992 0 0 0-76 12 400 400 0 0 1-45 8l-6 1-5 1h-3l-3 1-2 1-26 4-13 2-17 3c-23 5-33 9-43 19-7 8-9 13-9 27 0 8 1 9 4 14 5 9 8 11 21 10l21-2a1133 1133 0 0 1 23-4 659 659 0 0 0 74-14l3-1h3l3-1h3l2-1 2-1h3l2-1h2l24-5 38-7a2100 2100 0 0 1 93-18l3-1 10-1a2082 2082 0 0 1 120-17l2 1c2 0 8 5 8 7l1 2 1 6c0 4 0 6-3 10-2 4-16 16-18 16l-7 5-10 8a1070 1070 0 0 0-11 7 113 113 0 0 1-20 14l-2 2-3 2-2 2h-1a154 154 0 0 1-28 21l-5 4-5 4a573 573 0 0 1-50 37 175 175 0 0 0-24 18l-1 2-2 1-2 1-2 1-1 1-12 10a396 396 0 0 0-32 25l-8 6-6 5-9 7a326 326 0 0 1-25 20l-13 12a5073 5073 0 0 0-17 15c-24 20-34 27-39 27-2 0-8-6-8-9 0-2 1-3 22-27 18-20 85-86 138-137 41-41 74-75 76-80l2-6c0-2 0-3-2-3l-7 1a233 233 0 0 1-26 9l-1 1-1 1h-1l-1 1h-2l-3 2-1 1h-2l-3 2h-1l-5 2-22 10-9 4-4 2-5 2-10 4-2 1-2 1-2 1-13 6a334 334 0 0 1-38 17 75 75 0 0 0-14 6l-5 2-4 1-2 1-3 2-7 3-16 6a247 247 0 0 0-32 14l-1 1h-2l-1 1h-2l-1 1-12 6a103 103 0 0 0-27 15l-2 5-1 1v11l1 5 1 5 1 4c0 3 0 4 2 4v3l1 3 1 2 2 10 1 4 1 5 2 10 2 8 1 4 1 4c3 3 9 25 11 38l1 7v2l1 4v1l1 1v2l1 2 1 3v1l5 10c7 13 9 16 17 20 6 3 7 3 18 3 12 0 13 0 19-3 8-4 11-6 26-18a1345 1345 0 0 1 85-67 683 683 0 0 1 50-39l12-9a513 513 0 0 1 44-33 201 201 0 0 0 22-17 2270 2270 0 0 0 73-54 158 158 0 0 0 58-59c2 0 3-9 4-27l-1-19-1-4-1-6-1-3-4-6-4-6c0-2-6-8-13-14a77 77 0 0 0-28-18c-6-1-34-1-43 1"})),Do=x.forwardRef(Oo),No=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M765-321q0 117-84 196-83 80-200 80-118 0-200-80t-83-196v-392q0-85 61-144 61-58 146-58 86 0 147 58 61 59 61 144v374q0 54-39 92-39 37-93 37-55 0-93-37-38-38-38-92v-372h110v372q0 9 6 14t15 5q8 0 15-5t7-14v-374q0-39-29-66t-68-27q-40 0-69 27t-29 66v392q0 71 51 119t122 48q71 0 122-48t51-119v-426h111v426Z"})),Mr=x.forwardRef(No),Fo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M125-165v-113h77v-273q0-93 55-167 56-75 146-100v-19q0-32 22-55 23-23 55-23t55 23q22 23 22 55v19q90 25 146 99 56 73 56 168v273h77v113H125ZM480-32q-38 0-66-27-27-27-27-66h186q0 39-27 66t-66 27Z"})),Ro=x.forwardRef(Fo),Lo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M137-190v-113h78v-253q0-41 11-79 11-39 35-71l-9 150h10L17-802l74-74L873-92l-74 74-175-172H137Zm609-149L319-769q20-15 41-25t44-16v-28q0-32 22-54t54-22q32 0 55 22t22 54v28q85 23 137 94t52 160v217ZM481-47q-38 0-65-27t-27-65h184q0 38-27 65t-65 27Z"})),Ho=x.forwardRef(Lo),Uo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M480-372q-61 0-105-43-43-43-43-105v-240q0-61 43-105 43-43 105-43 61 0 105 43 43 44 43 105v240q0 62-43 105t-105 43ZM425-76v-122q-121-16-197-108t-76-214h109q0 91 64 154t155 63q91 0 155-63t64-154h109q0 122-77 214T534-198v122H425Z"})),$o=x.forwardRef(Uo),Vo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"m763-343-80-79q8-20 13-44 5-23 5-54h109q0 49-11 95t-36 82ZM625-482 336-770v-2q3-56 45-96t101-40q62 0 105 43t43 105v249l-1 17q-1 7-4 12ZM427-76v-122q-120-16-196-108-77-92-77-214h109q0 91 64 154t155 63q43 0 80-14 37-15 67-41l78 79q-35 32-78 53t-93 28v122H427Zm362 27L41-796l75-75 748 748-75 74Z"})),zo=x.forwardRef(Vo),Wo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M625-511q29 0 50-21t20-50q0-29-20-50-21-20-50-20t-50 20-20 50q0 29 20 50 21 21 50 21Zm-290 0q29 0 50-21t20-49q0-30-20-50t-50-21q-29 0-50 20-20 21-20 50 0 30 20 50 21 21 50 21Zm145 268q75 0 137-43t85-115H258q24 72 85 115 62 43 137 43Zm0 198q-90 0-170-34-79-34-138-93T79-310q-34-80-34-170t34-170q34-79 93-138t138-93q80-34 170-34t170 34q79 34 138 93t93 138q34 80 34 170t-34 170q-34 79-93 138T650-79q-80 34-170 34Zm0-435Zm0 322q134 0 228-94t94-228q0-134-94-228t-228-94q-134 0-228 94t-94 228q0 134 94 228t228 94Z"})),Pr=x.forwardRef(Wo),qo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M553-64v-108q107-27 173-113 67-87 67-197 0-109-67-195T553-789v-108q152 26 249 144 97 117 97 271 0 155-97 273T553-64ZM61-335v-290h176l236-237v764L237-335H61Zm492 28v-346q51 23 82 70t31 103-31 103q-31 47-82 70Z"})),Go=x.forwardRef(qo),Zo=(n,r)=>ke.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},ke.createElement("path",{d:"M807-15 700-123q-33 21-71 37-38 15-80 22v-108q20-4 38-12l35-17-153-154v257L234-335H57v-290h144L10-818l74-75L882-90l-75 75Zm37-264-80-79q13-30 19-60 7-31 7-64 0-109-68-195-67-86-173-112v-108q152 26 249 144 98 117 98 271 0 55-14 107-13 51-38 96ZM661-462 549-575v-78q51 23 83 70 31 47 31 103l-1 9-1 9ZM469-655 366-759l103-103v207Z"})),Ko=x.forwardRef(Zo),jr={general:{primaryColor:"#1e2848",secondaryColor:"#20818c",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",showHeader:!0,showFooter:!1,showInputRow:!0,actionDisabledIcon:Po,embedded:!1,flowStartTrigger:"ON_LOAD",showTooltip:!1},tooltip:{mode:"CLOSE",text:"Need Help! ðŸ˜Š"},chatButton:{icon:y.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},header:{title:y.jsxs("div",{style:{display:"flex",alignItems:"baseline",flexDirection:"column"},children:[y.jsx("div",{style:{cursor:"pointer",margin:0,fontSize:16,fontWeight:"bold"},children:"AI Assistant"}),y.jsx("div",{style:{cursor:"pointer",fontSize:12,color:"#fff",opacity:.8},children:"Online now"})]}),showAvatar:!0,avatar:y.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"100%",backgroundColor:"#548b96",width:"32px",height:"32px",justifyContent:"center"},children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),buttons:[Te.CLOSE_CHAT_BUTTON],closeChatIcon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"m6 6 12 12"})]})},notification:{disabled:!0,defaultToggledOn:!0,volume:.2,icon:Ro,iconDisabled:Ho,sound:"/assets/notification_sound-CIeaSZag.wav",showCount:!0},audio:{disabled:!0,defaultToggledOn:!1,language:"en-US",voiceNames:["Microsoft David - English (United States)","Alex (English - United States)"],rate:1,volume:1,icon:Go,iconDisabled:Ko},chatHistory:{disabled:!0,maxEntries:30,storageKey:"rcb-history",storageType:"LOCAL_STORAGE",viewChatHistoryButtonText:"Load Chat History âŸ³",chatHistoryLineBreakText:"----- Previous Chat History -----",autoLoad:!1},chatInput:{disabled:!1,allowNewline:!1,enabledPlaceholderText:"Type your message...",disabledPlaceholderText:"",showCharacterCount:!1,characterLimit:-1,botDelay:1e3,sendButtonIcon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 19",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[y.jsx("path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}),y.jsx("path",{d:"m21.854 2.147-10.94 10.939"})]}),blockSpam:!0,sendOptionOutput:!0,sendCheckboxOutput:!0,buttons:[Te.SEND_MESSAGE_BUTTON]},chatWindow:{showScrollbar:!1,showTypingIndicator:!0,autoJumpToBottom:!1,showMessagePrompt:!0,messagePromptText:"New Messages â†“",messagePromptOffset:30,defaultOpen:!1},sensitiveInput:{maskInTextArea:!0,maskInUserBubble:!0,asterisksCount:10,hideInUserBubble:!1},userBubble:{animate:!0,showAvatar:!1,avatar:jo,simulateStream:!1,streamSpeed:30},botBubble:{animate:!0,showAvatar:!1,avatar:y.jsx("div",{style:{cursor:"pointer",margin:0,fontSize:12,fontWeight:"bold",color:"#fff"},children:"AI"}),simulateStream:!1,streamSpeed:30},voice:{disabled:!0,defaultToggledOn:!1,language:"en-US",timeoutPeriod:1e4,autoSendDisabled:!1,autoSendPeriod:1e3,sendAsAudio:!1,icon:$o,iconDisabled:zo},footer:{text:y.jsxs("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",columnGap:3},onClick:()=>window.open("https://react-chatbotify.com"),children:[y.jsx("span",{children:"Powered By "},0),y.jsx("div",{style:{borderRadius:"50%",width:14,height:14,display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right, #42b0c5, #491d8d)"},children:y.jsx(Do,{style:{width:"80%",height:"80%",fill:"#fff"}})},1),y.jsx("span",{style:{fontWeight:"bold"},children:"Epico"},2)]}),buttons:[Te.FILE_ATTACHMENT_BUTTON,Te.EMOJI_PICKER_BUTTON]},fileAttachment:{disabled:!1,multiple:!0,accept:".png",icon:Mr,iconDisabled:Mr,sendFileName:!0,showMediaDisplay:!1},emoji:{disabled:!1,icon:Pr,iconDisabled:Pr,list:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜…","ðŸ˜Š","ðŸ˜Œ","ðŸ˜‡","ðŸ™ƒ","ðŸ¤£","ðŸ˜","ðŸ¥°","ðŸ¥³","ðŸŽ‰","ðŸŽˆ","ðŸš€","â­ï¸"]},toast:{maxCount:3,forbidOnMax:!1,dismissOnClick:!0},event:{rcbPreInjectMessage:!1,rcbPostInjectMessage:!1,rcbStartSimulateStreamMessage:!1,rcbStopSimulateStreamMessage:!1,rcbStartStreamMessage:!1,rcbChunkStreamMessage:!1,rcbStopStreamMessage:!1,rcbRemoveMessage:!1,rcbLoadChatHistory:!1,rcbToggleChatWindow:!1,rcbStartSpeakAudio:!1,rcbToggleAudio:!1,rcbToggleNotifications:!1,rcbToggleVoice:!1,rcbChangePath:!1,rcbShowToast:!1,rcbDismissToast:!1,rcbUserSubmitText:!1,rcbUserUploadFile:!1,rcbTextAreaChangeValue:!1,rcbPreLoadChatBot:!1,rcbPostLoadChatBot:!1,rcbPreProcessBlock:!1,rcbPostProcessBlock:!1},ariaLabel:{chatButton:"open chat",audioButton:"toggle audio",closeChatButton:"close chat",emojiButton:"emoji picker",fileAttachmentButton:"upload file",notificationButton:"toggle notifications",sendButton:"send message",voiceButton:"toggle voice",inputTextArea:"input text area"},device:{desktopEnabled:!0,mobileEnabled:!0,applyMobileOptimizations:!0}},Or=x.createContext({settings:{},setSettings:()=>null}),ie=()=>x.useContext(Or),Jo=({children:n,settings:r=jr,setSettings:a})=>y.jsx(Or.Provider,{value:{settings:r,setSettings:a},children:n}),Dr={tooltipStyle:{},notificationBadgeStyle:{},chatWindowStyle:{},headerStyle:{},bodyStyle:{},chatInputContainerStyle:{},chatInputAreaStyle:{},chatInputAreaFocusedStyle:{},chatInputAreaDisabledStyle:{},userBubbleStyle:{},botBubbleStyle:{},botOptionStyle:{},botOptionHoveredStyle:{},botCheckboxRowStyle:{},botCheckboxNextStyle:{},botCheckMarkStyle:{},botCheckMarkSelectedStyle:{},characterLimitStyle:{},characterLimitReachedStyle:{},chatHistoryLineBreakStyle:{},chatMessagePromptStyle:{},chatMessagePromptHoveredStyle:{},footerStyle:{},loadingSpinnerStyle:{},mediaDisplayContainerStyle:{},chatButtonStyle:{},chatHistoryButtonStyle:{},chatHistoryButtonHoveredStyle:{},sendButtonStyle:{},sendButtonHoveredStyle:{},sendButtonDisabledStyle:{},audioButtonStyle:{},audioButtonDisabledStyle:{},closeChatButtonStyle:{},emojiButtonStyle:{},emojiButtonDisabledStyle:{},fileAttachmentButtonStyle:{},fileAttachmentButtonDisabledStyle:{},notificationButtonStyle:{},notificationButtonDisabledStyle:{},voiceButtonStyle:{},voiceButtonDisabledStyle:{},chatIconStyle:{},audioIconStyle:{},audioIconDisabledStyle:{},closeChatIconStyle:{},emojiIconStyle:{},emojiIconDisabledStyle:{},fileAttachmentIconStyle:{},fileAttachmentIconDisabledStyle:{},notificationIconStyle:{},notificationIconDisabledStyle:{},voiceIconStyle:{},voiceIconDisabledStyle:{},sendIconStyle:{},sendIconDisabledStyle:{},sendIconHoveredStyle:{},rcbTypingIndicatorContainerStyle:{},rcbTypingIndicatorDotStyle:{},toastPromptContainerStyle:{},toastPromptStyle:{},toastPromptHoveredStyle:{}},Nr=x.createContext({styles:{},setStyles:()=>null}),pe=()=>x.useContext(Nr),Yo=({children:n,styles:r=Dr,setStyles:a})=>y.jsx(Nr.Provider,{value:{styles:r,setStyles:a},children:n}),Xo=({buttons:n})=>{var l,p,b,g,m;const{settings:r}=ie(),{styles:a}=pe(),i={backgroundImage:`linear-gradient(to right, ${(l=r.general)==null?void 0:l.secondaryColor},
			${(p=r.general)==null?void 0:p.primaryColor})`,...a.headerStyle};return y.jsxs("div",{style:i,className:"rcb-chat-header-container",children:[y.jsxs("div",{className:"rcb-chat-header",children:[((b=r.header)==null?void 0:b.showAvatar)&&((g=r.header)==null?void 0:g.avatar),(m=r.header)==null?void 0:m.title]}),y.jsx("div",{className:"rcb-chat-header",children:n==null?void 0:n.map((h,w)=>y.jsx(x.Fragment,{children:h},w))})]})},Fr=x.createContext({}),Ee=()=>x.useContext(Fr),Qo=({children:n,botIdRef:r,flowRef:a})=>{const i=x.useRef(null),l=x.useRef(""),p=x.useRef(null),b=x.useRef(new Map),g=x.useRef(null),m=x.useRef(""),h=x.useRef(!1),w=x.useRef(null),T=x.useRef(null),B=x.useRef(null);return y.jsx(Fr.Provider,{value:{botIdRef:r,flowRef:a,inputRef:i,timeoutIdRef:p,streamMessageMap:b,chatBodyRef:g,paramsInputRef:m,keepVoiceOnRef:h,audioContextRef:w,audioBufferRef:T,gainNodeRef:B,prevInputRef:l},children:n})},Fe=n=>{const[r,a]=x.useState(n),i=x.useRef(n);return[r,p=>{const b=typeof p=="function"?p(i.current):p;i.current=b,a(b)},i]},Rr=x.createContext({}),Ie=()=>x.useContext(Rr),es=({children:n,settings:r})=>{var we,ve,De,_e,nt,Ce;const[a,i,l]=Fe(!1),[p,b,g]=Fe(((we=r==null?void 0:r.chatWindow)==null?void 0:we.defaultOpen)??!1),[m,h,w]=Fe(((ve=r==null?void 0:r.audio)==null?void 0:ve.defaultToggledOn)??!1),[T,B,E]=Fe(((De=r==null?void 0:r.voice)==null?void 0:De.defaultToggledOn)??!1),[I,D,M]=Fe(((_e=r==null?void 0:r.notification)==null?void 0:_e.defaultToggledOn)??!0),[R,F]=x.useState(!1),[L,z]=x.useState(!1),[V,P,j]=Fe(!1),[q,$,W]=Fe(!0),[O,H,G]=Fe(!1),[Z,K]=x.useState(!1),[ce,oe]=x.useState(!1),[de,le]=x.useState(0),[ue,te]=x.useState(0),[fe,Y]=x.useState(!1),[ne,ge]=x.useState(((nt=window.visualViewport)==null?void 0:nt.height)??window.innerHeight),[xe,ye]=x.useState(((Ce=window.visualViewport)==null?void 0:Ce.width)??window.innerWidth);return y.jsx(Rr.Provider,{value:{isBotTyping:a,setSyncedIsBotTyping:i,syncedIsBotTypingRef:l,isChatWindowOpen:p,setSyncedIsChatWindowOpen:b,syncedIsChatWindowOpenRef:g,audioToggledOn:m,setSyncedAudioToggledOn:h,syncedAudioToggledOnRef:w,voiceToggledOn:T,setSyncedVoiceToggledOn:B,syncedVoiceToggledOnRef:E,notificationsToggledOn:I,setSyncedNotificationsToggledOn:D,syncedNotificationsToggledOnRef:M,isLoadingChatHistory:R,setIsLoadingChatHistory:F,hasChatHistoryLoaded:L,setHasChatHistoryLoaded:z,isScrolling:V,setSyncedIsScrolling:P,syncedIsScrollingRef:j,textAreaDisabled:q,setSyncedTextAreaDisabled:$,syncedTextAreaDisabledRef:W,textAreaSensitiveMode:O,setSyncedTextAreaSensitiveMode:H,syncedTextAreaSensitiveModeRef:G,hasInteractedPage:Z,setHasInteractedPage:K,hasFlowStarted:ce,setHasFlowStarted:oe,unreadCount:de,setUnreadCount:le,inputLength:ue,setInputLength:te,blockAllowsAttachment:fe,setBlockAllowsAttachment:Y,viewportHeight:ne,setViewportHeight:ge,viewportWidth:xe,setViewportWidth:ye},children:n})};var J=(n=>(n.START_SPEAK_AUDIO="rcb-start-speak-audio",n.TOGGLE_AUDIO="rcb-toggle-audio",n.TOGGLE_NOTIFICATIONS="rcb-toggle-notifications",n.TOGGLE_VOICE="rcb-toggle-voice",n.TOGGLE_CHAT_WINDOW="rcb-toggle-chat-window",n.PRE_INJECT_MESSAGE="rcb-pre-inject-message",n.POST_INJECT_MESSAGE="rcb-post-inject-message",n.START_SIMULATE_STREAM_MESSAGE="rcb-start-simulate-stream-message",n.STOP_SIMULATE_STREAM_MESSAGE="rcb-stop-simulate-stream-message",n.START_STREAM_MESSAGE="rcb-start-stream-message",n.CHUNK_STREAM_MESSAGE="rcb-chunk-stream-message",n.STOP_STREAM_MESSAGE="rcb-stop-stream-message",n.REMOVE_MESSAGE="rcb-remove-message",n.LOAD_CHAT_HISTORY="rcb-load-chat-history",n.CHANGE_PATH="rcb-change-path",n.SHOW_TOAST="rcb-show-toast",n.DISMISS_TOAST="rcb-dismiss-toast",n.USER_SUBMIT_TEXT="rcb-user-submit-text",n.USER_UPLOAD_FILE="rcb-user-upload-file",n.TEXT_AREA_CHANGE_VALUE="rcb-text-area-change-value",n.PRE_LOAD_CHATBOT="rcb-pre-load-chatbot",n.POST_LOAD_CHATBOT="rcb-post-load-chatbot",n.PRE_PROCESS_BLOCK="rcb-pre-process-block",n.POST_PROCESS_BLOCK="rcb-post-process-block",n))(J||{});const ts={[J.START_SPEAK_AUDIO]:!0,[J.TOGGLE_AUDIO]:!0,[J.TOGGLE_VOICE]:!0,[J.TOGGLE_NOTIFICATIONS]:!0,[J.TOGGLE_CHAT_WINDOW]:!0,[J.PRE_INJECT_MESSAGE]:!0,[J.POST_INJECT_MESSAGE]:!1,[J.PRE_LOAD_CHATBOT]:!0,[J.POST_LOAD_CHATBOT]:!1,[J.START_SIMULATE_STREAM_MESSAGE]:!0,[J.STOP_SIMULATE_STREAM_MESSAGE]:!1,[J.START_STREAM_MESSAGE]:!0,[J.CHUNK_STREAM_MESSAGE]:!0,[J.STOP_STREAM_MESSAGE]:!0,[J.REMOVE_MESSAGE]:!0,[J.LOAD_CHAT_HISTORY]:!0,[J.CHANGE_PATH]:!0,[J.SHOW_TOAST]:!0,[J.DISMISS_TOAST]:!0,[J.USER_SUBMIT_TEXT]:!0,[J.USER_UPLOAD_FILE]:!0,[J.TEXT_AREA_CHANGE_VALUE]:!0,[J.PRE_PROCESS_BLOCK]:!0,[J.POST_PROCESS_BLOCK]:!0},Zn=async(n,r,a)=>{const i=new CustomEvent(n,{detail:r,cancelable:ts[n]});return i.data=a,i.promises=[],window.dispatchEvent(i),await Promise.all(i.promises),i},Lr=x.createContext({paths:[],setSyncedPaths:()=>{},syncedPathsRef:{current:[]}}),Dt=()=>x.useContext(Lr),ns=({children:n})=>{const[r,a,i]=Fe([]);return y.jsx(Lr.Provider,{value:{paths:r,setSyncedPaths:a,syncedPathsRef:i},children:n})},Re=()=>{const{botIdRef:n}=Ee(),{syncedPathsRef:r}=Dt(),a=x.useCallback(()=>r.current.length>0?r.current.at(-1)??null:null,[]),i=x.useCallback(()=>r.current.length>1?r.current.at(-2)??null:null,[]);return{dispatchRcbEvent:x.useCallback(async(p,b)=>{const g={botId:n.current,currPath:a(),prevPath:i()};return await Zn(p,g,b)},[n])}},Oe=()=>{const{settings:n}=ie(),{isChatWindowOpen:r,setSyncedIsChatWindowOpen:a,viewportHeight:i,setViewportHeight:l,viewportWidth:p,setViewportWidth:b,setUnreadCount:g,setSyncedIsBotTyping:m,setSyncedIsScrolling:h,syncedIsBotTypingRef:w,syncedIsChatWindowOpenRef:T}=Ie(),{chatBodyRef:B}=Ee(),{dispatchRcbEvent:E}=Re(),I=x.useCallback(()=>{if(!B.current)return!1;const L=B.current.getBoundingClientRect(),z=window.innerHeight??document.documentElement.clientHeight,V=window.innerWidth??document.documentElement.clientWidth;return L.top>=0&&L.left>=0&&L.bottom<=z&&L.right<=V},[B]),D=x.useCallback(async L=>{var z;L!==T.current&&((z=n.event)!=null&&z.rcbToggleChatWindow&&(await E(J.TOGGLE_CHAT_WINDOW,{currState:T.current,newState:!T.current})).defaultPrevented||a(V=>(V||g(0),!V)))},[T]),M=x.useCallback(async L=>{L!==w.current&&m(z=>!z)},[w]),R=x.useCallback((L,z,V,P)=>(L/=P/2,L<1?V/2*L*L+z:(L--,-V/2*(L*(L-2)-1)+z)),[]),F=x.useCallback((L=0)=>{if(!B.current)return;const z=B.current.scrollHeight-B.current.clientHeight;if(L<=0){B.current.scrollTop=z,h(!1);return}const V=B.current.scrollTop,P=z-V,j=20;let q=0;const $=()=>{if(!B.current)return;q+=j;const W=R(q,V,P,L);B.current.scrollTop=W,q<L?requestAnimationFrame($):h(!1)};$()},[B]);return{isChatWindowOpen:r,setSyncedIsChatWindowOpen:a,toggleChatWindow:D,viewportHeight:i,setViewportHeight:l,viewportWidth:p,setViewportWidth:b,toggleIsBotTyping:M,scrollToBottom:F,getIsChatBotVisible:I}},rs=()=>{var B,E,I;const{settings:n}=ie(),{styles:r}=pe(),{unreadCount:a,isScrolling:i}=Ie(),{chatBodyRef:l}=Ee(),{scrollToBottom:p}=Oe(),[b,g]=x.useState(!1),m={color:(B=n.general)==null?void 0:B.primaryColor,borderColor:(E=n.general)==null?void 0:E.primaryColor,...r.chatMessagePromptHoveredStyle},h=()=>{g(!0)},w=()=>{g(!1)},T=()=>{var M;return l.current&&((M=n.chatWindow)==null?void 0:M.showMessagePrompt)&&i&&a>0?"visible":"hidden"};return y.jsx("div",{className:`rcb-message-prompt-container ${T()}`,children:y.jsx("div",{onMouseEnter:h,onMouseLeave:w,style:b?m:{...r.chatMessagePromptStyle},onMouseDown:D=>{D.preventDefault(),p(600)},className:"rcb-message-prompt-text",children:(I=n.chatWindow)==null?void 0:I.messagePromptText})})},Hr=x.createContext({messages:[],setSyncedMessages:()=>{},syncedMessagesRef:{current:[]}}),Kn=()=>x.useContext(Hr),os=({children:n})=>{const[r,a,i]=Fe([]);return y.jsx(Hr.Provider,{value:{messages:r,setSyncedMessages:a,syncedMessagesRef:i},children:n})},ss=({message:n,isNewSender:r})=>{var w,T,B,E;const{settings:a}=ie(),{styles:i}=pe(),l=typeof n.content=="string",p=n.content,b=n.contentWrapper?y.jsx(n.contentWrapper,{children:p}):p,g={background:"linear-gradient(135deg, rgb(34, 123, 135) 0%, rgb(30, 41, 72) 100%)",color:"#fff",maxWidth:(w=a.userBubble)!=null&&w.showAvatar?"65%":"70%",...i.userBubbleStyle},m=(T=a.userBubble)!=null&&T.animate?"rcb-user-message-entry":"";(B=a.userBubble)!=null&&B.showAvatar;const h=`rcb-user-message${!r&&((E=a.userBubble)!=null&&E.showAvatar)?" rcb-user-message-offset":""}`;return y.jsx("div",{className:"rcb-user-message-container",children:l?y.jsx("div",{style:g,className:`${h} ${m}`,children:b}):y.jsx(y.Fragment,{children:b})})},is=({message:n,isNewSender:r})=>{var T,B,E,I;const{settings:a}=ie(),{styles:i}=pe(),l=typeof n.content=="string",p=n.content,b=n.contentWrapper?y.jsx(n.contentWrapper,{children:p}):p,g={backgroundColor:"#f3f4f6",color:"rgb(31 41 55 / var(--tw-text-opacity, 1))",maxWidth:(T=a.botBubble)!=null&&T.showAvatar?"65%":"70%",...i.botBubbleStyle},m=(B=a.botBubble)!=null&&B.animate?"rcb-bot-message-entry":"",h=((E=a.botBubble)==null?void 0:E.showAvatar)&&r;return y.jsxs("div",{className:"rcb-bot-message-container",children:[h&&y.jsxs("div",{className:"rcb-message-bot-avatar-container",children:[y.jsx("div",{className:"rcb-message-bot-avtar",children:(I=a.botBubble)==null?void 0:I.avatar}),y.jsx("div",{className:"rcb-message-bot-avatar-heading",children:"Ai Assistant"})]}),l?y.jsx("div",{style:g,className:`rcb-bot-message ${m}`,children:b}):y.jsx(y.Fragment,{children:b})]})},as=()=>{var i,l,p;const{settings:n}=ie(),{styles:r}=pe(),a=(i=n.botBubble)!=null&&i.animate?"rcb-bot-message-entry":"";return y.jsxs("div",{className:"rcb-bot-message-container",children:[((l=n.botBubble)==null?void 0:l.showAvatar)&&y.jsx("div",{style:{backgroundImage:`url("${(p=n.botBubble)==null?void 0:p.avatar}")`},className:"rcb-message-bot-avatar"}),y.jsx("div",{onMouseDown:b=>{b.preventDefault()},className:`rcb-bot-message ${a}`,children:y.jsxs("div",{className:"rcb-typing-indicator",style:{...r==null?void 0:r.rcbTypingIndicatorContainerStyle},children:[y.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}}),y.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}}),y.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}})]})})]})},ls=()=>{var h,w,T;const{settings:n}=ie(),{styles:r}=pe(),{messages:a}=Kn(),{scrollToBottom:i}=Oe(),{isBotTyping:l,syncedIsScrollingRef:p}=Ie(),{chatBodyRef:b}=Ee(),g={...r==null?void 0:r.bodyStyle,scrollbarWidth:(h=n.chatWindow)!=null&&h.showScrollbar?"auto":"none"};x.useEffect(()=>{p.current||i()},[(w=b.current)==null?void 0:w.scrollHeight]);const m=B=>B===0?!0:a[B].sender!==a[B-1].sender;return y.jsxs("div",{style:g,className:"rcb-chat-body-container",ref:b,children:[a.map((B,E)=>{const I=m(E);return B.sender.toUpperCase()==="USER"?y.jsx(ss,{message:B,isNewSender:I},E):B.sender.toUpperCase()==="BOT"?y.jsx(is,{message:B,isNewSender:I},E):y.jsx("div",{children:B.content},E)}),l&&((T=n.chatWindow)==null?void 0:T.showTypingIndicator)&&y.jsx(as,{}),y.jsx(rs,{})]})},cs=({checkboxes:n,checkedItems:r,path:a})=>{var M,R,F,L,z,V,P,j,q,$,W;const{settings:i}=ie(),{styles:l}=pe(),{paths:p}=Dt(),{handleSubmitText:b}=xt(),[g,m]=x.useState(new Set),[h,w]=x.useState(!1),T={cursor:h?`url("${(M=i.general)==null?void 0:M.actionDisabledIcon}"), auto`:"pointer",color:(R=i.general)==null?void 0:R.primaryColor,borderColor:(F=i.general)==null?void 0:F.primaryColor,...l.botCheckboxRowStyle},B={cursor:h||g.size<n.min?`url("${(L=i.general)==null?void 0:L.actionDisabledIcon}"), auto`:"pointer",color:(z=i.general)==null?void 0:z.primaryColor,borderColor:(V=i.general)==null?void 0:V.primaryColor,...l.botCheckboxNextStyle},E={cursor:h?`url("${(P=i.general)==null?void 0:P.actionDisabledIcon}"), auto`:"pointer",color:"transparent",...l.botCheckMarkStyle},I={cursor:h?`url("${(j=i.general)==null?void 0:j.actionDisabledIcon}"), auto`:"pointer",color:"#fff",borderColor:(q=i.general)==null?void 0:q.primaryColor,backgroundColor:($=i.general)==null?void 0:$.primaryColor,...l.botCheckMarkSelectedStyle};x.useEffect(()=>{p.length>0&&p[p.length-1]!==a&&w(!n.reusable)},[p]);const D=O=>{h||m(H=>{const G=new Set(H);if(G.has(O))r.delete(O),G.delete(O);else{if(g.size==n.max)return H;r.add(O),G.add(O)}return G})};return y.jsxs("div",{className:`rcb-checkbox-container ${(W=i.botBubble)!=null&&W.showAvatar?"rcb-checkbox-offset":""}`,children:[n.items.map(O=>y.jsx("div",{onMouseDown:H=>{H.preventDefault(),D(O)},style:T,className:"rcb-checkbox-row-container",children:y.jsxs("div",{className:"rcb-checkbox-row",children:[y.jsx("div",{style:g.has(O)?I:E,className:"rcb-checkbox-mark"}),y.jsx("div",{className:"rcb-checkbox-label",children:O})]})},O)),y.jsx("div",{style:B,className:"rcb-checkbox-next-button",onMouseDown:O=>{var Z;if(O.preventDefault(),h||g.size<n.min)return;const H=Array.from(r).join(", ");w(!n.reusable);let G;n.sendOutput!=null?G=n.sendOutput:G=((Z=i.chatInput)==null?void 0:Z.sendCheckboxOutput)??!0,b(H,G)}})]})},us=async(n,r)=>{const a=n.checkboxes;if(!a)return;let i;if(typeof a=="function"?(i=a(r),i instanceof Promise&&(i=await i)):i=a,Array.isArray(i)&&(i={items:i}),!("items"in i)||i.items.length==0)return;i.min==null&&(i.min=1),i.max==null&&(i.max=i.items.length),i.min>i.max&&(i.min=i.max),i.reusable==null&&(i.reusable=!1);const l=new Set,p=r.currPath,b=y.jsx(cs,{checkboxes:i,checkedItems:l,path:p});await r.injectMessage(b)},ds=async(n,r)=>{const a=n.function;if(!a)return;const i=a(r);return i instanceof Promise?await i:i},fs=async(n,r,a)=>{const i=n.message;if(!i)return;if(typeof i=="string"){i.trim()!==""&&(a?await r.simulateStreamMessage(i):await r.injectMessage(i));return}let l=i(r);l instanceof Promise&&(l=await l),typeof l=="string"&&l.trim()!==""&&(a?await r.simulateStreamMessage(l):await r.injectMessage(l))},ps=({options:n,path:r})=>{var I,D,M,R,F,L;const{settings:a}=ie(),{styles:i}=pe(),{paths:l}=Dt(),{handleSubmitText:p}=xt(),[b,g]=x.useState([]),[m,h]=x.useState(!1),w={cursor:m?`url("${(I=a.general)==null?void 0:I.actionDisabledIcon}"), auto`:"pointer",color:(D=a.general)==null?void 0:D.primaryColor,borderColor:(M=a.general)==null?void 0:M.primaryColor,backgroundColor:"#fff",...i.botOptionStyle},T={color:"#fff",borderColor:(R=a.general)==null?void 0:R.primaryColor,backgroundColor:(F=a.general)==null?void 0:F.primaryColor,...i.botOptionHoveredStyle};x.useEffect(()=>{l.length>0&&l[l.length-1]!==r&&h(!n.reusable)},[l]);const B=z=>{g(V=>{const P=[...V];return P[z]=!0,P})},E=z=>{g(V=>{const P=[...V];return P[z]=!1,P})};return y.jsx("div",{className:`rcb-options-container ${(L=a.botBubble)!=null&&L.showAvatar?"rcb-options-offset":""}`,children:n.items.map((z,V)=>{const P=b[V]&&!m;return y.jsx("div",{className:"rcb-options",style:P?T:w,onMouseEnter:()=>B(V),onMouseLeave:()=>E(V),onMouseDown:j=>{var $;if(j.preventDefault(),m)return;h(!n.reusable);let q;n.sendOutput!=null?q=n.sendOutput:q=(($=a.chatInput)==null?void 0:$.sendOptionOutput)??!0,p(z,q)},children:z},z)})})},hs=async(n,r)=>{const a=n.options;if(!a)return;let i;if(typeof a=="function"?(i=a(r),i instanceof Promise&&(i=await i)):i=a,Array.isArray(i)&&(i={items:i}),!("items"in i)||i.items.length==0)return;i.reusable==null&&(i.reusable=!1);const l=r.currPath,p=y.jsx(ps,{options:i,path:l});await r.injectMessage(p)},ms=async(n,r)=>{const a=n.path;if(!a)return!1;if(typeof a=="string")return await r.goToPath(a),!0;let i=a(r);if(i instanceof Promise&&(i=await i),!i)return!1;const l=i;return await r.goToPath(l),!0},gs=async(n,r)=>{const a=n.component;if(a){if(typeof a=="function"){let i=a(r);if(i instanceof Promise&&(i=await i),!i)return;await r.injectMessage(i);return}await r.injectMessage(a)}},ys=async(n,r,a,i)=>{const l=n.transition;let p;if(typeof l=="function"?(p=l(r),p instanceof Promise&&(p=await p)):p=l,typeof p=="number"&&(p={duration:p}),!p||p instanceof Promise||p.duration==null||typeof p.duration!="number")return;p.interruptable==null&&(p.interruptable=!1);const b=setTimeout(async()=>{const g=await i(n);g&&await $r(g,r)},p.duration);p.interruptable&&(a.current=b)},bs=async(n,r,a)=>{const i=n.chatDisabled;if(i==null)return;let l;typeof i=="function"?(l=i(r),l instanceof Promise&&(l=await l)):l=i,a(l)},Ur=async(n,r,a)=>{const i=n.isSensitive;if(!i){a(!1);return}let l;typeof i=="function"?(l=i(r),l instanceof Promise&&(l=await l)):l=i,a(l)},xs=async(n,r,a,i,l,p,b)=>{if(!n)throw new Error("Block is not valid.");for(const g of Object.keys(n))switch(g){case"message":await fs(n,r,a);break;case"options":await hs(n,r);break;case"checkboxes":await us(n,r);break;case"component":await gs(n,r);break;case"chatDisabled":await bs(n,r,l);break;case"isSensitive":await Ur(n,r,p);break;case"transition":await ys(n,r,i,b)}},$r=async(n,r)=>{if(!n)throw new Error("Block is not valid.");const a=Object.keys(n);for(const i of a)i==="function"&&await ds(n,r);a.includes("path")&&await ms(n,r)};var Qe={},at={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr;function Ss(){if(Vr)return at;Vr=1;var n=x;function r(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},p={};function b(e){return a.call(p,e)?!0:a.call(l,e)?!1:i.test(e)?p[e]=!0:(l[e]=!0,!1)}function g(e,s,u,f,k,S,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=e,this.type=s,this.sanitizeURL=S,this.removeEmptyString=A}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];m[s]=new g(s,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var h=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(h,w);m[s]=new g(s,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(h,w);m[s]=new g(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(h,w);m[s]=new g(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var T={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B=["Webkit","ms","Moz","O"];Object.keys(T).forEach(function(e){B.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),T[s]=T[e]})});var E=/["'&<>]/;function I(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var s=E.exec(e);if(s){var u="",f,k=0;for(f=s.index;f<e.length;f++){switch(e.charCodeAt(f)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#x27;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}k!==f&&(u+=e.substring(k,f)),k=f+1,u+=s}e=k!==f?u+e.substring(k,f):u}return e}var D=/([A-Z])/g,M=/^ms-/,R=Array.isArray;function F(e,s){return{insertionMode:e,selectedValue:s}}function L(e,s,u){switch(s){case"select":return F(1,u.value!=null?u.value:u.defaultValue);case"svg":return F(2,null);case"math":return F(3,null);case"foreignObject":return F(1,null);case"table":return F(4,null);case"thead":case"tbody":case"tfoot":return F(5,null);case"colgroup":return F(7,null);case"tr":return F(6,null)}return 4<=e.insertionMode||e.insertionMode===0?F(1,null):e}var z=new Map;function V(e,s,u){if(typeof u!="object")throw Error(r(62));s=!0;for(var f in u)if(a.call(u,f)){var k=u[f];if(k!=null&&typeof k!="boolean"&&k!==""){if(f.indexOf("--")===0){var S=I(f);k=I((""+k).trim())}else{S=f;var A=z.get(S);A!==void 0||(A=I(S.replace(D,"-$1").toLowerCase().replace(M,"-ms-")),z.set(S,A)),S=A,k=typeof k=="number"?k===0||a.call(T,f)?""+k:k+"px":I((""+k).trim())}s?(s=!1,e.push(' style="',S,":",k)):e.push(";",S,":",k)}}s||e.push('"')}function P(e,s,u,f){switch(u){case"style":V(e,s,f);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N"){if(s=m.hasOwnProperty(u)?m[u]:null,s!==null){switch(typeof f){case"function":case"symbol":return;case"boolean":if(!s.acceptsBooleans)return}switch(u=s.attributeName,s.type){case 3:f&&e.push(" ",u,'=""');break;case 4:f===!0?e.push(" ",u,'=""'):f!==!1&&e.push(" ",u,'="',I(f),'"');break;case 5:isNaN(f)||e.push(" ",u,'="',I(f),'"');break;case 6:!isNaN(f)&&1<=f&&e.push(" ",u,'="',I(f),'"');break;default:s.sanitizeURL&&(f=""+f),e.push(" ",u,'="',I(f),'"')}}else if(b(u)){switch(typeof f){case"function":case"symbol":return;case"boolean":if(s=u.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-")return}e.push(" ",u,'="',I(f),'"')}}}function j(e,s,u){if(s!=null){if(u!=null)throw Error(r(60));if(typeof s!="object"||!("__html"in s))throw Error(r(61));s=s.__html,s!=null&&e.push(""+s)}}function q(e){var s="";return n.Children.forEach(e,function(u){u!=null&&(s+=u)}),s}function $(e,s,u,f){e.push(H(u));var k=u=null,S;for(S in s)if(a.call(s,S)){var A=s[S];if(A!=null)switch(S){case"children":u=A;break;case"dangerouslySetInnerHTML":k=A;break;default:P(e,f,S,A)}}return e.push(">"),j(e,k,u),typeof u=="string"?(e.push(I(u)),null):u}var W=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,O=new Map;function H(e){var s=O.get(e);if(s===void 0){if(!W.test(e))throw Error(r(65,e));s="<"+e,O.set(e,s)}return s}function G(e,s,u,f,k){switch(s){case"select":e.push(H("select"));var S=null,A=null;for(re in u)if(a.call(u,re)){var U=u[re];if(U!=null)switch(re){case"children":S=U;break;case"dangerouslySetInnerHTML":A=U;break;case"defaultValue":case"value":break;default:P(e,f,re,U)}}return e.push(">"),j(e,A,S),S;case"option":A=k.selectedValue,e.push(H("option"));var X=U=null,ee=null,re=null;for(S in u)if(a.call(u,S)){var Se=u[S];if(Se!=null)switch(S){case"children":U=Se;break;case"selected":ee=Se;break;case"dangerouslySetInnerHTML":re=Se;break;case"value":X=Se;default:P(e,f,S,Se)}}if(A!=null)if(u=X!==null?""+X:q(U),R(A)){for(f=0;f<A.length;f++)if(""+A[f]===u){e.push(' selected=""');break}}else""+A===u&&e.push(' selected=""');else ee&&e.push(' selected=""');return e.push(">"),j(e,re,U),U;case"textarea":e.push(H("textarea")),re=A=S=null;for(U in u)if(a.call(u,U)&&(X=u[U],X!=null))switch(U){case"children":re=X;break;case"value":S=X;break;case"defaultValue":A=X;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:P(e,f,U,X)}if(S===null&&A!==null&&(S=A),e.push(">"),re!=null){if(S!=null)throw Error(r(92));if(R(re)&&1<re.length)throw Error(r(93));S=""+re}return typeof S=="string"&&S[0]===`
`&&e.push(`
`),S!==null&&e.push(I(""+S)),null;case"input":e.push(H("input")),X=re=U=S=null;for(A in u)if(a.call(u,A)&&(ee=u[A],ee!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":X=ee;break;case"defaultValue":U=ee;break;case"checked":re=ee;break;case"value":S=ee;break;default:P(e,f,A,ee)}return re!==null?P(e,f,"checked",re):X!==null&&P(e,f,"checked",X),S!==null?P(e,f,"value",S):U!==null&&P(e,f,"value",U),e.push("/>"),null;case"menuitem":e.push(H("menuitem"));for(var He in u)if(a.call(u,He)&&(S=u[He],S!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:P(e,f,He,S)}return e.push(">"),null;case"title":e.push(H("title")),S=null;for(Se in u)if(a.call(u,Se)&&(A=u[Se],A!=null))switch(Se){case"children":S=A;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:P(e,f,Se,A)}return e.push(">"),S;case"listing":case"pre":e.push(H(s)),A=S=null;for(X in u)if(a.call(u,X)&&(U=u[X],U!=null))switch(X){case"children":S=U;break;case"dangerouslySetInnerHTML":A=U;break;default:P(e,f,X,U)}if(e.push(">"),A!=null){if(S!=null)throw Error(r(60));if(typeof A!="object"||!("__html"in A))throw Error(r(61));u=A.__html,u!=null&&(typeof u=="string"&&0<u.length&&u[0]===`
`?e.push(`
`,u):e.push(""+u))}return typeof S=="string"&&S[0]===`
`&&e.push(`
`),S;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(H(s));for(var Ue in u)if(a.call(u,Ue)&&(S=u[Ue],S!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,s));default:P(e,f,Ue,S)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return $(e,u,s,f);case"html":return k.insertionMode===0&&e.push("<!DOCTYPE html>"),$(e,u,s,f);default:if(s.indexOf("-")===-1&&typeof u.is!="string")return $(e,u,s,f);e.push(H(s)),A=S=null;for(ee in u)if(a.call(u,ee)&&(U=u[ee],U!=null))switch(ee){case"children":S=U;break;case"dangerouslySetInnerHTML":A=U;break;case"style":V(e,f,U);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:b(ee)&&typeof U!="function"&&typeof U!="symbol"&&e.push(" ",ee,'="',I(U),'"')}return e.push(">"),j(e,A,S),S}}function Z(e,s,u){if(e.push('<!--$?--><template id="'),u===null)throw Error(r(395));return e.push(u),e.push('"></template>')}function K(e,s,u,f){switch(u.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 4:return e.push('<table hidden id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');default:throw Error(r(397))}}function ce(e,s){switch(s.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(r(397))}}var oe=/[<\u2028\u2029]/g;function de(e){return JSON.stringify(e).replace(oe,function(s){switch(s){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function le(e,s){return s=s===void 0?"":s,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:s+"P:",segmentPrefix:s+"S:",boundaryPrefix:s+"B:",idPrefix:s,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function ue(e,s,u,f){return u.generateStaticMarkup?(e.push(I(s)),!1):(s===""?e=f:(f&&e.push("<!-- -->"),e.push(I(s)),e=!0),e)}var te=Object.assign,fe=Symbol.for("react.element"),Y=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),we=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),qe=Symbol.for("react.scope"),pn=Symbol.for("react.debug_trace_mode"),St=Symbol.for("react.legacy_hidden"),ir=Symbol.for("react.default_value"),vt=Symbol.iterator;function lt(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case Y:return"Portal";case xe:return"Profiler";case ge:return"StrictMode";case De:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case ve:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return s=e.displayName||null,s!==null?s:lt(e.type)||"Memo";case Ce:s=e._payload,e=e._init;try{return lt(e(s))}catch{}}return null}var wt={};function hn(e,s){if(e=e.contextTypes,!e)return wt;var u={},f;for(f in e)u[f]=s[f];return u}var Ge=null;function Ae(e,s){if(e!==s){e.context._currentValue2=e.parentValue,e=e.parent;var u=s.parent;if(e===null){if(u!==null)throw Error(r(401))}else{if(u===null)throw Error(r(401));Ae(e,u)}s.context._currentValue2=s.value}}function mn(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&mn(e)}function gn(e){var s=e.parent;s!==null&&gn(s),e.context._currentValue2=e.value}function yn(e,s){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(r(402));e.depth===s.depth?Ae(e,s):yn(e,s)}function bn(e,s){var u=s.parent;if(u===null)throw Error(r(402));e.depth===u.depth?Ae(e,u):bn(e,u),s.context._currentValue2=s.value}function Ct(e){var s=Ge;s!==e&&(s===null?gn(e):e===null?mn(s):s.depth===e.depth?Ae(s,e):s.depth>e.depth?yn(s,e):bn(s,e),Ge=e)}var xn={isMounted:function(){return!1},enqueueSetState:function(e,s){e=e._reactInternals,e.queue!==null&&e.queue.push(s)},enqueueReplaceState:function(e,s){e=e._reactInternals,e.replace=!0,e.queue=[s]},enqueueForceUpdate:function(){}};function Sn(e,s,u,f){var k=e.state!==void 0?e.state:null;e.updater=xn,e.props=u,e.state=k;var S={queue:[],replace:!1};e._reactInternals=S;var A=s.contextType;if(e.context=typeof A=="object"&&A!==null?A._currentValue2:f,A=s.getDerivedStateFromProps,typeof A=="function"&&(A=A(u,k),k=A==null?k:te({},k,A),e.state=k),typeof s.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(s=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),s!==e.state&&xn.enqueueReplaceState(e,e.state,null),S.queue!==null&&0<S.queue.length)if(s=S.queue,A=S.replace,S.queue=null,S.replace=!1,A&&s.length===1)e.state=s[0];else{for(S=A?s[0]:e.state,k=!0,A=A?1:0;A<s.length;A++){var U=s[A];U=typeof U=="function"?U.call(e,S,u,f):U,U!=null&&(k?(k=!1,S=te({},S,U)):te(S,U))}e.state=S}else S.queue=null}var ar={id:1,overflow:""};function Rt(e,s,u){var f=e.id;e=e.overflow;var k=32-kt(f)-1;f&=~(1<<k),u+=1;var S=32-kt(s)+k;if(30<S){var A=k-k%5;return S=(f&(1<<A)-1).toString(32),f>>=A,k-=A,{id:1<<32-kt(s)+k|u<<k|f,overflow:S+e}}return{id:1<<S|u<<k|f,overflow:e}}var kt=Math.clz32?Math.clz32:ur,lr=Math.log,cr=Math.LN2;function ur(e){return e>>>=0,e===0?32:31-(lr(e)/cr|0)|0}function dr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var fr=typeof Object.is=="function"?Object.is:dr,Ne=null,Lt=null,Tt=null,he=null,ct=!1,Et=!1,ut=0,Ze=null,It=0;function Je(){if(Ne===null)throw Error(r(321));return Ne}function vn(){if(0<It)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Ht(){return he===null?Tt===null?(ct=!1,Tt=he=vn()):(ct=!0,he=Tt):he.next===null?(ct=!1,he=he.next=vn()):(ct=!0,he=he.next),he}function Ut(){Lt=Ne=null,Et=!1,Tt=null,It=0,he=Ze=null}function wn(e,s){return typeof s=="function"?s(e):s}function Cn(e,s,u){if(Ne=Je(),he=Ht(),ct){var f=he.queue;if(s=f.dispatch,Ze!==null&&(u=Ze.get(f),u!==void 0)){Ze.delete(f),f=he.memoizedState;do f=e(f,u.action),u=u.next;while(u!==null);return he.memoizedState=f,[f,s]}return[he.memoizedState,s]}return e=e===wn?typeof s=="function"?s():s:u!==void 0?u(s):s,he.memoizedState=e,e=he.queue={last:null,dispatch:null},e=e.dispatch=pr.bind(null,Ne,e),[he.memoizedState,e]}function kn(e,s){if(Ne=Je(),he=Ht(),s=s===void 0?null:s,he!==null){var u=he.memoizedState;if(u!==null&&s!==null){var f=u[1];e:if(f===null)f=!1;else{for(var k=0;k<f.length&&k<s.length;k++)if(!fr(s[k],f[k])){f=!1;break e}f=!0}if(f)return u[0]}}return e=e(),he.memoizedState=[e,s],e}function pr(e,s,u){if(25<=It)throw Error(r(301));if(e===Ne)if(Et=!0,e={action:u,next:null},Ze===null&&(Ze=new Map),u=Ze.get(s),u===void 0)Ze.set(s,e);else{for(s=u;s.next!==null;)s=s.next;s.next=e}}function hr(){throw Error(r(394))}function At(){}var Tn={readContext:function(e){return e._currentValue2},useContext:function(e){return Je(),e._currentValue2},useMemo:kn,useReducer:Cn,useRef:function(e){Ne=Je(),he=Ht();var s=he.memoizedState;return s===null?(e={current:e},he.memoizedState=e):s},useState:function(e){return Cn(wn,e)},useInsertionEffect:At,useLayoutEffect:function(){},useCallback:function(e,s){return kn(function(){return e},s)},useImperativeHandle:At,useEffect:At,useDebugValue:At,useDeferredValue:function(e){return Je(),e},useTransition:function(){return Je(),[!1,hr]},useId:function(){var e=Lt.treeContext,s=e.overflow;e=e.id,e=(e&~(1<<32-kt(e)-1)).toString(32)+s;var u=Bt;if(u===null)throw Error(r(404));return s=ut++,e=":"+u.idPrefix+"R"+e,0<s&&(e+="H"+s.toString(32)),e+":"},useMutableSource:function(e,s){return Je(),s(e._source)},useSyncExternalStore:function(e,s,u){if(u===void 0)throw Error(r(407));return u()}},Bt=null,$t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function mr(e){return console.error(e),null}function dt(){}function gr(e,s,u,f,k,S,A,U,X){var ee=[],re=new Set;return s={destination:null,responseState:s,progressiveChunkSize:f===void 0?12800:f,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:re,pingedTasks:ee,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:k===void 0?mr:k,onAllReady:dt,onShellReady:A===void 0?dt:A,onShellError:dt,onFatalError:dt},u=_t(s,0,null,u,!1,!1),u.parentFlushed=!0,e=Vt(s,e,null,u,re,wt,null,ar),ee.push(e),s}function Vt(e,s,u,f,k,S,A,U){e.allPendingTasks++,u===null?e.pendingRootTasks++:u.pendingTasks++;var X={node:s,ping:function(){var ee=e.pingedTasks;ee.push(X),ee.length===1&&Mn(e)},blockedBoundary:u,blockedSegment:f,abortSet:k,legacyContext:S,context:A,treeContext:U};return k.add(X),X}function _t(e,s,u,f,k,S){return{status:0,id:-1,index:s,parentFlushed:!1,chunks:[],children:[],formatContext:f,boundary:u,lastPushedText:k,textEmbedded:S}}function ft(e,s){if(e=e.onError(s),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Mt(e,s){var u=e.onShellError;u(s),u=e.onFatalError,u(s),e.destination!==null?(e.status=2,e.destination.destroy(s)):(e.status=1,e.fatalError=s)}function En(e,s,u,f,k){for(Ne={},Lt=s,ut=0,e=u(f,k);Et;)Et=!1,ut=0,It+=1,he=null,e=u(f,k);return Ut(),e}function In(e,s,u,f){var k=u.render(),S=f.childContextTypes;if(S!=null){var A=s.legacyContext;if(typeof u.getChildContext!="function")f=A;else{u=u.getChildContext();for(var U in u)if(!(U in S))throw Error(r(108,lt(f)||"Unknown",U));f=te({},A,u)}s.legacyContext=f,Be(e,s,k),s.legacyContext=A}else Be(e,s,k)}function An(e,s){if(e&&e.defaultProps){s=te({},s),e=e.defaultProps;for(var u in e)s[u]===void 0&&(s[u]=e[u]);return s}return s}function zt(e,s,u,f,k){if(typeof u=="function")if(u.prototype&&u.prototype.isReactComponent){k=hn(u,s.legacyContext);var S=u.contextType;S=new u(f,typeof S=="object"&&S!==null?S._currentValue2:k),Sn(S,u,f,k),In(e,s,S,u)}else{S=hn(u,s.legacyContext),k=En(e,s,u,f,S);var A=ut!==0;if(typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0)Sn(k,u,f,S),In(e,s,k,u);else if(A){f=s.treeContext,s.treeContext=Rt(f,1,0);try{Be(e,s,k)}finally{s.treeContext=f}}else Be(e,s,k)}else if(typeof u=="string"){switch(k=s.blockedSegment,S=G(k.chunks,u,f,e.responseState,k.formatContext),k.lastPushedText=!1,A=k.formatContext,k.formatContext=L(A,u,f),Wt(e,s,S),k.formatContext=A,u){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:k.chunks.push("</",u,">")}k.lastPushedText=!1}else{switch(u){case St:case pn:case ge:case xe:case ne:Be(e,s,f.children);return;case _e:Be(e,s,f.children);return;case qe:throw Error(r(343));case De:e:{u=s.blockedBoundary,k=s.blockedSegment,S=f.fallback,f=f.children,A=new Set;var U={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:A,errorDigest:null},X=_t(e,k.chunks.length,U,k.formatContext,!1,!1);k.children.push(X),k.lastPushedText=!1;var ee=_t(e,0,null,k.formatContext,!1,!1);ee.parentFlushed=!0,s.blockedBoundary=U,s.blockedSegment=ee;try{if(Wt(e,s,f),e.responseState.generateStaticMarkup||ee.lastPushedText&&ee.textEmbedded&&ee.chunks.push("<!-- -->"),ee.status=1,rt(U,ee),U.pendingTasks===0)break e}catch(re){ee.status=4,U.forceClientRender=!0,U.errorDigest=ft(e,re)}finally{s.blockedBoundary=u,s.blockedSegment=k}s=Vt(e,S,u,X,A,s.legacyContext,s.context,s.treeContext),e.pingedTasks.push(s)}return}if(typeof u=="object"&&u!==null)switch(u.$$typeof){case ve:if(f=En(e,s,u.render,f,k),ut!==0){u=s.treeContext,s.treeContext=Rt(u,1,0);try{Be(e,s,f)}finally{s.treeContext=u}}else Be(e,s,f);return;case nt:u=u.type,f=An(u,f),zt(e,s,u,f,k);return;case ye:if(k=f.children,u=u._context,f=f.value,S=u._currentValue2,u._currentValue2=f,A=Ge,Ge=f={parent:A,depth:A===null?0:A.depth+1,context:u,parentValue:S,value:f},s.context=f,Be(e,s,k),e=Ge,e===null)throw Error(r(403));f=e.parentValue,e.context._currentValue2=f===ir?e.context._defaultValue:f,e=Ge=e.parent,s.context=e;return;case we:f=f.children,f=f(u._currentValue2),Be(e,s,f);return;case Ce:k=u._init,u=k(u._payload),f=An(u,f),zt(e,s,u,f,void 0);return}throw Error(r(130,u==null?u:typeof u,""))}}function Be(e,s,u){if(s.node=u,typeof u=="object"&&u!==null){switch(u.$$typeof){case fe:zt(e,s,u.type,u.props,u.ref);return;case Y:throw Error(r(257));case Ce:var f=u._init;u=f(u._payload),Be(e,s,u);return}if(R(u)){Bn(e,s,u);return}if(u===null||typeof u!="object"?f=null:(f=vt&&u[vt]||u["@@iterator"],f=typeof f=="function"?f:null),f&&(f=f.call(u))){if(u=f.next(),!u.done){var k=[];do k.push(u.value),u=f.next();while(!u.done);Bn(e,s,k)}return}throw e=Object.prototype.toString.call(u),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":e))}typeof u=="string"?(f=s.blockedSegment,f.lastPushedText=ue(s.blockedSegment.chunks,u,e.responseState,f.lastPushedText)):typeof u=="number"&&(f=s.blockedSegment,f.lastPushedText=ue(s.blockedSegment.chunks,""+u,e.responseState,f.lastPushedText))}function Bn(e,s,u){for(var f=u.length,k=0;k<f;k++){var S=s.treeContext;s.treeContext=Rt(S,f,k);try{Wt(e,s,u[k])}finally{s.treeContext=S}}}function Wt(e,s,u){var f=s.blockedSegment.formatContext,k=s.legacyContext,S=s.context;try{return Be(e,s,u)}catch(X){if(Ut(),typeof X=="object"&&X!==null&&typeof X.then=="function"){u=X;var A=s.blockedSegment,U=_t(e,A.chunks.length,null,A.formatContext,A.lastPushedText,!0);A.children.push(U),A.lastPushedText=!1,e=Vt(e,s.node,s.blockedBoundary,U,s.abortSet,s.legacyContext,s.context,s.treeContext).ping,u.then(e,e),s.blockedSegment.formatContext=f,s.legacyContext=k,s.context=S,Ct(S)}else throw s.blockedSegment.formatContext=f,s.legacyContext=k,s.context=S,Ct(S),X}}function qt(e){var s=e.blockedBoundary;e=e.blockedSegment,e.status=3,ot(this,s,e)}function _n(e,s,u){var f=e.blockedBoundary;e.blockedSegment.status=3,f===null?(s.allPendingTasks--,s.status!==2&&(s.status=2,s.destination!==null&&s.destination.push(null))):(f.pendingTasks--,f.forceClientRender||(f.forceClientRender=!0,e=u===void 0?Error(r(432)):u,f.errorDigest=s.onError(e),f.parentFlushed&&s.clientRenderedBoundaries.push(f)),f.fallbackAbortableTasks.forEach(function(k){return _n(k,s,u)}),f.fallbackAbortableTasks.clear(),s.allPendingTasks--,s.allPendingTasks===0&&(f=s.onAllReady,f()))}function rt(e,s){if(s.chunks.length===0&&s.children.length===1&&s.children[0].boundary===null){var u=s.children[0];u.id=s.id,u.parentFlushed=!0,u.status===1&&rt(e,u)}else e.completedSegments.push(s)}function ot(e,s,u){if(s===null){if(u.parentFlushed){if(e.completedRootSegment!==null)throw Error(r(389));e.completedRootSegment=u}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=dt,s=e.onShellReady,s())}else s.pendingTasks--,s.forceClientRender||(s.pendingTasks===0?(u.parentFlushed&&u.status===1&&rt(s,u),s.parentFlushed&&e.completedBoundaries.push(s),s.fallbackAbortableTasks.forEach(qt,e),s.fallbackAbortableTasks.clear()):u.parentFlushed&&u.status===1&&(rt(s,u),s.completedSegments.length===1&&s.parentFlushed&&e.partialBoundaries.push(s)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Mn(e){if(e.status!==2){var s=Ge,u=$t.current;$t.current=Tn;var f=Bt;Bt=e.responseState;try{var k=e.pingedTasks,S;for(S=0;S<k.length;S++){var A=k[S],U=e,X=A.blockedSegment;if(X.status===0){Ct(A.context);try{Be(U,A,A.node),U.responseState.generateStaticMarkup||X.lastPushedText&&X.textEmbedded&&X.chunks.push("<!-- -->"),A.abortSet.delete(A),X.status=1,ot(U,A.blockedBoundary,X)}catch(Me){if(Ut(),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"){var ee=A.ping;Me.then(ee,ee)}else{A.abortSet.delete(A),X.status=4;var re=A.blockedBoundary,Se=Me,He=ft(U,Se);if(re===null?Mt(U,Se):(re.pendingTasks--,re.forceClientRender||(re.forceClientRender=!0,re.errorDigest=He,re.parentFlushed&&U.clientRenderedBoundaries.push(re))),U.allPendingTasks--,U.allPendingTasks===0){var Ue=U.onAllReady;Ue()}}}finally{}}}k.splice(0,S),e.destination!==null&&Pt(e,e.destination)}catch(Me){ft(e,Me),Mt(e,Me)}finally{Bt=f,$t.current=u,u===Tn&&Ct(s)}}}function pt(e,s,u){switch(u.parentFlushed=!0,u.status){case 0:var f=u.id=e.nextSegmentId++;return u.lastPushedText=!1,u.textEmbedded=!1,e=e.responseState,s.push('<template id="'),s.push(e.placeholderPrefix),e=f.toString(16),s.push(e),s.push('"></template>');case 1:u.status=2;var k=!0;f=u.chunks;var S=0;u=u.children;for(var A=0;A<u.length;A++){for(k=u[A];S<k.index;S++)s.push(f[S]);k=ht(e,s,k)}for(;S<f.length-1;S++)s.push(f[S]);return S<f.length&&(k=s.push(f[S])),k;default:throw Error(r(390))}}function ht(e,s,u){var f=u.boundary;if(f===null)return pt(e,s,u);if(f.parentFlushed=!0,f.forceClientRender)return e.responseState.generateStaticMarkup||(f=f.errorDigest,s.push("<!--$!-->"),s.push("<template"),f&&(s.push(' data-dgst="'),f=I(f),s.push(f),s.push('"')),s.push("></template>")),pt(e,s,u),e=e.responseState.generateStaticMarkup?!0:s.push("<!--/$-->"),e;if(0<f.pendingTasks){f.rootSegmentID=e.nextSegmentId++,0<f.completedSegments.length&&e.partialBoundaries.push(f);var k=e.responseState,S=k.nextSuspenseID++;return k=k.boundaryPrefix+S.toString(16),f=f.id=k,Z(s,e.responseState,f),pt(e,s,u),s.push("<!--/$-->")}if(f.byteSize>e.progressiveChunkSize)return f.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(f),Z(s,e.responseState,f.id),pt(e,s,u),s.push("<!--/$-->");if(e.responseState.generateStaticMarkup||s.push("<!--$-->"),u=f.completedSegments,u.length!==1)throw Error(r(391));return ht(e,s,u[0]),e=e.responseState.generateStaticMarkup?!0:s.push("<!--/$-->"),e}function Gt(e,s,u){return K(s,e.responseState,u.formatContext,u.id),ht(e,s,u),ce(s,u.formatContext)}function Zt(e,s,u){for(var f=u.completedSegments,k=0;k<f.length;k++)Kt(e,s,u,f[k]);if(f.length=0,e=e.responseState,f=u.id,u=u.rootSegmentID,s.push(e.startInlineScript),e.sentCompleteBoundaryFunction?s.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,s.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),f===null)throw Error(r(395));return u=u.toString(16),s.push(f),s.push('","'),s.push(e.segmentPrefix),s.push(u),s.push('")<\/script>')}function Kt(e,s,u,f){if(f.status===2)return!0;var k=f.id;if(k===-1){if((f.id=u.rootSegmentID)===-1)throw Error(r(392));return Gt(e,s,f)}return Gt(e,s,f),e=e.responseState,s.push(e.startInlineScript),e.sentCompleteSegmentFunction?s.push('$RS("'):(e.sentCompleteSegmentFunction=!0,s.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),s.push(e.segmentPrefix),k=k.toString(16),s.push(k),s.push('","'),s.push(e.placeholderPrefix),s.push(k),s.push('")<\/script>')}function Pt(e,s){try{var u=e.completedRootSegment;if(u!==null&&e.pendingRootTasks===0){ht(e,s,u),e.completedRootSegment=null;var f=e.responseState.bootstrapChunks;for(u=0;u<f.length-1;u++)s.push(f[u]);u<f.length&&s.push(f[u])}var k=e.clientRenderedBoundaries,S;for(S=0;S<k.length;S++){var A=k[S];f=s;var U=e.responseState,X=A.id,ee=A.errorDigest,re=A.errorMessage,Se=A.errorComponentStack;if(f.push(U.startInlineScript),U.sentClientRenderFunction?f.push('$RX("'):(U.sentClientRenderFunction=!0,f.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),X===null)throw Error(r(395));if(f.push(X),f.push('"'),ee||re||Se){f.push(",");var He=de(ee||"");f.push(He)}if(re||Se){f.push(",");var Ue=de(re||"");f.push(Ue)}if(Se){f.push(",");var Me=de(Se);f.push(Me)}if(!f.push(")<\/script>")){e.destination=null,S++,k.splice(0,S);return}}k.splice(0,S);var mt=e.completedBoundaries;for(S=0;S<mt.length;S++)if(!Zt(e,s,mt[S])){e.destination=null,S++,mt.splice(0,S);return}mt.splice(0,S);var Ye=e.partialBoundaries;for(S=0;S<Ye.length;S++){var Yt=Ye[S];e:{k=e,A=s;var gt=Yt.completedSegments;for(U=0;U<gt.length;U++)if(!Kt(k,A,Yt,gt[U])){U++,gt.splice(0,U);var On=!1;break e}gt.splice(0,U),On=!0}if(!On){e.destination=null,S++,Ye.splice(0,S);return}}Ye.splice(0,S);var st=e.completedBoundaries;for(S=0;S<st.length;S++)if(!Zt(e,s,st[S])){e.destination=null,S++,st.splice(0,S);return}st.splice(0,S)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&s.push(null)}}function Pn(e,s){try{var u=e.abortableTasks;u.forEach(function(f){return _n(f,e,s)}),u.clear(),e.destination!==null&&Pt(e,e.destination)}catch(f){ft(e,f),Mt(e,f)}}function jn(){}function Jt(e,s,u,f){var k=!1,S=null,A="",U={push:function(ee){return ee!==null&&(A+=ee),!0},destroy:function(ee){k=!0,S=ee}},X=!1;if(e=gr(e,le(u,s?s.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,jn,void 0,function(){X=!0}),Mn(e),Pn(e,f),e.status===1)e.status=2,U.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=U;try{Pt(e,U)}catch(ee){ft(e,ee),Mt(e,ee)}}if(k)throw S;if(!X)throw Error(r(426));return A}return at.renderToNodeStream=function(){throw Error(r(207))},at.renderToStaticMarkup=function(e,s){return Jt(e,s,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},at.renderToStaticNodeStream=function(){throw Error(r(208))},at.renderToString=function(e,s){return Jt(e,s,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},at.version="18.3.1",at}var rn={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr;function vs(){if(zr)return rn;zr=1;var n=x;function r(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=null,i=0;function l(t,o){if(o.length!==0)if(512<o.length)0<i&&(t.enqueue(new Uint8Array(a.buffer,0,i)),a=new Uint8Array(512),i=0),t.enqueue(o);else{var c=a.length-i;c<o.length&&(c===0?t.enqueue(a):(a.set(o.subarray(0,c),i),t.enqueue(a),o=o.subarray(c)),a=new Uint8Array(512),i=0),a.set(o,i),i+=o.length}}function p(t,o){return l(t,o),!0}function b(t){a&&0<i&&(t.enqueue(new Uint8Array(a.buffer,0,i)),a=null,i=0)}var g=new TextEncoder;function m(t){return g.encode(t)}function h(t){return g.encode(t)}function w(t,o){typeof t.error=="function"?t.error(o):t.close()}var T=Object.prototype.hasOwnProperty,B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function D(t){return T.call(I,t)?!0:T.call(E,t)?!1:B.test(t)?I[t]=!0:(E[t]=!0,!1)}function M(t,o,c,d,C,v,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=C,this.mustUseProperty=c,this.propertyName=t,this.type=o,this.sanitizeURL=v,this.removeEmptyString=_}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new M(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];R[o]=new M(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new M(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new M(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new M(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new M(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new M(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new M(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new M(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(F,L);R[o]=new M(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(F,L);R[o]=new M(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(F,L);R[o]=new M(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new M(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new M(t,1,!1,t.toLowerCase(),null,!0,!0)});var z={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V=["Webkit","ms","Moz","O"];Object.keys(z).forEach(function(t){V.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),z[o]=z[t]})});var P=/["'&<>]/;function j(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var o=P.exec(t);if(o){var c="",d,C=0;for(d=o.index;d<t.length;d++){switch(t.charCodeAt(d)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}C!==d&&(c+=t.substring(C,d)),C=d+1,c+=o}t=C!==d?c+t.substring(C,d):c}return t}var q=/([A-Z])/g,$=/^ms-/,W=Array.isArray,O=h("<script>"),H=h("<\/script>"),G=h('<script src="'),Z=h('<script type="module" src="'),K=h('" async=""><\/script>'),ce=/(<\/|<)(s)(cript)/gi;function oe(t,o,c,d){return""+o+(c==="s"?"\\u0073":"\\u0053")+d}function de(t,o,c,d,C){t=t===void 0?"":t,o=o===void 0?O:h('<script nonce="'+j(o)+'">');var v=[];if(c!==void 0&&v.push(o,m((""+c).replace(ce,oe)),H),d!==void 0)for(c=0;c<d.length;c++)v.push(G,m(j(d[c])),K);if(C!==void 0)for(d=0;d<C.length;d++)v.push(Z,m(j(C[d])),K);return{bootstrapChunks:v,startInlineScript:o,placeholderPrefix:h(t+"P:"),segmentPrefix:h(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function le(t,o){return{insertionMode:t,selectedValue:o}}function ue(t){return le(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function te(t,o,c){switch(o){case"select":return le(1,c.value!=null?c.value:c.defaultValue);case"svg":return le(2,null);case"math":return le(3,null);case"foreignObject":return le(1,null);case"table":return le(4,null);case"thead":case"tbody":case"tfoot":return le(5,null);case"colgroup":return le(7,null);case"tr":return le(6,null)}return 4<=t.insertionMode||t.insertionMode===0?le(1,null):t}var fe=h("<!-- -->");function Y(t,o,c,d){return o===""?d:(d&&t.push(fe),t.push(m(j(o))),!0)}var ne=new Map,ge=h(' style="'),xe=h(":"),ye=h(";");function we(t,o,c){if(typeof c!="object")throw Error(r(62));o=!0;for(var d in c)if(T.call(c,d)){var C=c[d];if(C!=null&&typeof C!="boolean"&&C!==""){if(d.indexOf("--")===0){var v=m(j(d));C=m(j((""+C).trim()))}else{v=d;var _=ne.get(v);_!==void 0||(_=h(j(v.replace(q,"-$1").toLowerCase().replace($,"-ms-"))),ne.set(v,_)),v=_,C=typeof C=="number"?C===0||T.call(z,d)?m(""+C):m(C+"px"):m(j((""+C).trim()))}o?(o=!1,t.push(ge,v,xe,C)):t.push(ye,v,xe,C)}}o||t.push(_e)}var ve=h(" "),De=h('="'),_e=h('"'),nt=h('=""');function Ce(t,o,c,d){switch(c){case"style":we(t,o,d);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N"){if(o=R.hasOwnProperty(c)?R[c]:null,o!==null){switch(typeof d){case"function":case"symbol":return;case"boolean":if(!o.acceptsBooleans)return}switch(c=m(o.attributeName),o.type){case 3:d&&t.push(ve,c,nt);break;case 4:d===!0?t.push(ve,c,nt):d!==!1&&t.push(ve,c,De,m(j(d)),_e);break;case 5:isNaN(d)||t.push(ve,c,De,m(j(d)),_e);break;case 6:!isNaN(d)&&1<=d&&t.push(ve,c,De,m(j(d)),_e);break;default:o.sanitizeURL&&(d=""+d),t.push(ve,c,De,m(j(d)),_e)}}else if(D(c)){switch(typeof d){case"function":case"symbol":return;case"boolean":if(o=c.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-")return}t.push(ve,m(c),De,m(j(d)),_e)}}}var qe=h(">"),pn=h("/>");function St(t,o,c){if(o!=null){if(c!=null)throw Error(r(60));if(typeof o!="object"||!("__html"in o))throw Error(r(61));o=o.__html,o!=null&&t.push(m(""+o))}}function ir(t){var o="";return n.Children.forEach(t,function(c){c!=null&&(o+=c)}),o}var vt=h(' selected=""');function lt(t,o,c,d){t.push(Ae(c));var C=c=null,v;for(v in o)if(T.call(o,v)){var _=o[v];if(_!=null)switch(v){case"children":c=_;break;case"dangerouslySetInnerHTML":C=_;break;default:Ce(t,d,v,_)}}return t.push(qe),St(t,C,c),typeof c=="string"?(t.push(m(j(c))),null):c}var wt=h(`
`),hn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ge=new Map;function Ae(t){var o=Ge.get(t);if(o===void 0){if(!hn.test(t))throw Error(r(65,t));o=h("<"+t),Ge.set(t,o)}return o}var mn=h("<!DOCTYPE html>");function gn(t,o,c,d,C){switch(o){case"select":t.push(Ae("select"));var v=null,_=null;for(se in c)if(T.call(c,se)){var N=c[se];if(N!=null)switch(se){case"children":v=N;break;case"dangerouslySetInnerHTML":_=N;break;case"defaultValue":case"value":break;default:Ce(t,d,se,N)}}return t.push(qe),St(t,_,v),v;case"option":_=C.selectedValue,t.push(Ae("option"));var Q=N=null,ae=null,se=null;for(v in c)if(T.call(c,v)){var be=c[v];if(be!=null)switch(v){case"children":N=be;break;case"selected":ae=be;break;case"dangerouslySetInnerHTML":se=be;break;case"value":Q=be;default:Ce(t,d,v,be)}}if(_!=null)if(c=Q!==null?""+Q:ir(N),W(_)){for(d=0;d<_.length;d++)if(""+_[d]===c){t.push(vt);break}}else""+_===c&&t.push(vt);else ae&&t.push(vt);return t.push(qe),St(t,se,N),N;case"textarea":t.push(Ae("textarea")),se=_=v=null;for(N in c)if(T.call(c,N)&&(Q=c[N],Q!=null))switch(N){case"children":se=Q;break;case"value":v=Q;break;case"defaultValue":_=Q;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:Ce(t,d,N,Q)}if(v===null&&_!==null&&(v=_),t.push(qe),se!=null){if(v!=null)throw Error(r(92));if(W(se)&&1<se.length)throw Error(r(93));v=""+se}return typeof v=="string"&&v[0]===`
`&&t.push(wt),v!==null&&t.push(m(j(""+v))),null;case"input":t.push(Ae("input")),Q=se=N=v=null;for(_ in c)if(T.call(c,_)&&(ae=c[_],ae!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":Q=ae;break;case"defaultValue":N=ae;break;case"checked":se=ae;break;case"value":v=ae;break;default:Ce(t,d,_,ae)}return se!==null?Ce(t,d,"checked",se):Q!==null&&Ce(t,d,"checked",Q),v!==null?Ce(t,d,"value",v):N!==null&&Ce(t,d,"value",N),t.push(pn),null;case"menuitem":t.push(Ae("menuitem"));for(var je in c)if(T.call(c,je)&&(v=c[je],v!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:Ce(t,d,je,v)}return t.push(qe),null;case"title":t.push(Ae("title")),v=null;for(be in c)if(T.call(c,be)&&(_=c[be],_!=null))switch(be){case"children":v=_;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:Ce(t,d,be,_)}return t.push(qe),v;case"listing":case"pre":t.push(Ae(o)),_=v=null;for(Q in c)if(T.call(c,Q)&&(N=c[Q],N!=null))switch(Q){case"children":v=N;break;case"dangerouslySetInnerHTML":_=N;break;default:Ce(t,d,Q,N)}if(t.push(qe),_!=null){if(v!=null)throw Error(r(60));if(typeof _!="object"||!("__html"in _))throw Error(r(61));c=_.__html,c!=null&&(typeof c=="string"&&0<c.length&&c[0]===`
`?t.push(wt,m(c)):t.push(m(""+c)))}return typeof v=="string"&&v[0]===`
`&&t.push(wt),v;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Ae(o));for(var $e in c)if(T.call(c,$e)&&(v=c[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,o));default:Ce(t,d,$e,v)}return t.push(pn),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return lt(t,c,o,d);case"html":return C.insertionMode===0&&t.push(mn),lt(t,c,o,d);default:if(o.indexOf("-")===-1&&typeof c.is!="string")return lt(t,c,o,d);t.push(Ae(o)),_=v=null;for(ae in c)if(T.call(c,ae)&&(N=c[ae],N!=null))switch(ae){case"children":v=N;break;case"dangerouslySetInnerHTML":_=N;break;case"style":we(t,d,N);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:D(ae)&&typeof N!="function"&&typeof N!="symbol"&&t.push(ve,m(ae),De,m(j(N)),_e)}return t.push(qe),St(t,_,v),v}}var yn=h("</"),bn=h(">"),Ct=h('<template id="'),xn=h('"></template>'),Sn=h("<!--$-->"),ar=h('<!--$?--><template id="'),Rt=h('"></template>'),kt=h("<!--$!-->"),lr=h("<!--/$-->"),cr=h("<template"),ur=h('"'),dr=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var fr=h("></template>");function Ne(t,o,c){if(l(t,ar),c===null)throw Error(r(395));return l(t,c),p(t,Rt)}var Lt=h('<div hidden id="'),Tt=h('">'),he=h("</div>"),ct=h('<svg aria-hidden="true" style="display:none" id="'),Et=h('">'),ut=h("</svg>"),Ze=h('<math aria-hidden="true" style="display:none" id="'),It=h('">'),Je=h("</math>"),vn=h('<table hidden id="'),Ht=h('">'),Ut=h("</table>"),wn=h('<table hidden><tbody id="'),Cn=h('">'),kn=h("</tbody></table>"),pr=h('<table hidden><tr id="'),hr=h('">'),At=h("</tr></table>"),Tn=h('<table hidden><colgroup id="'),Bt=h('">'),$t=h("</colgroup></table>");function mr(t,o,c,d){switch(c.insertionMode){case 0:case 1:return l(t,Lt),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,Tt);case 2:return l(t,ct),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,Et);case 3:return l(t,Ze),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,It);case 4:return l(t,vn),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,Ht);case 5:return l(t,wn),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,Cn);case 6:return l(t,pr),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,hr);case 7:return l(t,Tn),l(t,o.segmentPrefix),l(t,m(d.toString(16))),p(t,Bt);default:throw Error(r(397))}}function dt(t,o){switch(o.insertionMode){case 0:case 1:return p(t,he);case 2:return p(t,ut);case 3:return p(t,Je);case 4:return p(t,Ut);case 5:return p(t,kn);case 6:return p(t,At);case 7:return p(t,$t);default:throw Error(r(397))}}var gr=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Vt=h('$RS("'),_t=h('","'),ft=h('")<\/script>'),Mt=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),En=h('$RC("'),In=h('","'),An=h('")<\/script>'),zt=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Be=h('$RX("'),Bn=h('"'),Wt=h(")<\/script>"),qt=h(","),_n=/[<\u2028\u2029]/g;function rt(t){return JSON.stringify(t).replace(_n,function(o){switch(o){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ot=Object.assign,Mn=Symbol.for("react.element"),pt=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),Gt=Symbol.for("react.strict_mode"),Zt=Symbol.for("react.profiler"),Kt=Symbol.for("react.provider"),Pt=Symbol.for("react.context"),Pn=Symbol.for("react.forward_ref"),jn=Symbol.for("react.suspense"),Jt=Symbol.for("react.suspense_list"),e=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),u=Symbol.for("react.scope"),f=Symbol.for("react.debug_trace_mode"),k=Symbol.for("react.legacy_hidden"),S=Symbol.for("react.default_value"),A=Symbol.iterator;function U(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ht:return"Fragment";case pt:return"Portal";case Zt:return"Profiler";case Gt:return"StrictMode";case jn:return"Suspense";case Jt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pt:return(t.displayName||"Context")+".Consumer";case Kt:return(t._context.displayName||"Context")+".Provider";case Pn:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e:return o=t.displayName||null,o!==null?o:U(t.type)||"Memo";case s:o=t._payload,t=t._init;try{return U(t(o))}catch{}}return null}var X={};function ee(t,o){if(t=t.contextTypes,!t)return X;var c={},d;for(d in t)c[d]=o[d];return c}var re=null;function Se(t,o){if(t!==o){t.context._currentValue=t.parentValue,t=t.parent;var c=o.parent;if(t===null){if(c!==null)throw Error(r(401))}else{if(c===null)throw Error(r(401));Se(t,c)}o.context._currentValue=o.value}}function He(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&He(t)}function Ue(t){var o=t.parent;o!==null&&Ue(o),t.context._currentValue=t.value}function Me(t,o){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(r(402));t.depth===o.depth?Se(t,o):Me(t,o)}function mt(t,o){var c=o.parent;if(c===null)throw Error(r(402));t.depth===c.depth?Se(t,c):mt(t,c),o.context._currentValue=o.value}function Ye(t){var o=re;o!==t&&(o===null?Ue(t):t===null?He(o):o.depth===t.depth?Se(o,t):o.depth>t.depth?Me(o,t):mt(o,t),re=t)}var Yt={isMounted:function(){return!1},enqueueSetState:function(t,o){t=t._reactInternals,t.queue!==null&&t.queue.push(o)},enqueueReplaceState:function(t,o){t=t._reactInternals,t.replace=!0,t.queue=[o]},enqueueForceUpdate:function(){}};function gt(t,o,c,d){var C=t.state!==void 0?t.state:null;t.updater=Yt,t.props=c,t.state=C;var v={queue:[],replace:!1};t._reactInternals=v;var _=o.contextType;if(t.context=typeof _=="object"&&_!==null?_._currentValue:d,_=o.getDerivedStateFromProps,typeof _=="function"&&(_=_(c,C),C=_==null?C:ot({},C,_),t.state=C),typeof o.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(o=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),o!==t.state&&Yt.enqueueReplaceState(t,t.state,null),v.queue!==null&&0<v.queue.length)if(o=v.queue,_=v.replace,v.queue=null,v.replace=!1,_&&o.length===1)t.state=o[0];else{for(v=_?o[0]:t.state,C=!0,_=_?1:0;_<o.length;_++){var N=o[_];N=typeof N=="function"?N.call(t,v,c,d):N,N!=null&&(C?(C=!1,v=ot({},v,N)):ot(v,N))}t.state=v}else v.queue=null}var On={id:1,overflow:""};function st(t,o,c){var d=t.id;t=t.overflow;var C=32-Dn(d)-1;d&=~(1<<C),c+=1;var v=32-Dn(o)+C;if(30<v){var _=C-C%5;return v=(d&(1<<_)-1).toString(32),d>>=_,C-=_,{id:1<<32-Dn(o)+C|c<<C|d,overflow:v+t}}return{id:1<<v|c<<C|d,overflow:t}}var Dn=Math.clz32?Math.clz32:Fi,Di=Math.log,Ni=Math.LN2;function Fi(t){return t>>>=0,t===0?32:31-(Di(t)/Ni|0)|0}function Ri(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Li=typeof Object.is=="function"?Object.is:Ri,Xe=null,yr=null,Nn=null,me=null,Xt=!1,Fn=!1,Qt=0,it=null,Rn=0;function yt(){if(Xe===null)throw Error(r(321));return Xe}function lo(){if(0<Rn)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function br(){return me===null?Nn===null?(Xt=!1,Nn=me=lo()):(Xt=!0,me=Nn):me.next===null?(Xt=!1,me=me.next=lo()):(Xt=!0,me=me.next),me}function xr(){yr=Xe=null,Fn=!1,Nn=null,Rn=0,me=it=null}function co(t,o){return typeof o=="function"?o(t):o}function uo(t,o,c){if(Xe=yt(),me=br(),Xt){var d=me.queue;if(o=d.dispatch,it!==null&&(c=it.get(d),c!==void 0)){it.delete(d),d=me.memoizedState;do d=t(d,c.action),c=c.next;while(c!==null);return me.memoizedState=d,[d,o]}return[me.memoizedState,o]}return t=t===co?typeof o=="function"?o():o:c!==void 0?c(o):o,me.memoizedState=t,t=me.queue={last:null,dispatch:null},t=t.dispatch=Hi.bind(null,Xe,t),[me.memoizedState,t]}function fo(t,o){if(Xe=yt(),me=br(),o=o===void 0?null:o,me!==null){var c=me.memoizedState;if(c!==null&&o!==null){var d=c[1];e:if(d===null)d=!1;else{for(var C=0;C<d.length&&C<o.length;C++)if(!Li(o[C],d[C])){d=!1;break e}d=!0}if(d)return c[0]}}return t=t(),me.memoizedState=[t,o],t}function Hi(t,o,c){if(25<=Rn)throw Error(r(301));if(t===Xe)if(Fn=!0,t={action:c,next:null},it===null&&(it=new Map),c=it.get(o),c===void 0)it.set(o,t);else{for(o=c;o.next!==null;)o=o.next;o.next=t}}function Ui(){throw Error(r(394))}function Ln(){}var po={readContext:function(t){return t._currentValue},useContext:function(t){return yt(),t._currentValue},useMemo:fo,useReducer:uo,useRef:function(t){Xe=yt(),me=br();var o=me.memoizedState;return o===null?(t={current:t},me.memoizedState=t):o},useState:function(t){return uo(co,t)},useInsertionEffect:Ln,useLayoutEffect:function(){},useCallback:function(t,o){return fo(function(){return t},o)},useImperativeHandle:Ln,useEffect:Ln,useDebugValue:Ln,useDeferredValue:function(t){return yt(),t},useTransition:function(){return yt(),[!1,Ui]},useId:function(){var t=yr.treeContext,o=t.overflow;t=t.id,t=(t&~(1<<32-Dn(t)-1)).toString(32)+o;var c=Hn;if(c===null)throw Error(r(404));return o=Qt++,t=":"+c.idPrefix+"R"+t,0<o&&(t+="H"+o.toString(32)),t+":"},useMutableSource:function(t,o){return yt(),o(t._source)},useSyncExternalStore:function(t,o,c){if(c===void 0)throw Error(r(407));return c()}},Hn=null,Sr=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function $i(t){return console.error(t),null}function en(){}function Vi(t,o,c,d,C,v,_,N,Q){var ae=[],se=new Set;return o={destination:null,responseState:o,progressiveChunkSize:d===void 0?12800:d,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:se,pingedTasks:ae,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:C===void 0?$i:C,onAllReady:v===void 0?en:v,onShellReady:_===void 0?en:_,onShellError:N===void 0?en:N,onFatalError:Q===void 0?en:Q},c=Un(o,0,null,c,!1,!1),c.parentFlushed=!0,t=vr(o,t,null,c,se,X,null,On),ae.push(t),o}function vr(t,o,c,d,C,v,_,N){t.allPendingTasks++,c===null?t.pendingRootTasks++:c.pendingTasks++;var Q={node:o,ping:function(){var ae=t.pingedTasks;ae.push(Q),ae.length===1&&So(t)},blockedBoundary:c,blockedSegment:d,abortSet:C,legacyContext:v,context:_,treeContext:N};return C.add(Q),Q}function Un(t,o,c,d,C,v){return{status:0,id:-1,index:o,parentFlushed:!1,chunks:[],children:[],formatContext:d,boundary:c,lastPushedText:C,textEmbedded:v}}function tn(t,o){if(t=t.onError(o),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function $n(t,o){var c=t.onShellError;c(o),c=t.onFatalError,c(o),t.destination!==null?(t.status=2,w(t.destination,o)):(t.status=1,t.fatalError=o)}function ho(t,o,c,d,C){for(Xe={},yr=o,Qt=0,t=c(d,C);Fn;)Fn=!1,Qt=0,Rn+=1,me=null,t=c(d,C);return xr(),t}function mo(t,o,c,d){var C=c.render(),v=d.childContextTypes;if(v!=null){var _=o.legacyContext;if(typeof c.getChildContext!="function")d=_;else{c=c.getChildContext();for(var N in c)if(!(N in v))throw Error(r(108,U(d)||"Unknown",N));d=ot({},_,c)}o.legacyContext=d,Pe(t,o,C),o.legacyContext=_}else Pe(t,o,C)}function go(t,o){if(t&&t.defaultProps){o=ot({},o),t=t.defaultProps;for(var c in t)o[c]===void 0&&(o[c]=t[c]);return o}return o}function wr(t,o,c,d,C){if(typeof c=="function")if(c.prototype&&c.prototype.isReactComponent){C=ee(c,o.legacyContext);var v=c.contextType;v=new c(d,typeof v=="object"&&v!==null?v._currentValue:C),gt(v,c,d,C),mo(t,o,v,c)}else{v=ee(c,o.legacyContext),C=ho(t,o,c,d,v);var _=Qt!==0;if(typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0)gt(C,c,d,v),mo(t,o,C,c);else if(_){d=o.treeContext,o.treeContext=st(d,1,0);try{Pe(t,o,C)}finally{o.treeContext=d}}else Pe(t,o,C)}else if(typeof c=="string"){switch(C=o.blockedSegment,v=gn(C.chunks,c,d,t.responseState,C.formatContext),C.lastPushedText=!1,_=C.formatContext,C.formatContext=te(_,c,d),Cr(t,o,v),C.formatContext=_,c){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:C.chunks.push(yn,m(c),bn)}C.lastPushedText=!1}else{switch(c){case k:case f:case Gt:case Zt:case ht:Pe(t,o,d.children);return;case Jt:Pe(t,o,d.children);return;case u:throw Error(r(343));case jn:e:{c=o.blockedBoundary,C=o.blockedSegment,v=d.fallback,d=d.children,_=new Set;var N={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:_,errorDigest:null},Q=Un(t,C.chunks.length,N,C.formatContext,!1,!1);C.children.push(Q),C.lastPushedText=!1;var ae=Un(t,0,null,C.formatContext,!1,!1);ae.parentFlushed=!0,o.blockedBoundary=N,o.blockedSegment=ae;try{if(Cr(t,o,d),ae.lastPushedText&&ae.textEmbedded&&ae.chunks.push(fe),ae.status=1,Vn(N,ae),N.pendingTasks===0)break e}catch(se){ae.status=4,N.forceClientRender=!0,N.errorDigest=tn(t,se)}finally{o.blockedBoundary=c,o.blockedSegment=C}o=vr(t,v,c,Q,_,o.legacyContext,o.context,o.treeContext),t.pingedTasks.push(o)}return}if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Pn:if(d=ho(t,o,c.render,d,C),Qt!==0){c=o.treeContext,o.treeContext=st(c,1,0);try{Pe(t,o,d)}finally{o.treeContext=c}}else Pe(t,o,d);return;case e:c=c.type,d=go(c,d),wr(t,o,c,d,C);return;case Kt:if(C=d.children,c=c._context,d=d.value,v=c._currentValue,c._currentValue=d,_=re,re=d={parent:_,depth:_===null?0:_.depth+1,context:c,parentValue:v,value:d},o.context=d,Pe(t,o,C),t=re,t===null)throw Error(r(403));d=t.parentValue,t.context._currentValue=d===S?t.context._defaultValue:d,t=re=t.parent,o.context=t;return;case Pt:d=d.children,d=d(c._currentValue),Pe(t,o,d);return;case s:C=c._init,c=C(c._payload),d=go(c,d),wr(t,o,c,d,void 0);return}throw Error(r(130,c==null?c:typeof c,""))}}function Pe(t,o,c){if(o.node=c,typeof c=="object"&&c!==null){switch(c.$$typeof){case Mn:wr(t,o,c.type,c.props,c.ref);return;case pt:throw Error(r(257));case s:var d=c._init;c=d(c._payload),Pe(t,o,c);return}if(W(c)){yo(t,o,c);return}if(c===null||typeof c!="object"?d=null:(d=A&&c[A]||c["@@iterator"],d=typeof d=="function"?d:null),d&&(d=d.call(c))){if(c=d.next(),!c.done){var C=[];do C.push(c.value),c=d.next();while(!c.done);yo(t,o,C)}return}throw t=Object.prototype.toString.call(c),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":t))}typeof c=="string"?(d=o.blockedSegment,d.lastPushedText=Y(o.blockedSegment.chunks,c,t.responseState,d.lastPushedText)):typeof c=="number"&&(d=o.blockedSegment,d.lastPushedText=Y(o.blockedSegment.chunks,""+c,t.responseState,d.lastPushedText))}function yo(t,o,c){for(var d=c.length,C=0;C<d;C++){var v=o.treeContext;o.treeContext=st(v,d,C);try{Cr(t,o,c[C])}finally{o.treeContext=v}}}function Cr(t,o,c){var d=o.blockedSegment.formatContext,C=o.legacyContext,v=o.context;try{return Pe(t,o,c)}catch(Q){if(xr(),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"){c=Q;var _=o.blockedSegment,N=Un(t,_.chunks.length,null,_.formatContext,_.lastPushedText,!0);_.children.push(N),_.lastPushedText=!1,t=vr(t,o.node,o.blockedBoundary,N,o.abortSet,o.legacyContext,o.context,o.treeContext).ping,c.then(t,t),o.blockedSegment.formatContext=d,o.legacyContext=C,o.context=v,Ye(v)}else throw o.blockedSegment.formatContext=d,o.legacyContext=C,o.context=v,Ye(v),Q}}function zi(t){var o=t.blockedBoundary;t=t.blockedSegment,t.status=3,xo(this,o,t)}function bo(t,o,c){var d=t.blockedBoundary;t.blockedSegment.status=3,d===null?(o.allPendingTasks--,o.status!==2&&(o.status=2,o.destination!==null&&o.destination.close())):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,t=c===void 0?Error(r(432)):c,d.errorDigest=o.onError(t),d.parentFlushed&&o.clientRenderedBoundaries.push(d)),d.fallbackAbortableTasks.forEach(function(C){return bo(C,o,c)}),d.fallbackAbortableTasks.clear(),o.allPendingTasks--,o.allPendingTasks===0&&(d=o.onAllReady,d()))}function Vn(t,o){if(o.chunks.length===0&&o.children.length===1&&o.children[0].boundary===null){var c=o.children[0];c.id=o.id,c.parentFlushed=!0,c.status===1&&Vn(t,c)}else t.completedSegments.push(o)}function xo(t,o,c){if(o===null){if(c.parentFlushed){if(t.completedRootSegment!==null)throw Error(r(389));t.completedRootSegment=c}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=en,o=t.onShellReady,o())}else o.pendingTasks--,o.forceClientRender||(o.pendingTasks===0?(c.parentFlushed&&c.status===1&&Vn(o,c),o.parentFlushed&&t.completedBoundaries.push(o),o.fallbackAbortableTasks.forEach(zi,t),o.fallbackAbortableTasks.clear()):c.parentFlushed&&c.status===1&&(Vn(o,c),o.completedSegments.length===1&&o.parentFlushed&&t.partialBoundaries.push(o)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function So(t){if(t.status!==2){var o=re,c=Sr.current;Sr.current=po;var d=Hn;Hn=t.responseState;try{var C=t.pingedTasks,v;for(v=0;v<C.length;v++){var _=C[v],N=t,Q=_.blockedSegment;if(Q.status===0){Ye(_.context);try{Pe(N,_,_.node),Q.lastPushedText&&Q.textEmbedded&&Q.chunks.push(fe),_.abortSet.delete(_),Q.status=1,xo(N,_.blockedBoundary,Q)}catch(Ve){if(xr(),typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"){var ae=_.ping;Ve.then(ae,ae)}else{_.abortSet.delete(_),Q.status=4;var se=_.blockedBoundary,be=Ve,je=tn(N,be);if(se===null?$n(N,be):(se.pendingTasks--,se.forceClientRender||(se.forceClientRender=!0,se.errorDigest=je,se.parentFlushed&&N.clientRenderedBoundaries.push(se))),N.allPendingTasks--,N.allPendingTasks===0){var $e=N.onAllReady;$e()}}}finally{}}}C.splice(0,v),t.destination!==null&&kr(t,t.destination)}catch(Ve){tn(t,Ve),$n(t,Ve)}finally{Hn=d,Sr.current=c,c===po&&Ye(o)}}}function zn(t,o,c){switch(c.parentFlushed=!0,c.status){case 0:var d=c.id=t.nextSegmentId++;return c.lastPushedText=!1,c.textEmbedded=!1,t=t.responseState,l(o,Ct),l(o,t.placeholderPrefix),t=m(d.toString(16)),l(o,t),p(o,xn);case 1:c.status=2;var C=!0;d=c.chunks;var v=0;c=c.children;for(var _=0;_<c.length;_++){for(C=c[_];v<C.index;v++)l(o,d[v]);C=Wn(t,o,C)}for(;v<d.length-1;v++)l(o,d[v]);return v<d.length&&(C=p(o,d[v])),C;default:throw Error(r(390))}}function Wn(t,o,c){var d=c.boundary;if(d===null)return zn(t,o,c);if(d.parentFlushed=!0,d.forceClientRender)d=d.errorDigest,p(o,kt),l(o,cr),d&&(l(o,dr),l(o,m(j(d))),l(o,ur)),p(o,fr),zn(t,o,c);else if(0<d.pendingTasks){d.rootSegmentID=t.nextSegmentId++,0<d.completedSegments.length&&t.partialBoundaries.push(d);var C=t.responseState,v=C.nextSuspenseID++;C=h(C.boundaryPrefix+v.toString(16)),d=d.id=C,Ne(o,t.responseState,d),zn(t,o,c)}else if(d.byteSize>t.progressiveChunkSize)d.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(d),Ne(o,t.responseState,d.id),zn(t,o,c);else{if(p(o,Sn),c=d.completedSegments,c.length!==1)throw Error(r(391));Wn(t,o,c[0])}return p(o,lr)}function vo(t,o,c){return mr(o,t.responseState,c.formatContext,c.id),Wn(t,o,c),dt(o,c.formatContext)}function wo(t,o,c){for(var d=c.completedSegments,C=0;C<d.length;C++)Co(t,o,c,d[C]);if(d.length=0,t=t.responseState,d=c.id,c=c.rootSegmentID,l(o,t.startInlineScript),t.sentCompleteBoundaryFunction?l(o,En):(t.sentCompleteBoundaryFunction=!0,l(o,Mt)),d===null)throw Error(r(395));return c=m(c.toString(16)),l(o,d),l(o,In),l(o,t.segmentPrefix),l(o,c),p(o,An)}function Co(t,o,c,d){if(d.status===2)return!0;var C=d.id;if(C===-1){if((d.id=c.rootSegmentID)===-1)throw Error(r(392));return vo(t,o,d)}return vo(t,o,d),t=t.responseState,l(o,t.startInlineScript),t.sentCompleteSegmentFunction?l(o,Vt):(t.sentCompleteSegmentFunction=!0,l(o,gr)),l(o,t.segmentPrefix),C=m(C.toString(16)),l(o,C),l(o,_t),l(o,t.placeholderPrefix),l(o,C),p(o,ft)}function kr(t,o){a=new Uint8Array(512),i=0;try{var c=t.completedRootSegment;if(c!==null&&t.pendingRootTasks===0){Wn(t,o,c),t.completedRootSegment=null;var d=t.responseState.bootstrapChunks;for(c=0;c<d.length-1;c++)l(o,d[c]);c<d.length&&p(o,d[c])}var C=t.clientRenderedBoundaries,v;for(v=0;v<C.length;v++){var _=C[v];d=o;var N=t.responseState,Q=_.id,ae=_.errorDigest,se=_.errorMessage,be=_.errorComponentStack;if(l(d,N.startInlineScript),N.sentClientRenderFunction?l(d,Be):(N.sentClientRenderFunction=!0,l(d,zt)),Q===null)throw Error(r(395));l(d,Q),l(d,Bn),(ae||se||be)&&(l(d,qt),l(d,m(rt(ae||"")))),(se||be)&&(l(d,qt),l(d,m(rt(se||"")))),be&&(l(d,qt),l(d,m(rt(be)))),p(d,Wt)}C.splice(0,v);var je=t.completedBoundaries;for(v=0;v<je.length;v++)wo(t,o,je[v]);je.splice(0,v),b(o),a=new Uint8Array(512),i=0;var $e=t.partialBoundaries;for(v=0;v<$e.length;v++){var Ve=$e[v];e:{C=t,_=o;var qn=Ve.completedSegments;for(N=0;N<qn.length;N++)if(!Co(C,_,Ve,qn[N])){N++,qn.splice(0,N);var To=!1;break e}qn.splice(0,N),To=!0}if(!To){t.destination=null,v++,$e.splice(0,v);return}}$e.splice(0,v);var Tr=t.completedBoundaries;for(v=0;v<Tr.length;v++)wo(t,o,Tr[v]);Tr.splice(0,v)}finally{b(o),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&o.close()}}function ko(t,o){try{var c=t.abortableTasks;c.forEach(function(d){return bo(d,t,o)}),c.clear(),t.destination!==null&&kr(t,t.destination)}catch(d){tn(t,d),$n(t,d)}}return rn.renderToReadableStream=function(t,o){return new Promise(function(c,d){var C,v,_=new Promise(function(se,be){v=se,C=be}),N=Vi(t,de(o?o.identifierPrefix:void 0,o?o.nonce:void 0,o?o.bootstrapScriptContent:void 0,o?o.bootstrapScripts:void 0,o?o.bootstrapModules:void 0),ue(o?o.namespaceURI:void 0),o?o.progressiveChunkSize:void 0,o?o.onError:void 0,v,function(){var se=new ReadableStream({type:"bytes",pull:function(be){if(N.status===1)N.status=2,w(be,N.fatalError);else if(N.status!==2&&N.destination===null){N.destination=be;try{kr(N,be)}catch(je){tn(N,je),$n(N,je)}}},cancel:function(){ko(N)}},{highWaterMark:0});se.allReady=_,c(se)},function(se){_.catch(function(){}),d(se)},C);if(o&&o.signal){var Q=o.signal,ae=function(){ko(N,Q.reason),Q.removeEventListener("abort",ae)};Q.addEventListener("abort",ae)}So(N)})},rn.version="18.3.1",rn}var Wr;function ws(){if(Wr)return Qe;Wr=1;var n,r;return n=Ss(),r=vs(),Qe.version=n.version,Qe.renderToString=n.renderToString,Qe.renderToStaticMarkup=n.renderToStaticMarkup,Qe.renderToNodeStream=n.renderToNodeStream,Qe.renderToStaticNodeStream=n.renderToStaticNodeStream,Qe.renderToReadableStream=r.renderToReadableStream,Qe}var Cs=ws();const ks=Ir(Cs),Ts=()=>{var a;const{settings:n}=ie(),{styles:r}=pe();return y.jsx("div",{className:"rcb-line-break-container",children:y.jsx("div",{style:{...r.chatHistoryLineBreakStyle},className:"rcb-line-break-text","data-testid":"chat-history-line-break-text",children:(a=n.chatHistory)==null?void 0:a.chatHistoryLineBreakText})})},Es=()=>{var i;const{settings:n}=ie(),{styles:r}=pe(),a={borderTop:`4px solid ${(i=n.general)==null?void 0:i.primaryColor}`,...r.loadingSpinnerStyle};return y.jsx("div",{className:"rcb-spinner-container",children:y.jsx("div",{style:a,className:"rcb-spinner"})})},on=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();throw new Error("crypto.randomUUID not available")}catch(n){if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function")return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=crypto.getRandomValues(new Uint8Array(1))[0]%16;return(r==="x"?a:a&3|8).toString(16)});throw console.error(n),new Error("crypto.getRandomValues is also not available")}},et=(n,r)=>({id:on(),content:n,sender:r,type:typeof n=="string"?"string":"object",timestamp:new Date().toUTCString(),tags:[]});let Ke,qr=!1,sn="rcb-history",an=30,Gr=!1,ln=[];const Jn=async n=>{if(Gr||!Ke)return;const r=[],a=qr?ln.length:0;for(let l=n.length-1;l>=a;l--){const p=n[l];if(p.sender.toUpperCase()!=="SYSTEM"&&(p.content!==""&&r.unshift(p),r.length===an))break}let i=r.map(Ms);if(i.length<an){const l=an-i.length;i=[...ln.slice(-l),...i]}As(i)},Is=n=>{if(n!=null)try{return JSON.parse(n)}catch{return[]}return[]},Zr=()=>ln,As=n=>{Ke&&Ke.setItem(sn,JSON.stringify(n))},Bs=()=>{Ke&&Ke.removeItem(sn)},_s=n=>{var r,a,i,l,p;((a=(r=n.chatHistory)==null?void 0:r.storageType)==null?void 0:a.toUpperCase())==="SESSION_STORAGE"?Ke=sessionStorage:Ke=localStorage,sn=(i=n.chatHistory)==null?void 0:i.storageKey,an=(l=n.chatHistory)==null?void 0:l.maxEntries,Gr=(p=n.chatHistory)==null?void 0:p.disabled,ln=Is(Ke.getItem(sn))},Ms=n=>x.isValidElement(n.content)?structuredClone({id:n.id,content:ks.renderToString(n.content),type:n.type,sender:n.sender.toUpperCase(),timestamp:n.timestamp,tags:n.tags}):n,Ps=(n,r,a,i,l,p,b,g,m)=>{var h;if(qr=!0,a!=null)try{const w=et(y.jsx(Es,{}),"SYSTEM"),T=l.current.slice(1);i([w,...T]);const B=a.map(E=>{if(E.type==="object"){const I=Kr(E.content,n,r);return{...E,content:I}}return E});setTimeout(()=>{var D;const E=l.current.slice(1);let I=(D=n.chatHistory)!=null&&D.autoLoad?et(y.jsx(y.Fragment,{}),"SYSTEM"):et(y.jsx(Ts,{}),"SYSTEM");i([...B,I,...E]),m(!0)},500),setTimeout(()=>{if(!p.current)return;const{scrollHeight:E}=p.current,I=E-b;p.current.scrollTop+=I,g(!1)},510)}catch{Ke.removeItem((h=n.chatHistory)==null?void 0:h.storageKey)}},Kr=(n,r,a)=>{const l=new DOMParser().parseFromString(n,"text/html");return Array.from(l.body.childNodes).map((g,m)=>{var h;if(g.nodeType===Node.TEXT_NODE)return g.textContent;{const w=g.tagName.toLowerCase();let T=Array.from(g.attributes).reduce((E,I)=>{const D=I.name.toLowerCase();if(D==="style"){const M=I.value.split(";").filter(F=>F.trim()!==""),R={};M.forEach(F=>{const[L,z]=F.split(":").map(P=>P.trim()),V=L.replace(/-([a-z])/g,(P,j)=>j.toUpperCase());R[V]=z}),E[D]=R}else(w==="audio"||w==="video")&&D==="controls"&&I.value===""?E[D]="true":E[D]=I.value;return E},{});if(Object.prototype.hasOwnProperty.call(T,"class")){const E=g.classList;T.className=E.toString(),delete T.class,(h=r.botBubble)!=null&&h.showAvatar&&(T=js(E,T)),T=Os(E,T,r,a),T=Ds(E,T,r,a),T=Ns(E,T,r,a),T=Fs(E,T,r,a)}if(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"].includes(w))return x.createElement(w,{key:m,...T});{const E=Kr(g.innerHTML,r,a);return x.createElement(w,{key:m,...T},...E)}}})},js=(n,r)=>((n.contains("rcb-options-container")||n.contains("rcb-checkbox-container"))&&(r.className=`${n.toString()} rcb-options-offset`),r),Os=(n,r,a,i)=>{var l,p,b,g,m;return n.contains("rcb-options")&&(r.style={...r.style,color:((l=i.botOptionStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((b=i.botOptionStyle)==null?void 0:b.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(m=a.general)==null?void 0:m.actionDisabledIcon}"), auto`,...i.botOptionStyle}),r},Ds=(n,r,a,i)=>{var l,p,b,g,m;return n.contains("rcb-checkbox-row-container")&&(r.style={...r.style,color:((l=i.botCheckboxRowStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((b=i.botCheckboxRowStyle)==null?void 0:b.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(m=a.general)==null?void 0:m.actionDisabledIcon}"), auto`,...i.botCheckboxRowStyle}),r},Ns=(n,r,a,i)=>{var l,p,b,g,m;return n.contains("rcb-checkbox-next-button")&&(r.style={...r.style,color:((l=i.botCheckboxNextStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((b=i.botCheckboxNextStyle)==null?void 0:b.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(m=a.general)==null?void 0:m.actionDisabledIcon}"), auto`,...i.botCheckboxNextStyle}),r},Fs=(n,r,a,i)=>{var l,p;return(n.contains("rcb-media-display-image-container")||n.contains("rcb-media-display-video-container"))&&(r.style={...r.style,backgroundColor:(l=a.general)==null?void 0:l.primaryColor,maxWidth:(p=a.userBubble)!=null&&p.showAvatar?"65%":"70%",...i.mediaDisplayContainerStyle}),r},Yn=()=>{const{settings:n}=ie(),{notificationsToggledOn:r,setSyncedNotificationsToggledOn:a,hasInteractedPage:i,unreadCount:l,setUnreadCount:p,syncedNotificationsToggledOnRef:b}=Ie(),{audioBufferRef:g,audioContextRef:m,gainNodeRef:h}=Ee(),{dispatchRcbEvent:w}=Re(),T=x.useCallback(async()=>{var R,F;const I=(R=n.notification)==null?void 0:R.sound;m.current=new AudioContext;const D=m.current.createGain();D.gain.value=((F=n.notification)==null?void 0:F.volume)??.2,h.current=D;let M;if(I!=null&&I.startsWith("data:audio")){const L=atob(I.split(",")[1]),z=new ArrayBuffer(L.length),V=new Uint8Array(z);for(let P=0;P<L.length;P++)V[P]=L.charCodeAt(P);M=z}else M=await(await fetch(I)).arrayBuffer();g.current=await m.current.decodeAudioData(M)},[n.notification]),B=x.useCallback(()=>{var D;if((D=n.notification)!=null&&D.disabled||!b.current||!i||!m.current||!g.current)return;const I=m.current.createBufferSource();I.buffer=g.current,I.connect(h.current).connect(m.current.destination),I.start()},[n.notification,b,i,m,g,h]),E=x.useCallback(async I=>{var D;I!==b.current&&((D=n.event)!=null&&D.rcbToggleNotifications&&(await w(J.TOGGLE_NOTIFICATIONS,{currState:b.current,newState:!b.current})).defaultPrevented||a(M=>!M))},[b]);return{unreadCount:l,setUnreadCount:p,notificationsToggledOn:r,toggleNotifications:E,playNotificationSound:B,setUpNotifications:T}},Rs=(n,r,a,i,l)=>{if(!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const p=new window.SpeechSynthesisUtterance;p.text=n,p.lang=r,p.rate=i,p.volume=l;let b=!1;for(const g of a)if(window.speechSynthesis.getVoices().find(m=>{if(m.name===g){p.voice=m,window.speechSynthesis.speak(p),b=!0;return}}),b)break;b||window.speechSynthesis.speak(p)},Ls=(n,r)=>{var a,i,l,p;Rs(r,(a=n.audio)==null?void 0:a.language,(i=n.audio)==null?void 0:i.voiceNames,(l=n.audio)==null?void 0:l.rate,(p=n.audio)==null?void 0:p.volume)},Jr=()=>{const{settings:n}=ie(),{audioToggledOn:r,setSyncedAudioToggledOn:a,syncedAudioToggledOnRef:i}=Ie(),{dispatchRcbEvent:l}=Re(),p=x.useCallback(async g=>{var m;g!==i.current&&((m=n.event)!=null&&m.rcbToggleAudio&&(await l(J.TOGGLE_AUDIO,{currState:i.current,newState:!i.current})).defaultPrevented||a(h=>!h))},[i]),b=x.useCallback(async g=>{var h,w;if((h=n.audio)!=null&&h.disabled||!i.current)return;let m=g;if((w=n.event)!=null&&w.rcbStartSpeakAudio){const T=await l(J.START_SPEAK_AUDIO,{textToRead:m});if(T.defaultPrevented)return;m=T.data.textToRead}Ls(n,m)},[n,i]);return{audioToggledOn:r,speakAudio:b,toggleAudio:p}},Nt=()=>{var j,q;const{settings:n}=ie(),{messages:r,setSyncedMessages:a,syncedMessagesRef:i}=Kn(),{setSyncedIsBotTyping:l,setUnreadCount:p,syncedIsScrollingRef:b,syncedIsChatWindowOpenRef:g}=Ie(),{streamMessageMap:m,chatBodyRef:h,paramsInputRef:w}=Ee(),{scrollToBottom:T,getIsChatBotVisible:B}=Oe(),{dispatchRcbEvent:E}=Re(),{speakAudio:I}=Jr(),{playNotificationSound:D}=Yn(),M=x.useCallback(($,W=!1)=>{var Z,K;Jn($);let O=!0;const H=$[$.length-1];if(!H)return;const G=H.sender.toUpperCase();G==="USER"&&(O=!1),(Z=n.general)!=null&&Z.embedded&&B()&&(O=!1),(g.current&&!b.current||W)&&(O=!1),O&&D(),!W&&(G!=="USER"&&((K=n.chatWindow)!=null&&K.autoJumpToBottom)||G==="USER"||!b.current)&&setTimeout(()=>T(),1)},[n,h,g,b,D,T,B]),R=x.useCallback(async($,W="BOT",O=null)=>{var le,ue,te,fe,Y;if(typeof $!="string")throw new Error("Content must be of type string to simulate stream.");W=W.toUpperCase();let H=et($,W);if((le=n.event)!=null&&le.rcbStartSimulateStreamMessage){const ne=await E(J.START_SIMULATE_STREAM_MESSAGE,{message:H});if(ne.defaultPrevented)return null;O=ne.data.simulateStreamChunker||O,H=ne.data.message}l(!1);let G=30;W==="BOT"?G=(ue=n.botBubble)==null?void 0:ue.streamSpeed:G=(te=n.userBubble)==null?void 0:te.streamSpeed;const Z={...H,content:""};a(ne=>[...ne,Z]),M(i.current);let K=H.content;O&&(K=O(K));let ce=0;const oe=K.length;H.sender.toUpperCase()==="BOT"&&(g.current||(fe=n.general)!=null&&fe.embedded)&&typeof H.content=="string"&&H.content.trim()!==""&&I(H.content);const de=new Promise(ne=>{const ge=setInterval(()=>{if(ce>=oe){clearInterval(ge),ne();return}a(xe=>{const ye=[...xe];for(let we=ye.length-1;we>=0;we--)if(ye[we].id===Z.id){const ve=K[ce];ve&&(Z.content+=ve,ye[we]=Z),ce++;break}return ye})},G)});return(b.current||!g.current)&&p(ne=>ne+1),await de,Jn(i.current),(Y=n.event)!=null&&Y.rcbStopSimulateStreamMessage&&await E(J.STOP_SIMULATE_STREAM_MESSAGE,{message:H}),W==="USER"&&(w.current=$),H},[n,E,M,i,w,l,p,g,I]),F=x.useCallback(async($,W="BOT")=>{var H,G,Z;W=W.toUpperCase();let O=et($,W);if((H=n.event)!=null&&H.rcbPreInjectMessage){const K=await E(J.PRE_INJECT_MESSAGE,{message:O});if(K.defaultPrevented)return null;O=K.data.message}return O.sender.toUpperCase()==="BOT"&&(g.current||(G=n.general)!=null&&G.embedded)&&typeof O.content=="string"&&O.content.trim()!==""&&I(O.content),(b.current||!g.current)&&p(K=>K+1),(Z=n.event)!=null&&Z.rcbPostInjectMessage&&await E(J.POST_INJECT_MESSAGE,{message:O}),a(K=>[...K,O]),M(i.current),W==="USER"&&typeof $=="string"&&(w.current=$),O},[n,E,M,w,i,g,I,p]),L=x.useCallback(async $=>{var O;const W=i.current.find(H=>H.id===$);return!W||(O=n.event)!=null&&O.rcbRemoveMessage&&(await E(J.REMOVE_MESSAGE,{message:W})).defaultPrevented?null:(a(H=>H.filter(G=>G.id!==$)),M(i.current),p(H=>Math.max(H-1,0)),W)},[E,(j=n.event)==null?void 0:j.rcbRemoveMessage,M,i,p]),z=x.useCallback(async($,W="BOT")=>{var H,G;if(W=W.toUpperCase(),!m.current.has(W)){const Z=et($,W);return(H=n.event)!=null&&H.rcbStartStreamMessage&&(await E(J.START_STREAM_MESSAGE,{message:Z})).defaultPrevented?null:(l(!1),a(K=>[...K,Z]),M(i.current),m.current.set(W,Z.id),(b.current||!g.current)&&p(K=>K+1),Z)}const O={...et($,W),id:m.current.get(W)};return(G=n.event)!=null&&G.rcbChunkStreamMessage&&(await E(J.CHUNK_STREAM_MESSAGE,{message:O})).defaultPrevented?null:(a(Z=>Z.map(K=>K.id===O.id?O:K)),M(i.current,!0),O)},[E,n.event,M,i,l,p,m]),V=x.useCallback(async($="BOT")=>{var H;if($=$.toUpperCase(),!m.current.has($))return!0;const W=m.current.get($);let O;for(let G=0;G<3;G++){const Z=i.current.find(K=>K.id===W);Z&&(O=Z),await new Promise(K=>setTimeout(K,20))}return(H=n.event)!=null&&H.rcbStopStreamMessage&&(await E(J.STOP_STREAM_MESSAGE,{message:O})).defaultPrevented?!1:(m.current.delete($),Jn(i.current),$==="USER"&&typeof(O==null?void 0:O.content)=="string"&&(w.current=O.content),!0)},[E,(q=n.event)==null?void 0:q.rcbStopStreamMessage,m,w]),P=x.useCallback($=>{a($),M($)},[M]);return{simulateStreamMessage:R,injectMessage:F,removeMessage:L,streamMessage:z,endStreamMessage:V,replaceMessages:P,messages:r}};let Xn,ze,cn,tt=!1,Le=null;const Qn=()=>{if(!Xn){const n=window.SpeechRecognition||window.webkitSpeechRecognition;Xn=n!=null?new n:null}return Xn},Hs=(n,r,a,i,l,p,b)=>{var g;(g=n.voice)!=null&&g.sendAsAudio?$s(a,p):Us(n,r,a,i,l,b)},Us=(n,r,a,i,l,p)=>{var h,w,T;const b=Qn();if(!b)return;if(!tt)try{tt=!0,b.lang=(h=n.voice)==null?void 0:h.language,b.start()}catch{}const g=(w=n.voice)==null?void 0:w.timeoutPeriod,m=(T=n.voice)==null?void 0:T.autoSendPeriod;b.onresult=B=>{var I,D;clearTimeout(ze),ze=null,clearTimeout(cn);const E=B.results[B.results.length-1][0].transcript;if(p.current){const M=(I=n.chatInput)==null?void 0:I.characterLimit,R=p.current.value+E;M!=null&&M>=0&&R.length>M?i(R.slice(0,M)):i(R),l(p.current.value.length)}g&&(ze=setTimeout(async()=>await tr(r,p),g)),(D=n.voice)!=null&&D.autoSendDisabled||(cn=setTimeout(a,m))},b.onend=()=>{tt?(b.start(),!ze&&g&&(ze=setTimeout(async()=>await tr(r,p),g))):(clearTimeout(ze),ze=null,clearTimeout(cn))},g&&(ze=setTimeout(async()=>await tr(r,p),g))},$s=(n,r)=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(a=>{if(Le=new MediaRecorder(a),!tt)try{tt=!0,Le.start()}catch{}Le.ondataavailable=i=>{r.current&&r.current.push(i.data)},Le.onstop=()=>{n(),a.getTracks().forEach(i=>i.stop())}}).catch(a=>{console.error("Unable to use microphone:",a)})},er=()=>{const n=Qn();n&&(tt=!1,n&&n.stop(),Le&&Le.state!=="inactive"&&(Le.stop(),Le=null),clearTimeout(ze),ze=null,clearTimeout(cn))},Vs=(n,r)=>{var i,l,p;const a=Qn();(i=r.voice)!=null&&i.disabled||!((l=r.chatInput)!=null&&l.blockSpam)||!a||(n&&!tt?(tt=!0,(p=r.voice)!=null&&p.sendAsAudio?Le==null||Le.start():a.start()):n||er())},tr=async(n,r)=>{var a;(a=r.current)!=null&&a.disabled||await n(),er()},nr=()=>{const{settings:n}=ie(),{voiceToggledOn:r,setSyncedVoiceToggledOn:a,syncedVoiceToggledOnRef:i}=Ie(),{dispatchRcbEvent:l}=Re(),p=x.useCallback(async g=>{var m;g!==i.current&&((m=n.event)!=null&&m.rcbToggleVoice&&(await l(J.TOGGLE_VOICE,{currState:i.current,newState:!i.current})).defaultPrevented||a(h=>!h))},[i]),b=x.useCallback(g=>{Vs(g,n)},[n]);return{voiceToggledOn:r,toggleVoice:p,syncVoice:b}},bt=()=>{var V;const{settings:n}=ie(),{inputLength:r,setInputLength:a,textAreaDisabled:i,setSyncedTextAreaDisabled:l,textAreaSensitiveMode:p,setSyncedTextAreaSensitiveMode:b,syncedTextAreaDisabledRef:g,syncedTextAreaSensitiveModeRef:m}=Ie(),{inputRef:h,chatBodyRef:w,prevInputRef:T}=Ee(),{dispatchRcbEvent:B}=Re(),{getIsChatBotVisible:E}=Oe(),I=x.useCallback(async P=>{var j,q,$;if(g.current&&h.current){h.current.value="";return}if(h.current&&T.current!==null){const W=(j=n.chatInput)==null?void 0:j.characterLimit,H=((q=n.chatInput)==null?void 0:q.allowNewline)?P:P.replace(/\n/g," ");if(W!=null&&W>=0&&H.length>W?h.current.value=H.slice(0,W):h.current.value=H,($=n.event)!=null&&$.rcbTextAreaChangeValue&&(await B(J.TEXT_AREA_CHANGE_VALUE,{currValue:h.current.value,prevValue:T.current})).defaultPrevented){h.current.value=T.current;return}T.current=h.current.value}},[g,h,T,n,B]),D=x.useCallback(P=>{var j;(j=h.current)!=null&&j.disabled||setTimeout(()=>{var q,$,W;(q=n.general)!=null&&q.embedded?E()&&(($=h.current)==null||$.focus()):P!=="start"&&((W=h.current)==null||W.focus())},100)},[h,(V=n.general)==null?void 0:V.embedded,w,E]),M=x.useCallback(()=>{h.current&&h.current.focus()},[]),R=x.useCallback(()=>{h.current&&h.current.blur()},[]),F=x.useCallback(()=>h&&h.current?h.current.value:"",[]),L=x.useCallback(P=>{P!==g.current&&l(j=>!j)},[g]),z=x.useCallback(P=>{P!==m.current&&b(j=>!j)},[m]);return{textAreaDisabled:i,setSyncedTextAreaDisabled:l,textAreaSensitiveMode:p,setSyncedTextAreaSensitiveMode:b,inputLength:r,setInputLength:a,getTextAreaValue:F,setTextAreaValue:I,updateTextAreaFocus:D,focusTextArea:M,blurTextArea:R,toggleTextAreaDisabled:L,toggleTextAreaSensitiveMode:z}},Yr=x.createContext({toasts:[],setSyncedToasts:()=>{},syncedToastsRef:{current:[]}}),Xr=()=>x.useContext(Yr),zs=({children:n})=>{const[r,a,i]=Fe([]);return y.jsx(Yr.Provider,{value:{toasts:r,setSyncedToasts:a,syncedToastsRef:i},children:n})},un=()=>{const{settings:n}=ie(),{toasts:r,setSyncedToasts:a,syncedToastsRef:i}=Xr(),{dispatchRcbEvent:l}=Re(),p=x.useCallback(async(m,h)=>{var I,D,M,R;let w=null;if(i.current.length>=(((I=n.toast)==null?void 0:I.maxCount)??3)){if((D=n.toast)!=null&&D.forbidOnMax)return null;w=on();let F={id:w,content:m,timeout:h};if((M=n.event)!=null&&M.rcbShowToast){const L=await l(J.SHOW_TOAST,{toast:F});if(L.defaultPrevented)return null;F=L.data.toast}return a(L=>[...L.slice(1),F]),w}w=on();let E={id:w,content:m,timeout:h};if((R=n.event)!=null&&R.rcbShowToast){const F=await l(J.SHOW_TOAST,{toast:E});if(F.defaultPrevented)return null;E=F.data.toast}return a(F=>[...F,E]),w},[n,l]),b=x.useCallback(async m=>{var w;const h=i.current.find(T=>T.id===m);return!h||(w=n.event)!=null&&w.rcbDismissToast&&(await l(J.DISMISS_TOAST,{toast:h})).defaultPrevented?null:(a(T=>T.filter(B=>B.id!==m)),m)},[l]),g=x.useCallback(m=>{a(m)},[]);return{showToast:p,dismissToast:b,toasts:r,replaceToasts:g}},rr=()=>{var ce,oe,de,le,ue;const{settings:n}=ie(),{paths:r,setSyncedPaths:a,syncedPathsRef:i}=Dt(),{flowRef:l,streamMessageMap:p,paramsInputRef:b,keepVoiceOnRef:g,timeoutIdRef:m}=Ee(),{setSyncedIsBotTyping:h,setSyncedTextAreaDisabled:w,setSyncedTextAreaSensitiveMode:T,blockAllowsAttachment:B,setBlockAllowsAttachment:E}=Ie(),{dispatchRcbEvent:I}=Re(),{endStreamMessage:D,injectMessage:M,removeMessage:R,simulateStreamMessage:F,streamMessage:L}=Nt(),{showToast:z,dismissToast:V}=un(),{toggleChatWindow:P}=Oe(),{updateTextAreaFocus:j,setTextAreaValue:q}=bt(),{syncVoice:$}=nr(),W=x.useCallback(async te=>{var fe;if((fe=n.event)!=null&&fe.rcbPostProcessBlock){const Y=await I(J.POST_PROCESS_BLOCK,{block:te});if(Y.defaultPrevented)return null;te=Y.data.block}return te},[(ce=n.event)==null?void 0:ce.rcbPostProcessBlock,I]),O=x.useCallback(async(te,fe)=>{var ge,xe,ye,we;if(!te)return;let Y=l.current[te];if(!Y){h(!1);return}if((ge=n.event)!=null&&ge.rcbPreProcessBlock){const ve=await I(J.PRE_PROCESS_BLOCK,{block:Y});if(ve.defaultPrevented)return;Y=ve.data.block}h(!0),(xe=n.chatInput)!=null&&xe.blockSpam&&w(!0),T(!1);const ne={prevPath:fe,currPath:te,goToPath:Z,setTextAreaValue:q,userInput:b.current,endStreamMessage:D,injectMessage:M,removeMessage:R,simulateStreamMessage:F,streamMessage:L,toggleChatWindow:P,showToast:z,dismissToast:V};await xs(Y,ne,((ye=n.botBubble)==null?void 0:ye.simulateStream)??!1,m,w,T,W),h(!1),"chatDisabled"in Y||w((we=n.chatInput)==null?void 0:we.disabled),"isSensitive"in Y||T(!1),E(typeof Y.file=="function"),j(te),$(g.current&&!Y.chatDisabled),te!==fe&&p.current.clear()},[l,j,$,(oe=n.botBubble)==null?void 0:oe.simulateStream,(de=n.chatInput)==null?void 0:de.disabled,b,D,M,R,F,L,P,z,V,g,p]),H=x.useCallback(()=>i.current.length>0?i.current.at(-1)??null:null,[]),G=x.useCallback(()=>i.current.length>1?i.current.at(-2)??null:null,[]),Z=x.useCallback(async te=>{var ne;const fe=H(),Y=G();return(ne=n.event)!=null&&ne.rcbChangePath&&(await I(J.CHANGE_PATH,{currPath:fe,prevPath:Y,nextPath:te})).defaultPrevented?!1:(a(ge=>[...ge,te]),await O(te,fe),!0)},[(le=n.chatInput)==null?void 0:le.blockSpam,(ue=n.event)==null?void 0:ue.rcbChangePath,O,I]),K=x.useCallback(te=>{a(te)},[]);return{getCurrPath:H,getPrevPath:G,goToPath:Z,blockAllowsAttachment:B,setBlockAllowsAttachment:E,paths:r,replacePaths:K,firePostProcessBlockEvent:W}},xt=()=>{var ce,oe,de,le;const{settings:n}=ie(),{endStreamMessage:r,injectMessage:a,removeMessage:i,simulateStreamMessage:l,streamMessage:p}=Nt(),{syncedPathsRef:b}=Dt(),{getCurrPath:g,getPrevPath:m,goToPath:h,firePostProcessBlockEvent:w}=rr(),{setSyncedTextAreaSensitiveMode:T,setSyncedTextAreaDisabled:B,setSyncedIsBotTyping:E,setBlockAllowsAttachment:I,setInputLength:D,syncedVoiceToggledOnRef:M,syncedTextAreaSensitiveModeRef:R}=Ie(),{flowRef:F,inputRef:L,keepVoiceOnRef:z,paramsInputRef:V,timeoutIdRef:P}=Ee(),{showToast:j,dismissToast:q}=un(),{dispatchRcbEvent:$}=Re(),{syncVoice:W}=nr(),{setTextAreaValue:O}=bt(),{toggleChatWindow:H}=Oe(),G=x.useCallback(async ue=>{var Y,ne,ge,xe,ye,we;const te=g();if(!(!te||!F.current[te])){if(R.current){if((Y=n==null?void 0:n.sensitiveInput)!=null&&Y.hideInUserBubble)return;if((ne=n==null?void 0:n.sensitiveInput)!=null&&ne.maskInUserBubble){(ge=n.userBubble)!=null&&ge.simulateStream?await l("*".repeat(((xe=n.sensitiveInput)==null?void 0:xe.asterisksCount)??10),"USER"):await a("*".repeat(((ye=n.sensitiveInput)==null?void 0:ye.asterisksCount)??10),"USER");return}}(we=n.userBubble)!=null&&we.simulateStream?await l(ue,"USER"):await a(ue,"USER")}},[F,g,n,a,l,R]),Z=x.useCallback(async(ue,te=!0)=>{var ge,xe;if(ue=ue.trim(),ue==="")return;te&&await G(ue),P.current&&clearTimeout(P.current),L.current&&(O(""),D(0));const fe=g();if(!fe)return;let Y=F.current[fe];const ne=await w(Y);ne&&((ge=n.chatInput)!=null&&ge.blockSpam&&B(!0),z.current=M.current,W(!1),setTimeout(()=>{E(!0)},400),T(!1),setTimeout(async()=>{var ve;const ye={prevPath:m(),currPath:g(),goToPath:h,setTextAreaValue:O,userInput:V.current,injectMessage:a,simulateStreamMessage:l,streamMessage:p,removeMessage:i,endStreamMessage:r,toggleChatWindow:H,showToast:j,dismissToast:q},we=b.current.length;await $r(ne,ye),b.current.length===we&&("chatDisabled"in Y?B(!!Y.chatDisabled):B(!!((ve=n.chatInput)!=null&&ve.disabled)),Ur(Y,ye,T),I(typeof Y.file=="function"),W(z.current),E(!1))},(xe=n.chatInput)==null?void 0:xe.botDelay))},[P,(ce=n.chatInput)==null?void 0:ce.blockSpam,(oe=n.chatInput)==null?void 0:oe.botDelay,(de=n.chatInput)==null?void 0:de.disabled,z,M,W,G,m,g,h,a,l,p,i,r,H,j,q,F]);return{handleSubmitText:x.useCallback(async(ue,te=!0)=>{var Y,ne;ue=ue??((Y=L.current)==null?void 0:Y.value),!((ne=n.event)!=null&&ne.rcbUserSubmitText&&(await $(J.USER_SUBMIT_TEXT,{inputText:ue,sendInChat:te})).defaultPrevented||!g())&&Z(ue,te)},[$,g,Z,L,(le=n.event)==null?void 0:le.rcbUserSubmitText])}},dn=()=>{var a;const{settings:n}=ie();return x.useMemo(()=>{var b;if(typeof window>"u"||!window.navigator)return!1;if(!((b=n.device)!=null&&b.applyMobileOptimizations))return!0;const i=navigator.userAgent,l=!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i),p=window.innerWidth>=768;return l&&p},[(a=n.device)==null?void 0:a.applyMobileOptimizations])},Ws=({buttons:n})=>{var G,Z,K,ce,oe,de,le,ue,te,fe;const r=dn(),{settings:a}=ie(),{styles:i}=pe(),{textAreaDisabled:l,textAreaSensitiveMode:p,inputLength:b,hasFlowStarted:g,setHasFlowStarted:m,setInputLength:h}=Ie(),{inputRef:w}=Ee(),[T,B]=x.useState(!1),[E,I]=x.useState(!1),{handleSubmitText:D}=xt(),{setTextAreaValue:M}=bt(),R={boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle},F={outline:l?"":"none",border:l?"":"1px solid #088586",boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle,...i.chatInputAreaFocusedStyle},L={cursor:`url("${(G=a.general)==null?void 0:G.actionDisabledIcon}"), auto`,caretColor:"transparent",boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle,...i.chatInputAreaDisabledStyle},z={color:"#989898",...i.characterLimitStyle},V={color:"#ff0000",...i.characterLimitReachedStyle},P=l?(Z=a.chatInput)==null?void 0:Z.disabledPlaceholderText:(K=a.chatInput)==null?void 0:K.enabledPlaceholderText,j=()=>{l||B(!0)},q=()=>{B(!1)},$=()=>{I(!0)},W=()=>{I(!1)},O=async Y=>{var ne;if(!E&&Y.key==="Enter"){if(Y.shiftKey){(ne=a.chatInput)!=null&&ne.allowNewline||Y.preventDefault();return}Y.preventDefault(),await D()}},H=Y=>{w.current&&(M(Y.target.value),h(w.current.value.length))};return y.jsxs("div",{"aria-label":((ce=a.ariaLabel)==null?void 0:ce.inputTextArea)??"input text area",role:"textbox",onMouseDown:Y=>{var ne;Y.stopPropagation(),!g&&((ne=a.general)==null?void 0:ne.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&m(!0)},style:{...i.chatInputContainerStyle},className:"rcb-chat-input",children:[p&&((oe=a.sensitiveInput)!=null&&oe.maskInTextArea)?y.jsx("input",{ref:w,type:"password",className:"rcb-chat-input-textarea",style:l?L:T?F:R,placeholder:P,onChange:H,onKeyDown:O,onFocus:j,onBlur:q,onCompositionStart:$,onCompositionEnd:W}):y.jsx("textarea",{ref:w,style:l?L:T?F:R,rows:1,className:"rcb-chat-input-textarea",placeholder:P,onChange:H,onKeyDown:O,onFocus:j,onBlur:q,onCompositionStart:$,onCompositionEnd:W}),y.jsxs(y.Fragment,{children:[n==null?void 0:n.map((Y,ne)=>y.jsx(x.Fragment,{children:Y},ne)),((de=a.chatInput)==null?void 0:de.showCharacterCount)&&((le=a.chatInput)==null?void 0:le.characterLimit)!=null&&((ue=a.chatInput)==null?void 0:ue.characterLimit)>0&&y.jsxs("div",{className:"rcb-chat-input-char-counter",style:b>=((te=a.chatInput)==null?void 0:te.characterLimit)?V:z,children:[b,"/",(fe=a.chatInput)==null?void 0:fe.characterLimit]})]})]})},qs=({buttons:n})=>{var i;const{settings:r}=ie(),{styles:a}=pe();return y.jsxs("div",{"data-testid":"chatbot-footer-container",style:{...a.footerStyle},className:"rcb-chat-footer-container",children:[y.jsx("div",{className:"rcb-chat-footer",children:n==null?void 0:n.map((l,p)=>y.jsx(x.Fragment,{children:l},p))}),y.jsx("span",{children:(i=r.footer)==null?void 0:i.text})]})},Gs=()=>{var g,m,h,w,T;const{settings:n}=ie(),{styles:r}=pe(),{unreadCount:a}=Ie(),{isChatWindowOpen:i,toggleChatWindow:l}=Oe(),p={backgroundColor:"rgb(8, 133, 134)",...r.chatButtonStyle};({backgroundImage:`${(g=n.chatButton)==null?void 0:g.icon}`,...r.chatIconStyle});const b=()=>{var B;return y.jsx("span",{className:"rcb-toggle-icon",children:(B=n.chatButton)==null?void 0:B.icon})};return y.jsx(y.Fragment,{children:!((m=n.general)!=null&&m.embedded)&&y.jsxs("div",{"aria-label":((h=n.ariaLabel)==null?void 0:h.chatButton)??"open chat",role:"button",style:p,className:`rcb-toggle-button ${i?"rcb-button-hide":"rcb-button-show"}`,onClick:()=>l(!0),children:[b(),!((w=n.notification)!=null&&w.disabled)&&((T=n.notification)==null?void 0:T.showCount)&&y.jsx("span",{style:{...r.notificationBadgeStyle},className:"rcb-badge",children:a})]})})},Zs=()=>{var I,D,M,R;const n=dn(),{settings:r}=ie(),{styles:a}=pe(),{chatBodyRef:i}=Ee(),{isChatWindowOpen:l,toggleChatWindow:p}=Oe(),[b,g]=x.useState(!1),[m,h]=x.useState(!1),[w,T]=x.useState(0);x.useEffect(()=>{var L,z,V;const F=(L=r.tooltip)==null?void 0:L.mode;if(F==="ALWAYS")if(n){let P;l?P=(((z=i.current)==null?void 0:z.offsetWidth)??375)-(typeof((V=a.chatButtonStyle)==null?void 0:V.width)=="number"?a.chatButtonStyle.width:75):P=0,T(P),g(!0)}else g(!l);else F==="NEVER"?g(!1):F==="START"?m?g(!1):(h(!0),g(!0)):F==="CLOSE"&&g(!l)},[l]);const B={transform:`translateX(-${w}px)`,right:(((I=a.chatButtonStyle)==null?void 0:I.width)??75)+40,bottom:30,backgroundColor:(D=r.general)==null?void 0:D.secondaryColor,color:"#fff",...a.tooltipStyle},E={borderColor:`transparent transparent transparent ${B.backgroundColor}`};return y.jsx(y.Fragment,{children:!((M=r.general)!=null&&M.embedded)&&y.jsxs("div",{"data-testid":"chat-tooltip",style:B,className:`rcb-chat-tooltip ${b?"rcb-tooltip-show":"rcb-tooltip-hide"}`,onClick:()=>p(!0),children:[y.jsx("span",{children:(R=r.tooltip)==null?void 0:R.text}),y.jsx("span",{className:"rcb-chat-tooltip-tail",style:E})]})})},Ks=({id:n,content:r,timeout:a})=>{var B,E;const{settings:i}=ie(),{styles:l}=pe(),[p]=x.useState({toastPromptStyle:{...l.toastPromptStyle},toastPromptHoveredStyle:{...l.toastPromptHoveredStyle}}),{dismissToast:b}=un(),[g,m]=x.useState(!1),h={color:(B=i.general)==null?void 0:B.primaryColor,borderColor:(E=i.general)==null?void 0:E.primaryColor,...p.toastPromptHoveredStyle};x.useEffect(()=>{if(a){const I=setTimeout(()=>{b(n)},a);return()=>clearTimeout(I)}},[n,b,a]);const w=()=>{m(!0)},T=()=>{m(!1)};return typeof r=="string"?y.jsx("div",{onMouseEnter:w,onMouseLeave:T,style:g?h:p.toastPromptStyle,onMouseDown:async I=>{var D;(D=i.toast)!=null&&D.dismissOnClick&&(I.preventDefault(),await b(n))},className:"rcb-toast-prompt",children:r}):y.jsx(y.Fragment,{children:r})},Js=()=>{var i,l,p,b,g,m,h,w,T,B,E,I;const{styles:n}=pe(),{toasts:r}=Xr(),a={bottom:`calc(${typeof((i=n.footerStyle)==null?void 0:i.height)=="number"?`${(l=n.footerStyle)==null?void 0:l.height}px`:((p=n.footerStyle)==null?void 0:p.height)??"50px"} + ${typeof((b=n.chatInputContainerStyle)==null?void 0:b.height)=="number"?`${(g=n.chatInputContainerStyle)==null?void 0:g.height}px`:((m=n.chatInputContainerStyle)==null?void 0:m.height)??"70px"} + 20px)`,width:300,minWidth:`calc(${typeof((h=n.chatWindowStyle)==null?void 0:h.width)=="number"?`${(w=n.chatWindowStyle)==null?void 0:w.width}px`:((T=n.chatWindowStyle)==null?void 0:T.width)??"375px"} / 2)`,maxWidth:`calc(${typeof((B=n.chatWindowStyle)==null?void 0:B.width)=="number"?`${(E=n.chatWindowStyle)==null?void 0:E.width}px`:((I=n.chatWindowStyle)==null?void 0:I.width)??"375px"} - 50px)`,...n.toastPromptContainerStyle};return y.jsx("div",{className:"rcb-toast-prompt-container",style:a,children:r.map(D=>y.jsx(Ks,{id:D.id,content:D.content,timeout:D.timeout},D.id))})},Qr=({file:n,fileType:r,fileUrl:a})=>{var b,g,m;const{settings:i}=ie(),{styles:l}=pe(),p={backgroundColor:(b=i.general)==null?void 0:b.primaryColor,maxWidth:(g=i.userBubble)!=null&&g.showAvatar?"65%":"70%",...l.mediaDisplayContainerStyle};return y.jsx(y.Fragment,{children:a?y.jsxs(y.Fragment,{children:[r==="image"&&a&&y.jsx("div",{style:p,className:"rcb-media-display-image-container rcb-media-entry","data-testid":"media-display-image-container",children:y.jsx("img",{src:a,alt:"Image Display",className:"rcb-media-display-image"})}),r==="video"&&a&&y.jsx("div",{style:p,className:"rcb-media-display-video-container rcb-media-entry","data-testid":"media-display-video-container",children:y.jsxs("video",{controls:!0,className:"rcb-media-display-video",children:[y.jsx("source",{src:a,type:n.type}),"Your browser does not support the video tag."]})}),r==="audio"&&a&&y.jsxs("audio",{"data-testid":"media-display-audio-container",style:{maxWidth:(m=i.userBubble)!=null&&m.showAvatar?"65%":"70%"},controls:!0,className:"rcb-media-display-audio rcb-media-entry",children:[y.jsx("source",{src:a,type:n.type}),"Your browser does not support the audio tag."]})]}):y.jsx(y.Fragment,{})})},eo=async n=>{if(!n)return{fileType:null,fileUrl:null};const r=n.type.split("/")[0];if(!["image","video","audio"].includes(r))return{fileType:null,fileUrl:null};try{const a=await new Promise((i,l)=>{const p=new FileReader;p.onload=()=>i(p.result),p.onerror=()=>l(new Error("File reading failed")),p.readAsDataURL(n)});return{fileType:r,fileUrl:a}}catch(a){return console.error(a),{fileType:null,fileUrl:null}}},Ys=()=>{var $,W,O,H,G,Z;const{settings:n}=ie(),{styles:r}=pe(),{injectMessage:a,simulateStreamMessage:i,streamMessage:l,removeMessage:p,endStreamMessage:b}=Nt(),{getCurrPath:g,getPrevPath:m,goToPath:h,blockAllowsAttachment:w}=rr(),{flowRef:T,inputRef:B}=Ee(),E=T.current,{showToast:I,dismissToast:D}=un(),{dispatchRcbEvent:M}=Re(),{toggleChatWindow:R}=Oe(),{setTextAreaValue:F}=bt(),{handleSubmitText:L}=xt(),z={cursor:`url("${($=n.general)==null?void 0:$.actionDisabledIcon}"), auto`,...r.fileAttachmentButtonStyle,...r.fileAttachmentButtonDisabledStyle},V={backgroundImage:`url(${(W=n.fileAttachment)==null?void 0:W.icon})`,fill:"#a6a6a6",...r.fileAttachmentIconStyle},P={backgroundImage:`url(${(O=n.fileAttachment)==null?void 0:O.icon})`,fill:"#a6a6a6",...r.fileAttachmentIconStyle,...r.fileAttachmentIconDisabledStyle},j=async K=>{var te,fe,Y,ne;const ce=K.target.files;if(!ce)return;const oe=Array.from(ce);if(K.target.value="",(te=n.event)!=null&&te.rcbUserUploadFile&&(await M(J.USER_UPLOAD_FILE,{files:oe})).defaultPrevented)return;const de=g();if(!de)return;const le=E[de];if(!le)return;const ue=le.file;if(ue!=null){const ge=[];for(let xe=0;xe<oe.length;xe++){if(ge.push(oe[xe].name),!((fe=n.fileAttachment)!=null&&fe.showMediaDisplay))continue;const ye=await eo(oe[xe]);!ye.fileType||!ye.fileUrl||await a(y.jsx(Qr,{file:oe[xe],fileType:ye.fileType,fileUrl:ye.fileUrl}),"USER")}await L("ðŸ“„ "+ge.join(", "),(Y=n.fileAttachment)==null?void 0:Y.sendFileName),await ue({userInput:(ne=B.current)==null?void 0:ne.value,prevPath:m(),currPath:g(),goToPath:h,setTextAreaValue:F,injectMessage:a,simulateStreamMessage:i,streamMessage:l,removeMessage:p,endStreamMessage:b,toggleChatWindow:R,showToast:I,dismissToast:D,files:oe})}},q=()=>{var ce,oe;const K=w?(ce=n.fileAttachment)==null?void 0:ce.icon:(oe=n.fileAttachment)==null?void 0:oe.iconDisabled;return!K||typeof K=="string"?y.jsx("span",{className:w?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",style:w?V:P}):K&&y.jsx("span",{className:w?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",children:y.jsx(K,{style:w?V:P})})};return y.jsxs("label",{"aria-label":((H=n.ariaLabel)==null?void 0:H.fileAttachmentButton)??"upload file",role:"button",className:w?"rcb-attach-button-enabled":"rcb-attach-button-disabled",style:w?{...r.fileAttachmentButtonStyle}:z,children:[y.jsx("input",{className:"rcb-attach-input",role:"file",type:"file",onChange:j,multiple:(G=n.fileAttachment)==null?void 0:G.multiple,accept:(Z=n.fileAttachment)==null?void 0:Z.accept,disabled:!w}),q()]})},Xs=()=>{var M,R,F,L,z,V;const{settings:n}=ie(),{styles:r}=pe(),{syncedTextAreaDisabledRef:a}=Ie(),{inputRef:i}=Ee(),{textAreaDisabled:l,setTextAreaValue:p}=bt(),b=x.useRef(null),g=x.useRef(null),[m,h]=x.useState(!1),w={cursor:`url("${(M=n.general)==null?void 0:M.actionDisabledIcon}"), auto`,...r.emojiButtonStyle,...r.emojiButtonDisabledStyle},T={backgroundImage:`url(${(R=n.emoji)==null?void 0:R.icon})`,fill:"#a6a6a6",...r.emojiIconStyle},B={backgroundImage:`url(${(F=n.emoji)==null?void 0:F.icon})`,fill:"#a6a6a6",...r.emojiIconStyle,...r.emojiIconDisabledStyle};x.useEffect(()=>{const P=$=>{const W=$.composedPath();b.current&&!W.includes(b.current)&&g.current&&!W.includes(g.current)&&h(!1)},j=()=>{if(b.current&&g.current){const $=g.current.getBoundingClientRect(),W=b.current.offsetHeight,O=$.top-W-8;b.current.style.left=`${$.left}px`,b.current.style.top=`${O}px`}},q=()=>{j()};return document.addEventListener("mousedown",P),window.addEventListener("resize",q),()=>{document.removeEventListener("mousedown",P),window.removeEventListener("resize",q)}},[]);const E=(P,j)=>{P.preventDefault(),i.current&&(p(i.current.value+j),setTimeout(()=>{const q=i.current;if(q){q.focus();const $=q.value.length;q.setSelectionRange($,$)}},50)),h(!1)},I=P=>{P.preventDefault(),a.current?h(!1):h(j=>!j)},D=()=>{var j,q;const P=l?(j=n.emoji)==null?void 0:j.iconDisabled:(q=n.emoji)==null?void 0:q.icon;return!P||typeof P=="string"?y.jsx("span",{className:`${l?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,style:l?B:T}):P&&y.jsx("span",{className:`${l?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,children:y.jsx(P,{style:l?B:T})})};return y.jsxs(y.Fragment,{children:[y.jsx("div",{"aria-label":((L=n.ariaLabel)==null?void 0:L.emojiButton)??"emoji picker",role:"button",ref:g,className:`${l?"rcb-emoji-button-disabled":"rcb-emoji-button-enabled"}`,style:l?w:{...r.emojiButtonStyle},onMouseDown:I,children:D()}),m&&y.jsx("div",{className:"rcb-emoji-button-popup",ref:b,children:(V=(z=n.emoji)==null?void 0:z.list)==null?void 0:V.map((P,j)=>y.jsx("span",{className:"rcb-emoji",onMouseDown:q=>E(q,P),children:P},j))})]})},Qs=()=>{var g,m,h;const{settings:n}=ie(),{styles:r}=pe(),{audioToggledOn:a,toggleAudio:i}=Jr(),l={backgroundImage:`url(${(g=n.audio)==null?void 0:g.icon})`,fill:"#fcec3d",...r.audioIconStyle},p={backgroundImage:`url(${(m=n.audio)==null?void 0:m.iconDisabled})`,fill:"#e8eaed",...r.audioIconStyle,...r.audioIconDisabledStyle},b=()=>{var T,B;const w=a?(T=n.audio)==null?void 0:T.icon:(B=n.audio)==null?void 0:B.iconDisabled;return!w||typeof w=="string"?y.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",style:a?l:p}):w&&y.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",children:y.jsx(w,{style:a?l:p,"data-testid":"rcb-audio-icon-svg"})})};return y.jsx("div",{"aria-label":((h=n.ariaLabel)==null?void 0:h.audioButton)??"toggle audio",role:"button",onMouseDown:async w=>{w.preventDefault(),await i()},style:a?{...r.audioButtonStyle}:{...r.audioButtonStyle,...r.audioButtonDisabledStyle},children:b()})},ei=()=>{var l;const{settings:n}=ie(),{styles:r}=pe(),{toggleChatWindow:a}=Oe(),i=()=>{var p;return y.jsx("span",{className:"rcb-close-chat-icon","data-testid":"rcb-close-chat-icon",children:(p=n.header)==null?void 0:p.closeChatIcon})};return y.jsx("div",{"aria-label":((l=n.ariaLabel)==null?void 0:l.closeChatButton)??"close chat",role:"button",onMouseDown:p=>{p.stopPropagation(),a(!1)},style:{...r.closeChatButtonStyle},children:i()})},ti=()=>{const{notificationsToggledOn:n,toggleNotifications:r,playNotificationSound:a}=Yn();return{notificationsToggledOn:n,toggleNotifications:r,playNotificationSound:a}},ni=()=>{var g,m,h;const{settings:n}=ie(),{styles:r}=pe(),{notificationsToggledOn:a,toggleNotifications:i}=ti(),l={backgroundImage:`url(${(g=n.notification)==null?void 0:g.icon})`,fill:"#fcec3d",...r.notificationIconStyle},p={backgroundImage:`url(${(m=n.notification)==null?void 0:m.iconDisabled})`,fill:"#e8eaed",...r.notificationIconStyle,...r.notificationIconDisabledStyle},b=()=>{var T,B;const w=a?(T=n.notification)==null?void 0:T.icon:(B=n.notification)==null?void 0:B.iconDisabled;return!w||typeof w=="string"?y.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",style:a?l:p}):w&&y.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",children:y.jsx(w,{style:a?l:p,"data-testid":"rcb-notification-icon-svg"})})};return y.jsx("div",{"aria-label":((h=n.ariaLabel)==null?void 0:h.notificationButton)??"toggle notifications",role:"button",onMouseDown:async w=>{w.preventDefault(),await i()},style:a?{...r.notificationButtonStyle}:{...r.notificationButtonStyle,...r.notificationButtonDisabledStyle},children:b()})},ri=()=>{var F,L,z;const{settings:n}=ie(),{styles:r}=pe(),{injectMessage:a}=Nt(),{inputRef:i}=Ee(),{voiceToggledOn:l,toggleVoice:p}=nr(),{setInputLength:b,setTextAreaValue:g,textAreaDisabled:m}=bt(),{handleSubmitText:h}=xt(),w=x.useRef([]),[T,B]=x.useState(!1);x.useEffect(()=>{var V;(V=n.voice)!=null&&V.sendAsAudio?(M(),w.current=[]):h()},[T]),x.useEffect(()=>{l?Hs(n,p,D,g,b,w,i):er()},[l]);const E={backgroundImage:`url(${(F=n.voice)==null?void 0:F.icon})`,fill:"#9aa0a6",...r.voiceIconStyle},I={backgroundImage:`url(${(L=n.voice)==null?void 0:L.iconDisabled})`,fill:"#9aa0a6",...r.voiceIconStyle,...r.voiceIconDisabledStyle},D=()=>{B(V=>!V)},M=async()=>{const V=new Blob(w.current,{type:"audio/wav"}),P=new File([V],"voice-input.wav",{type:"audio/wav"}),j=await eo(P);!j.fileType||!j.fileUrl||await a(y.jsx(Qr,{file:P,fileType:j.fileType,fileUrl:j.fileUrl}),"USER")},R=()=>{var P,j;const V=l?(P=n.voice)==null?void 0:P.icon:(j=n.voice)==null?void 0:j.iconDisabled;return!V||typeof V=="string"?y.jsx("span",{className:`rcb-voice-icon${l&&!m?"-on":""}`,"data-testid":"rcb-voice-icon",style:l&&!m?E:I}):V&&y.jsx("span",{className:`rcb-voice-icon ${l&&!m?"on":""}`,children:y.jsx(V,{style:l&&!m?E:I})})};return y.jsx("div",{"aria-label":((z=n.ariaLabel)==null?void 0:z.voiceButton)??"toggle voice",role:"button",onMouseDown:async V=>{V.preventDefault(),!m&&await p()},style:l&&!m?{...r.voiceButtonStyle}:{...r.voiceButtonStyle,...r.voiceButtonDisabledStyle},className:l&&!m?"rcb-voice-button-enabled":"rcb-voice-button-disabled",children:R()})},oi=()=>{var B,E,I,D;const{settings:n}=ie(),{styles:r}=pe(),{textAreaDisabled:a}=Ie(),[i,l]=x.useState(!1),{handleSubmitText:p}=xt(),b={backgroundColor:(B=n.general)==null?void 0:B.secondaryColor,...r.sendButtonStyle},g={cursor:`url("${(E=n.general)==null?void 0:E.actionDisabledIcon}"), auto`,backgroundColor:"#93c2c3",...r.sendButtonStyle,...r.sendButtonDisabledStyle},m={backgroundColor:(I=n.general)==null?void 0:I.secondaryColor,...r.sendButtonStyle,...r.sendButtonHoveredStyle},h=()=>{l(!0)},w=()=>{l(!1)},T=()=>{var M;return y.jsx("span",{className:"rcb-send-icon","data-testid":"rcb-send-icon",children:(M=n.chatInput)==null?void 0:M.sendButtonIcon})};return y.jsx("div",{"aria-label":((D=n.ariaLabel)==null?void 0:D.sendButton)??"send message",role:"button",onMouseEnter:h,onMouseLeave:w,onMouseDown:async M=>{M==null||M.preventDefault(),!a&&await p()},style:a?g:i?m:b,className:"rcb-send-button",children:T()})},si=n=>Object.values(Te).includes(n),ii=(n,r)=>{var m,h,w,T,B,E,I,D,M;const a={[Te.AUDIO_BUTTON]:(m=n.audio)==null?void 0:m.disabled,[Te.CLOSE_CHAT_BUTTON]:(h=n.general)==null?void 0:h.embedded,[Te.EMOJI_PICKER_BUTTON]:(w=n.emoji)==null?void 0:w.disabled,[Te.FILE_ATTACHMENT_BUTTON]:(T=n.fileAttachment)==null?void 0:T.disabled,[Te.NOTIFICATION_BUTTON]:(B=n.notification)==null?void 0:B.disabled,[Te.SEND_MESSAGE_BUTTON]:!1,[Te.VOICE_MESSAGE_BUTTON]:(E=n.voice)==null?void 0:E.disabled},i={},l=R=>R?R.map(F=>{if(typeof F=="string"){if(si(F)&&!a[F]){if(i[F])return i[F];const L=r[F];if(typeof L=="function"){const z=L();return i[F]=z,z}return null}return null}return F}).filter(F=>F!==null):[],p=l((I=n.header)==null?void 0:I.buttons),b=l((D=n.chatInput)==null?void 0:D.buttons),g=l((M=n.footer)==null?void 0:M.buttons);return{header:p,chatInput:b,footer:g}},ai=()=>y.jsx(Qs,{}),li=()=>y.jsx(ni,{}),ci=()=>y.jsx(ei,{}),ui=()=>y.jsx(ri,{}),di=()=>y.jsx(oi,{}),fi=()=>y.jsx(Ys,{}),pi=()=>y.jsx(Xs,{}),hi=()=>{const{settings:n}=ie(),r=x.useMemo(()=>({[Te.CLOSE_CHAT_BUTTON]:()=>ci(),[Te.AUDIO_BUTTON]:()=>ai(),[Te.NOTIFICATION_BUTTON]:()=>li(),[Te.EMOJI_PICKER_BUTTON]:()=>pi(),[Te.FILE_ATTACHMENT_BUTTON]:()=>fi(),[Te.SEND_MESSAGE_BUTTON]:()=>di(),[Te.VOICE_MESSAGE_BUTTON]:()=>ui()}),[]),{header:a,chatInput:i,footer:l}=x.useMemo(()=>ii(n,r),[n,r]),p=x.useMemo(()=>a,[a]),b=x.useMemo(()=>i,[i]),g=x.useMemo(()=>l,[l]);return{headerButtons:p,chatInputButtons:b,footerButtons:g}},to=()=>{const{settings:n}=ie(),{styles:r}=pe(),{setSyncedMessages:a,syncedMessagesRef:i}=Kn(),{isLoadingChatHistory:l,setIsLoadingChatHistory:p,hasChatHistoryLoaded:b,setHasChatHistoryLoaded:g}=Ie(),{chatBodyRef:m}=Ee(),{dispatchRcbEvent:h}=Re(),w=x.useCallback(async()=>{var E,I;const T=Zr();if(!T||(E=n.event)!=null&&E.rcbLoadChatHistory&&(await h(J.LOAD_CHAT_HISTORY,{})).defaultPrevented)return;p(!0);const B=((I=m.current)==null?void 0:I.scrollHeight)??0;Ps(n,r,T,a,i,m,B,p,g)},[n,r,h,i,m,p,g]);return{isLoadingChatHistory:l,setIsLoadingChatHistory:p,hasChatHistoryLoaded:b,showChatHistory:w}},mi=()=>{var m,h,w;const{settings:n}=ie(),{styles:r}=pe(),{showChatHistory:a}=to(),[i,l]=x.useState(!1),p={color:(m=n.general)==null?void 0:m.primaryColor,borderColor:(h=n.general)==null?void 0:h.primaryColor,...r.chatHistoryButtonStyle,...r.chatHistoryButtonHoveredStyle},b=()=>{l(!0)},g=()=>{l(!1)};return y.jsx("div",{className:"rcb-view-history-container",children:y.jsx("div",{onMouseEnter:b,onMouseLeave:g,style:i?p:{...r.chatHistoryButtonStyle},onMouseDown:T=>{T.preventDefault(),a()},className:"rcb-view-history-button",role:"button",tabIndex:0,children:y.jsx("p",{children:(w=n.chatHistory)==null?void 0:w.viewChatHistoryButtonText})})})},gi=()=>{var b;const{settings:n}=ie(),{hasInteractedPage:r,setHasInteractedPage:a,hasFlowStarted:i,setHasFlowStarted:l}=Ie(),p=x.useCallback(()=>{var m;if(a(!0),!i&&((m=n.general)==null?void 0:m.flowStartTrigger)==="ON_PAGE_INTERACT"&&l(!0),!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const g=new window.SpeechSynthesisUtterance;g.text="",g.onend=()=>{window.removeEventListener("click",p),window.removeEventListener("keydown",p),window.removeEventListener("touchstart",p)},window.speechSynthesis.speak(g)},[i,(b=n.general)==null?void 0:b.flowStartTrigger]);return{hasInteractedPage:r,handleFirstInteraction:p}},yi=()=>{var j,q,$,W;const n=dn(),{settings:r}=ie(),{replaceMessages:a}=Nt(),{isBotTyping:i,isChatWindowOpen:l,setUnreadCount:p,setSyncedIsChatWindowOpen:b,setSyncedTextAreaDisabled:g,setSyncedAudioToggledOn:m,setSyncedVoiceToggledOn:h,setSyncedIsScrolling:w,syncedIsScrollingRef:T,syncedIsChatWindowOpenRef:B}=Ie(),{chatBodyRef:E}=Ee(),{viewportHeight:I,setViewportHeight:D,setViewportWidth:M,scrollToBottom:R}=Oe(),{setUpNotifications:F}=Yn(),{handleFirstInteraction:L}=gi(),{showChatHistory:z}=to(),V=x.useRef(0),P=x.useRef(!1);x.useEffect(()=>(window.addEventListener("click",L),window.addEventListener("keydown",L),window.addEventListener("touchstart",L),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",L),window.removeEventListener("touchstart",L)}),[]),x.useEffect(()=>{const O=E.current;if(!O)return;const H=()=>{P.current||(P.current=!0,requestAnimationFrame(()=>{var oe,de;if(!O)return;const{scrollTop:G,clientHeight:Z,scrollHeight:K}=O,ce=G+Z<K-(((oe=r.chatWindow)==null?void 0:oe.messagePromptOffset)??30);w(ce),T.current=ce,ce||(G+Z>=K-1&&(O.scrollTop=K-Z-1),(B.current||(de=r.general)!=null&&de.embedded)&&p(0)),P.current=!1}))};return O.addEventListener("wheel",H,{passive:!0}),O.addEventListener("touchmove",H,{passive:!0}),()=>{O.removeEventListener("wheel",H),O.removeEventListener("touchmove",H)}},[]),x.useEffect(()=>{var O,H,G;g((O=r.chatInput)==null?void 0:O.disabled),b((H=r.chatWindow)==null?void 0:H.defaultOpen),m((G=r.audio)==null?void 0:G.defaultToggledOn),setTimeout(()=>{var Z;h((Z=r.voice)==null?void 0:Z.defaultToggledOn)},1)},[]),x.useEffect(()=>{var O;(O=r.notification)!=null&&O.disabled||F()},[(j=r.notification)==null?void 0:j.disabled]),x.useEffect(()=>{!T.current&&(E!=null&&E.current)&&R()},[i]),x.useEffect(()=>{var O,H;if((O=r.chatHistory)!=null&&O.disabled)Bs();else if(_s(r),Zr().length>0){const Z=et(y.jsx(mi,{}),"SYSTEM");a([Z]),(H=r.chatHistory)!=null&&H.autoLoad&&z()}},[(q=r.chatHistory)==null?void 0:q.storageKey,($=r.chatHistory)==null?void 0:$.maxEntries,(W=r.chatHistory)==null?void 0:W.disabled]),x.useEffect(()=>{var O;n||(O=r.general)!=null&&O.embedded||!navigator.virtualKeyboard||(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",H=>{if(!H.target)return;const{x:G,y:Z,width:K,height:ce}=H.target.boundingRect;G==0&&Z==0&&K==0&&ce==0?(setTimeout(()=>{var oe;D((oe=window.visualViewport)==null?void 0:oe.height)},101),setTimeout(()=>{var oe,de;I!=((oe=window.visualViewport)==null?void 0:oe.height)&&D((de=window.visualViewport)==null?void 0:de.height)},1001)):setTimeout(()=>{var oe;D(((oe=window.visualViewport)==null?void 0:oe.height)-ce)},101)}))},[n]),x.useEffect(()=>{var K,ce,oe,de;if(n)return;l&&(D((K=window.visualViewport)==null?void 0:K.height),M((ce=window.visualViewport)==null?void 0:ce.width));const O=()=>window.scrollTo({top:0,left:0,behavior:"auto"}),H=()=>V.current=window.scrollY,G=()=>{var le,ue;D((le=window.visualViewport)==null?void 0:le.height),M((ue=window.visualViewport)==null?void 0:ue.width)},Z=()=>{var le;window.removeEventListener("scroll",O),window.removeEventListener("scroll",H),(le=window.visualViewport)==null||le.removeEventListener("resize",G)};return l?(Z(),document.body.style.position="fixed",window.addEventListener("scroll",O),(oe=window.visualViewport)==null||oe.addEventListener("resize",G)):(document.body.style.position="static",Z(),window.scrollTo({top:V.current,left:0,behavior:"auto"}),window.addEventListener("scroll",H),(de=window.visualViewport)==null||de.removeEventListener("resize",G)),Z},[l,n])},or={DEFAULT_URL:"https://cdn.jsdelivr.net/gh/react-chatbotify/community-themes/themes",DEFAULT_EXPIRATION:"2592000",CACHE_KEY_PREFIX:"RCB_THEME_CACHE_DATA"},bi=or.DEFAULT_URL,xi=or.DEFAULT_EXPIRATION,no=or.CACHE_KEY_PREFIX,Si=(n,r,a)=>{const i=localStorage.getItem(`${no}_${n}_${r}`);if(!i)return null;try{const l=JSON.parse(i),p=new Date().getTime(),b=Math.floor(p/1e3);return l.cacheDate+a>=b?l:null}catch(l){return console.error(`Unable to fetch cache for ${n}`,l),null}},vi=(n,r,a,i,l)=>{const p=new Date().getTime(),b=Math.floor(p/1e3),g={settings:a,inlineStyles:i,cssStylesText:l,cacheDate:b};localStorage.setItem(`${no}_${n}_${r}`,JSON.stringify(g))},wi=async(n,r)=>{const a=`${r}/${n}/meta.json`;try{const i=await fetch(a);return i.ok?(await i.json()).version:(console.error(`Failed to fetch meta.json from ${a}`),null)}catch(i){return console.error(`Failed to fetch meta.json from ${a}`,i),null}},ro=async(n,r)=>{const{id:a,version:i,baseUrl:l=bi,cacheDuration:p=xi}=r,b=i||await wi(a,l);if(!b)return console.error(`Unable to find version for theme: ${a}`),{settings:{},inlineStyles:{},cssStylesText:""};const g=Si(a,b,p);if(g){const F=oo(n,g.cssStylesText);return{settings:g.settings,inlineStyles:g.inlineStyles,cssStylesText:F}}const m=`${l}/${a}/${b}/styles.css`,h=`${l}/${a}/${b}/settings.json`,w=`${l}/${a}/${b}/styles.json`;let T="";const B=await fetch(m);B.ok?T=await B.text():console.info(`Could not fetch styles.css from ${m}`);const E=await fetch(h);let I={};E.ok?I=await E.json():console.info(`Could not fetch settings.json from ${h}`);const D=await fetch(w);let M={};D.ok?M=await D.json():console.info(`Could not fetch styles.json from ${w}`),vi(a,b,I,M,T);const R=oo(n,T);return{settings:I,inlineStyles:M,cssStylesText:R}},oo=(n,r)=>r.split(new RegExp("(?<=})")).map(i=>{const l=i.trim();return l.startsWith("@import")||l.startsWith("@keyframes")||l.startsWith("@media")?l:l?`#${n} ${l}`:""}).join(`
`),Ci=()=>fn(jr),ki=()=>fn(Dr),Ti=async(n,r,a,i)=>{var g,m;let l=Ci(),p=ki(),b="";if(i!=null)if(Array.isArray(i))for(const h of i){const w=await ro(n,h);l=We(w.settings,l),p=We(w.inlineStyles,p),b+=w.cssStylesText}else{const h=await ro(n,i);l=We(h.settings,l),p=We(h.inlineStyles,p),b+=h.cssStylesText}return r!=null&&(l=We(r,l)),a!=null&&(p=We(a,p)),((g=l.chatInput)==null?void 0:g.botDelay)!=null&&((m=l.chatInput)==null?void 0:m.botDelay)<500&&(l.chatInput.botDelay=500),{settings:l,inlineStyles:p,cssStylesText:b}},We=(n,r)=>{const a=[{source:n,target:r}];for(;a.length;){const i=a.pop();if(i==null)continue;const{source:l,target:p}=i;for(const b of Object.keys(l)){const g=b;if(x.isValidElement(l[g]))p[g]=l[g];else if(typeof l[g]=="object"&&l[g]!==null&&!Array.isArray(l[g]))(typeof p[g]!="object"||p[g]===null)&&(p[g]={}),a.push({source:l[g],target:p[g]});else try{p[g]=l[g]}catch{}}}return r},fn=n=>{if(n===null||typeof n!="object")return n;const r=Array.isArray(n)?[]:{},a=[{source:n,target:r}],i=new WeakMap;for(i.set(n,r);a.length;){const l=a.pop();if(l==null)continue;const{source:p,target:b}=l;for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g)){const m=p[g];if(m&&typeof m=="object")if(i.has(m))b[g]=i.get(m);else{const h=Array.isArray(m)?[]:{};i.set(m,h),b[g]=h,a.push({source:m,target:h})}else b[g]=m}}return r},Ei=()=>{const{settings:n,setSettings:r}=ie(),a=x.useCallback(l=>{!l||Object.keys(l).length===0||r(fn(We(l,n)))},[n]),i=x.useCallback(l=>{r(l)},[]);return{settings:n,replaceSettings:i,updateSettings:a}},Ii=()=>{const{styles:n,setStyles:r}=pe(),a=x.useCallback(l=>{!l||Object.keys(l).length===0||r(fn(We(l,n)))},[n]),i=x.useCallback(l=>{r(l)},[]);return{styles:n,replaceStyles:i,updateStyles:a}},Ai=n=>{const{updateSettings:r}=Ei(),{updateStyles:a}=Ii(),i=n==null?void 0:n.map(l=>l());x.useEffect(()=>{let l={},p={};i==null||i.forEach(b=>{b!=null&&b.settings&&Object.keys(b==null?void 0:b.settings).length!==0&&(l=We(b.settings,l)),b!=null&&b.styles&&Object.keys(b==null?void 0:b.styles).length!==0&&(p=We(b.styles,p))}),r(l),a(p)},[])},Bi=({plugins:n})=>{var R,F,L,z,V,P;const r=dn(),{settings:a}=ie(),{styles:i}=pe(),{hasFlowStarted:l,setHasFlowStarted:p}=Ie(),{inputRef:b}=Ee(),{viewportHeight:g,viewportWidth:m,isChatWindowOpen:h}=Oe(),{goToPath:w}=rr(),{headerButtons:T,chatInputButtons:B,footerButtons:E}=hi();yi(),Ai(n),x.useEffect(()=>{var j;(l||((j=a.general)==null?void 0:j.flowStartTrigger)==="ON_LOAD")&&w("start")},[l,(R=a.general)==null?void 0:R.flowStartTrigger]);const I=x.useMemo(()=>{var q;const j="rcb-chatbot-global ";return(q=a.general)!=null&&q.embedded?j+"rcb-window-embedded":h?j+"rcb-window-open":j+"rcb-window-close"},[a,h]),D=()=>{var j,q;return!r&&!((j=a.general)!=null&&j.embedded)?{...i.chatWindowStyle,borderRadius:"0px",left:"0px",right:"auto",top:"0px",bottom:"auto",width:`${m}px`,height:`${g}px`,zIndex:1e4}:(q=a.general)!=null&&q.embedded?{...i.chatWindowStyle}:{...i.chatWindowStyle,zIndex:1e4}},M=()=>{var j,q;return r&&((j=a.device)==null?void 0:j.desktopEnabled)||!r&&((q=a.device)==null?void 0:q.mobileEnabled)};return y.jsx(y.Fragment,{children:M()&&y.jsxs("div",{onMouseDown:j=>{var q,$;!l&&((q=a.general)==null?void 0:q.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&p(!0),r?($=b.current)==null||$.blur():j==null||j.preventDefault()},className:I,children:[((F=a.general)==null?void 0:F.showTooltip)&&y.jsx(Zs,{}),y.jsx(Gs,{}),h&&!r&&!((L=a.general)!=null&&L.embedded)&&y.jsxs(y.Fragment,{children:[y.jsx("style",{children:`
									html {
										overflow: hidden !important;
										touch-action: none !important;
										scroll-behavior: auto !important;
									}
								`}),y.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",zIndex:9999}})]}),y.jsxs("div",{style:D(),className:"rcb-chat-window",children:[((z=a.general)==null?void 0:z.showHeader)&&y.jsx(Xo,{buttons:T}),y.jsx(ls,{}),y.jsx(Js,{}),((V=a.general)==null?void 0:V.showInputRow)&&y.jsx(Ws,{buttons:B}),((P=a.general)==null?void 0:P.showFooter)&&y.jsx(qs,{buttons:E})]})]})})},so=x.createContext(void 0),io=()=>x.useContext(so),_i=({children:n})=>{var w;const r=x.useRef(""),a=x.useRef({}),[i,l]=x.useState({}),[p,b]=x.useState({}),[g,m]=x.useState(!1);x.useEffect(()=>{m(!0)},[]);const h=async(T,B,E,I,D,M)=>{r.current=T,a.current=B;const R=await Ti(T,E,I,D);M.current&&(M.current.textContent=R.cssStylesText),l(R.settings),b(R.inlineStyles)};return g?y.jsx("div",{style:{fontFamily:(w=i.general)==null?void 0:w.fontFamily},children:y.jsx(so.Provider,{value:{loadConfig:h},children:y.jsx(Jo,{settings:i,setSettings:l,children:y.jsx(Yo,{styles:p,setStyles:b,children:y.jsx(zs,{children:y.jsx(Qo,{botIdRef:r,flowRef:a,children:y.jsx(ns,{children:y.jsx(es,{settings:i,children:y.jsx(os,{children:n})})})})})})})})}):null},Mi=({id:n,flow:r,settings:a,styles:i,themes:l,plugins:p,setConfigLoaded:b,styleRootRef:g})=>{const m=x.useMemo(()=>n,[]),h=io(),{flowRef:w}=Ee();w&&w.current!==r&&(w.current=r);const T=async()=>{var B,E;(B=a.event)!=null&&B.rcbPreLoadChatBot&&(await Zn(J.PRE_LOAD_CHATBOT,{botId:m,currPath:null,prevPath:null},{flow:r,settings:a,styles:i,themes:l,plugins:p})).defaultPrevented||(h!=null&&h.loadConfig&&(await h.loadConfig(m,r,a,i,l,g),b(!0)),(E=a.event)!=null&&E.rcbPostLoadChatBot&&Zn(J.POST_LOAD_CHATBOT,{botId:m,currPath:null,prevPath:null},{flow:r,settings:a,styles:i,themes:l,plugins:p}))};return x.useEffect(()=>{T()},[l]),null},sr=["Quickstart","API Docs","Examples","Github","Discord"],Pi={start:{message:"Hello, I am Tan Jin ðŸ‘‹! Welcome to React ChatBotify, I'm excited that you are using our chatbot ðŸ˜Š!",transition:{duration:1e3},chatDisabled:!0,path:"show_options"},show_options:{message:"It looks like you have not set up a conversation flow yet. No worries! Here are a few helpful things you can check out to get started:",options:sr,path:"process_options"},prompt_again:{message:"Do you need any other help?",options:sr,path:"process_options"},unknown_input:{message:"Sorry, I do not understand your message ðŸ˜¢! If you require further assistance, you may click on the Github option and open an issue there or visit our discord.",options:sr,path:"process_options"},process_options:{transition:{duration:0},path:n=>{let r="";switch(n.userInput){case"Quickstart":r="https://react-chatbotify.com/docs/introduction/quickstart/";break;case"API Docs":r="https://react-chatbotify.com/docs/api/bot_options";break;case"Examples":r="https://react-chatbotify.com/docs/examples/basic_form";break;case"Github":r="https://github.com/react-chatbotify/react-chatbotify/";break;case"Discord":r="https://discord.gg/6R4DK4G5Zh";break;default:return"unknown_input"}return n.injectMessage("Sit tight! I'll send you right there!"),setTimeout(()=>{window.open(r)},1e3),"repeat"}},repeat:{transition:{duration:3e3},path:"prompt_again"}},ji=({id:n,flow:r,settings:a,styles:i,themes:l,plugins:p})=>{const b=x.useMemo(()=>n||"rcb-"+on(),[]),g=!r||Object.keys(r).length===0?Pi:r,m=a||{},h=i||{},w=p||[],[T,B]=x.useState(!1),E=io(),I=x.useRef(null),[D,M]=x.useState(l||[]);x.useEffect(()=>{l&&M(l)},[l]);const R=()=>y.jsxs(y.Fragment,{children:[y.jsx(Mi,{styleRootRef:I,id:b,flow:g,settings:m,styles:h,themes:D,plugins:w,setConfigLoaded:B}),T&&y.jsx(Bi,{plugins:p})]});return E==null?y.jsxs(_i,{children:[y.jsx("style",{ref:I}),y.jsx("div",{id:b,children:R()})]}):y.jsxs(y.Fragment,{children:[y.jsx("style",{ref:I}),y.jsx("div",{id:b,children:R()})]})};function Oi(){const[n,r]=x.useState(""),a={start:{message:"Hello! What is your name?",path:"show_name"},show_name:{message:i=>`Hey ${i.userInput}! Nice to meet you.`,function:i=>r(i.userInput),chatDisabled:!0,transition:{duration:1e3},path:"ask_age_group"},ask_age_group:{message:()=>`Hey ${n}!, Your account got verified, May i know your age group?`,options:["child","teen","adult"],chatDisabled:!0,path:()=>"start"},incorrect_answer:{message:"Your answer is incorrect, try again!",transition:{duration:0},path:i=>i.prevPath}};return y.jsx("div",{className:"App",children:y.jsx("header",{className:"App-header",children:y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"calc(20vh)"},children:y.jsx(ji,{id:"chatbot-id",flow:a,settings:{audio:{disabled:!1},chatInput:{botDelay:1e3},userBubble:{showAvatar:!0},botBubble:{showAvatar:!0},voice:{disabled:!1},sensitiveInput:{asterisksCount:6}}})})})})}const ao="my-react-bot-container";let Ft=document.getElementById(ao);Ft||(Ft=document.createElement("div"),Ft.id=ao,document.body.appendChild(Ft)),Mo.createRoot(Ft).render(y.jsx(Oi,{}))});
