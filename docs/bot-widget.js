(function(S,Ot){typeof exports=="object"&&typeof module<"u"?Ot(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],Ot):(S=typeof globalThis<"u"?globalThis:S||self,Ot(S.React,S.ReactDOM))})(this,function(S,Ot){"use strict";var Er=document.createElement("style");Er.textContent=`.rcb-chat-header-container{padding:12px;color:#fff;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;max-height:55px}.rcb-chat-header{display:flex;flex-direction:row}.rcb-bot-avatar{background-size:cover;width:30px;height:30px;border-radius:50%;margin-right:12px}.rcb-message-prompt-container.visible{position:sticky;bottom:0;margin:auto;display:flex;align-items:center;justify-content:center;opacity:1;animation:rcb-animation-pop-in .3s ease-in-out;pointer-events:auto}.rcb-message-prompt-container.hidden{opacity:0;height:0px;visibility:hidden;pointer-events:none}.rcb-message-prompt-text{padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border:.5px solid #adadad;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999}.rcb-message-prompt-container.hidden .rcb-message-prompt-text{padding:0}.rcb-user-message-container{display:flex;flex-direction:row;justify-content:right}.rcb-user-message{margin-top:8px;padding:12px 16px;border-radius:22px;min-height:20px;height:fit-content;width:fit-content;font-size:15px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:right;margin-right:16px}.rcb-user-message-offset{margin-right:50px}.rcb-user-message-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-message-user-avatar{background-size:cover;width:40px;height:40px;border-radius:50%;margin-top:9px}.rcb-message-user-avatar{margin-left:-10px;margin-right:6px}.rcb-bot-message-container{display:flex;flex-direction:row}.rcb-bot-message{margin-top:8px;padding:12px 16px;border-radius:22px;min-height:20px;height:fit-content;width:fit-content;font-size:15px;overflow-wrap:anywhere;overflow:auto;white-space:pre-wrap;text-align:left;margin-left:16px}.rcb-bot-message-offset{margin-left:50px}.rcb-bot-message-entry{animation:rcb-animation-bot-message-entry .3s ease-in backwards}.rcb-message-bot-avatar{background-size:cover;width:40px;height:40px;border-radius:50%;margin-top:9px}.rcb-message-bot-avatar{margin-left:6px;margin-right:-10px}.rcb-typing-indicator{display:flex;align-items:center}.rcb-dot{width:8px;height:8px;border-radius:50%;background-color:#ccc;margin-right:4px;animation:rcb-animation-bot-typing 1s infinite}.rcb-dot:nth-child(2){animation-delay:.2s}.rcb-dot:nth-child(3){animation-delay:.4s}.rcb-chat-body-container{position:relative;height:100%;width:100%;padding-bottom:16px;overflow-x:hidden;overflow-y:scroll;touch-action:pan-y}.rcb-chat-body-container::-webkit-scrollbar-track{background-color:#f1f1f1}.rcb-chat-body-container::-webkit-scrollbar-thumb{background-color:#ddd;border-radius:4px}.rcb-chat-body-container::-webkit-scrollbar-thumb:hover{background-color:#cfcfcf}.rcb-chat-body-container::-webkit-scrollbar-corner{background-color:#f1f1f1}.rcb-checkbox-container{display:flex;padding-top:12px;margin-left:16px;flex-wrap:wrap;gap:10px}.rcb-checkbox-offset{margin-left:50px!important}.rcb-checkbox-row-container{display:flex;align-items:center;gap:5px;border-width:.5px;border-style:solid;border-radius:10px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out;overflow:hidden}.rcb-checkbox-row-container:hover{box-shadow:0 0 5px #0003}.rcb-checkbox-row{display:inline-flex;margin-left:10px;align-items:center;cursor:pointer}.rcb-checkbox-mark{width:20px;height:20px;background-color:#f2f2f2;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;transition:all .3s ease;margin-right:10px;cursor:pointer}.rcb-checkbox-mark:hover{background-color:#c2c2c2}.rcb-checkbox-mark:before{content:"âœ“";transition:all .3s ease}.rcb-checkbox-label{font-size:14px}.rcb-checkbox-next-button{text-align:center;display:inline-block;align-items:center;border-width:.5px;border-style:solid;border-radius:10px;font-size:24px;min-height:30px;max-height:32px;width:80%;cursor:pointer;background-color:#fff;animation:rcb-animations-checkboxes-entry .5s ease-out}.rcb-checkbox-next-button:before{content:"â†’"}.rcb-checkbox-next-button:hover{box-shadow:0 0 5px #0003}.rcb-options-container{padding-top:12px;margin-left:16px;max-width:70%;display:flex;flex-wrap:wrap;gap:10px}.rcb-options-offset{margin-left:50px!important}.rcb-options{display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:20px;font-size:14px;border-width:.5px;border-style:solid;cursor:pointer;transition:background-color .3s ease;animation:rcb-animation-options-entry .5s ease-out;overflow:hidden}.rcb-options:hover{box-shadow:0 0 5px #0003}.rcb-line-break-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;max-height:45px}.rcb-line-break-text{padding:6px 12px;color:#adadad;font-size:12px}.rcb-spinner-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-spinner{width:22px;height:22px;border-radius:50%;border:4px solid #f3f3f3;animation:rcb-animation-spin 1s linear infinite}.rcb-chat-input{padding:8px 16px;border-top:1px solid #ccc;display:flex;align-items:center;background-color:#fff}.rcb-chat-input::placeholder{color:#999}.rcb-chat-input-textarea{flex:1;padding:8px;border:none;border-radius:4px;outline:none;font-size:16px;resize:none;height:auto;min-height:38px;overflow-y:scroll;font-family:inherit;background-color:#fff;color:#000;touch-action:none}.rcb-chat-input-textarea::-webkit-scrollbar{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb{background-color:transparent}.rcb-chat-input-textarea::-webkit-scrollbar-thumb:hover{background-color:transparent}.rcb-chat-input-char-counter{font-size:14px;margin-left:8px;margin-top:3px}.rcb-chat-footer-container{padding:12px 16px 8px 10px;border-top:1px solid #ccc;max-height:55px;display:flex;justify-content:space-between;align-items:flex-end;font-size:12px;background-color:#f2f2f2;color:#000}.rcb-chat-footer{display:flex;flex-direction:row}.rcb-toggle-button{display:flex;flex-direction:row;position:fixed;bottom:20px;right:20px;z-index:9999;width:75px;height:75px;border-radius:50%;border:none;cursor:pointer;box-shadow:0 2px 4px #0003}.rcb-toggle-button.rcb-button-hide{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}.rcb-toggle-button.rcb-button-show{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-toggle-icon{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;margin:auto;border-radius:inherit}.rcb-badge{position:absolute;top:-6px;right:-6px;border-radius:50%;background-color:red;color:#fff;height:25px;width:25px;display:flex;justify-content:center;align-items:center}.rcb-chat-tooltip{position:fixed;padding:16px;border-radius:20px;box-shadow:0 2px 6px #0003;white-space:nowrap;cursor:pointer;font-size:20px;transition:transform .3s ease;z-index:9999}.rcb-chat-tooltip-tail{content:"";position:absolute;top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-style:solid}.rcb-chat-tooltip.rcb-tooltip-hide{opacity:0;visibility:hidden;animation:rcb-animation-tooltip-out .5s ease-in-out}.rcb-chat-tooltip.rcb-tooltip-show{opacity:1;visibility:visible;animation:rcb-animation-tooltip-in .5s ease-in-out}.rcb-toast-prompt{padding:6px 12px;border-radius:5px;color:#7a7a7a;font-size:12px;text-align:center;background-color:#fff;border:.5px solid #7a7a7a;cursor:pointer;transition:color .3s ease,border-color .3s ease;z-index:9999;width:100%;margin-top:6px;animation:rcb-animation-pop-in .3s ease-in-out}.rcb-toast-prompt-container{position:absolute;left:50%;transform:translate(-50%);bottom:0;margin:auto;display:flex;align-items:center;justify-content:flex-end;flex-direction:column;opacity:1;animation:popIn .3s ease-in-out;pointer-events:auto;margin-top:200}.rcb-media-display-image-container,.rcb-media-display-video-container{margin-top:8px;margin-right:16px;border-radius:22px;padding:16px;width:fit-content}.rcb-media-display-offset{margin-right:50px!important}.rcb-media-display-image{width:100%;height:auto;border-radius:22px;object-fit:cover}.rcb-media-display-video{width:100%;height:auto;border-radius:22px;background-color:#000}.rcb-media-display-audio{margin-top:8px;margin-right:16px;width:100%;height:auto;border-radius:22px}.rcb-media-entry{animation:rcb-animation-user-message-entry .3s ease-in backwards}.rcb-attach-button-enabled,.rcb-attach-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center}.rcb-attach-button-enabled input[type=file],.rcb-attach-button-disabled input[type=file]{position:absolute;width:100%;height:100%;display:none}.rcb-attach-button-enabled{cursor:pointer}.rcb-attach-button-disabled{opacity:.5}.rcb-attach-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-attach-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-attach-icon-enabled,.rcb-attach-icon-disabled{display:inline-block;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat;background-size:cover;transition:background-image .3s ease}.rcb-attach-icon-enabled{cursor:pointer}.rcb-emoji-button-enabled,.rcb-emoji-button-disabled{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border-radius:6px;text-align:center;cursor:pointer}.rcb-emoji-icon-enabled,.rcb-emoji-icon-disabled{position:relative;display:inline-block;background-size:cover;font-size:20px;width:24px;height:24px;margin-top:2px;background-repeat:no-repeat}.rcb-emoji-icon-enabled{cursor:pointer}.rcb-emoji-icon-disabled{opacity:.5}.rcb-emoji-button-enabled:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-emoji-button-enabled:hover:after{width:130%;height:130%;opacity:1}.rcb-emoji-button-popup{position:absolute;width:158px;background-color:#fff;border:1px solid #ccc;border-radius:4px;padding:8px;box-shadow:0 2px 4px #0003;max-height:200px;overflow-y:auto;transform:translateY(calc(-100% - 30px))}.rcb-emoji{cursor:pointer;font-size:24px;padding:3px;transition:transform .2s ease-in-out}.rcb-emoji:hover{transform:scale(1.2)}.rcb-audio-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-audio-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-audio-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-close-chat-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;margin-left:5px;cursor:pointer}.rcb-close-chat-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-close-chat-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-notification-icon{position:relative;display:inline-block;background-size:cover;width:30px;height:30px;border:none;cursor:pointer;margin-left:5px}.rcb-notification-icon:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:0;background-color:#0000001a;border-radius:50%;opacity:0;transition:width .2s ease-out,height .2s ease-out,opacity .2s ease-out}.rcb-notification-icon:hover:after{width:130%;height:130%;opacity:1}.rcb-voice-button-enabled,.rcb-voice-button-disabled{display:inline-flex;align-items:center;justify-content:center;text-transform:uppercase;border-radius:4px;box-shadow:0 0 3px #0000004d;cursor:pointer;height:32px;width:32px;margin-left:8px;transition:all .3s ease;background-color:#fff}.rcb-voice-button-enabled{border:1px solid red;box-shadow:0 0 3px #ff000080}.rcb-voice-button-enabled:hover{border:1px solid rgb(61,0,0)}.rcb-voice-button-disabled{border:1px;border-style:solid;border-color:#0003}.rcb-voice-button-disabled:hover{box-shadow:0 0 3px #8a0000}.rcb-voice-icon{width:60%;height:60%;background-size:cover;object-fit:cover;background-size:contain;background-repeat:no-repeat;background-position:center}.rcb-voice-icon.on{animation:rcb-animation-ping 1s infinite}.rcb-send-button{display:inline-flex;justify-content:center;text-transform:uppercase;border:none;border-radius:4px;box-shadow:0 0 3px #0000004d;cursor:pointer;transition:background-color .3s ease;height:32px;width:51px;margin-left:8px}.rcb-send-icon{width:50%;height:50%;transform:translateY(20%);background-size:cover;object-fit:cover;background-size:contain;background-repeat:no-repeat;background-position:center}.rcb-view-history-container{display:flex;justify-content:center;align-items:center;padding-top:10px;padding-bottom:5px;min-height:35px;max-height:45px}.rcb-view-history-button{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;border-radius:20px;color:#adadad;font-size:12px;background-color:#fff;border-color:#adadad;border-width:.5px;border-style:solid;max-width:60%;cursor:pointer;transition:color .3s ease,border-color .3s ease}.rcb-view-history-button>p{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rcb-chatbot-global{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5;z-index:9999}.rcb-chat-window{position:fixed;right:20px;bottom:20px;border-radius:10px;box-shadow:0 2px 4px #0003;background-color:#fff;transition:all .3s ease;overflow:hidden;display:flex;flex-direction:column;width:375px;height:550px}.rcb-window-embedded .rcb-chat-window{position:relative;opacity:1;visibility:visible;right:auto;bottom:auto}.rcb-window-open .rcb-chat-window{opacity:1;visibility:visible;animation:rcb-animation-expand .3s ease-in-out forwards}.rcb-window-close .rcb-chat-window{opacity:0;visibility:hidden;animation:rcb-animation-collapse .3s ease-in-out forwards}@keyframes rcb-animation-expand{0%{transform:translate(100%,100%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-collapse{0%{transform:translate(0) scale(1);opacity:1}to{transform:translate(100%,100%) scale(0);opacity:0}}@keyframes rcb-animation-ping{0%{filter:brightness(100%);opacity:1}50%{filter:brightness(50%);opacity:.8}}@keyframes rcb-animation-bot-message-entry{0%{transform:translate(-100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-user-message-entry{0%{transform:translate(100%,50%) scale(0);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@keyframes rcb-animation-bot-typing{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes rcb-animation-pop-in{0%{transform:scale(.8);opacity:0}70%{transform:scale(1.1);opacity:1}to{transform:scale(1)}}@keyframes rcb-animations-checkboxes-entry{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes rcb-animation-options-entry{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes rcb-animation-tooltip-in{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@keyframes rcb-animation-tooltip-out{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-5px)}}@keyframes rcb-animation-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
/*$vite$:1*/`,document.head.appendChild(Er);function Ao(n){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const a in n)if(a!=="default"){const i=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}return r.default=n,Object.freeze(r)}const Se=Ao(S);function Ir(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gn={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Bo(){if(Ar)return jt;Ar=1;var n=S,r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(g,h,m){var w,T={},_=null,I=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(I=h.ref);for(w in h)i.call(h,w)&&!p.hasOwnProperty(w)&&(T[w]=h[w]);if(g&&g.defaultProps)for(w in h=g.defaultProps,h)T[w]===void 0&&(T[w]=h[w]);return{$$typeof:r,type:g,key:_,ref:I,props:T,_owner:l.current}}return jt.Fragment=a,jt.jsx=y,jt.jsxs=y,jt}var Br;function _o(){return Br||(Br=1,Gn.exports=Bo()),Gn.exports}var b=_o(),nn={},_r;function Mo(){if(_r)return nn;_r=1;var n=Ot;return nn.createRoot=n.createRoot,nn.hydrateRoot=n.hydrateRoot,nn}var Po=Mo();const Oo=Ir(Po),ke={AUDIO_BUTTON:"audio-button",NOTIFICATION_BUTTON:"notification-button",CLOSE_CHAT_BUTTON:"close-chat-button",SEND_MESSAGE_BUTTON:"send-button",VOICE_MESSAGE_BUTTON:"voice-button",FILE_ATTACHMENT_BUTTON:"file-attachment-button",EMOJI_PICKER_BUTTON:"emoji-button"},jo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2042%2042'%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:4'%20d='M17%209a8%208%200%200%201-8%208%208%208%200%200%201-8-8%208%208%200%200%201%208-8%208%208%200%200%201%208%208Zm0%200'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3cpath%20style='fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:%23b00000;stroke-opacity:1;stroke-miterlimit:10'%20d='M14.66%2014.66%203.34%203.34'%20transform='rotate(.086)%20scale(1.77778)'/%3e%3c/svg%3e",Mr="/assets/bot_avatar-BRAI-dhM.svg",Do="data:image/svg+xml,%3csvg%20width='140'%20height='140'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cy='60.044'%20cx='70'%20fill='%235c5c5c'%20r='29'/%3e%3cpath%20d='m16.36%20156.186-.01-30.5c-.005-16.844%2024.168-30.507%2053.991-30.516%2029.823-.009%2054.004%2013.64%2054.01%2030.484l.008%2030.5-108%20.032z'%20fill='%235c5c5c'/%3e%3c/svg%3e",No=(n,r)=>Se.createElement("svg",{viewBox:"0 0 637 637",ref:r,...n},Se.createElement("path",{d:"m478 113-13 2-4 1h4l14-2c10-2 35-2 42-1l6 3 3 1c3 0-4-3-8-5-7-1-34-1-44 1m56 6 8 6c7 5 20 17 20 19s7 12 8 12l-3-6-4-6c0-3-15-17-25-24-5-3-8-4-4-1m-198 16-9 1a512 512 0 0 1 9-1m-180 30a412 412 0 0 0-23 4 167 167 0 0 0-32 8 439 439 0 0 1 46-9 304 304 0 0 1 11-2l6-1h-8m369 8 4 3-7-6c-1 0 0 2 3 3m-439 9c-7 3-18 13-18 15l6-5c5-5 9-8 14-10l6-4-8 4m442 12-10 11-7 6 7-6c7-5 14-14 13-16l-3 5M65 205l-1 11c0 9 0 10 4 17 5 10 7 12 22 11 10 0 15 0 38-5l5-1-6 1-16 2-21 2c-13 1-16-1-21-10-3-5-4-6-4-15l1-12c1-4 1-5-1-1m335 1c3 0 3 1 3 3l-2 6c-2 5-35 39-76 80-53 51-120 117-138 137-21 24-22 25-22 27 0 3 6 9 9 9 4 0 14-8 38-27a5073 5073 0 0 1 15-16 1421 1421 0 0 0-17 15l-31 25-6 2-4-3c-3-3-3-4-2-6 3-8 79-85 160-163 57-57 79-80 79-86 0-2-3-4-7-4-2 0-2 0 1 1m165 18c-9 17-25 32-57 53l-10 8 16-11 12-8c15-10 27-22 39-39 5-7 6-8 4-8l-4 5m-221 2a199 199 0 0 0-19 10 183 183 0 0 1 27-12c0-1-1-1-8 2m-34 16c-3 3-2 3 2 0l1-2-3 2m151 3-1 2 2-2c3-3 2-3-1 0m-16 12-11 10a281 281 0 0 0 11-10m-24 18-7 5-7 5-42 31c-10 7-24 19-22 19l7-6 16-12a343 343 0 0 0 35-25 573 573 0 0 0 20-17m-187 0-2 2 4-2 3-2-5 2m-14 6-3 2 4-1 4-3-5 2m-7 3-8 4-18 8 18-7 7-3 3-1c1-2 0-2-2-1m254 24a2672 2672 0 0 1-71 54 601 601 0 0 0 39-29 1352 1352 0 0 1 32-25m-291-8-2 2 4-2 3-2-5 2m-13 5-2 2h3c5-3 4-4-1-2m-19 9-7 3-13 6c-10 5-13 7-14 10-3 4-2 5 1 0 2-3 5-5 14-9l13-6 12-6-6 2m178 36c-17 12-21 16-21 17a390 390 0 0 1 20-17m-206 34 1 4 1 3 1 5 2 8 1 5v-6l-1-8-2-5-1-4-1-2c-1-2-1-2-1 0m222 23-9 7a683 683 0 0 0-56 44 261 261 0 0 0-26 20 1345 1345 0 0 0-46 34c-6 3-7 3-19 3-11 0-12 0-18-3-8-4-10-8-17-20l-5-10 4 10c5 10 12 18 19 22 4 2 6 2 17 2 13 0 14 0 21-3l26-19 42-33a2183 2183 0 0 0 43-34 643 643 0 0 1 24-20",fill:"#fff",fillRule:"evenodd"}),Se.createElement("path",{d:"M478 114a620 620 0 0 1-39 6l-21 3a5481 5481 0 0 0-19 3 870 870 0 0 1-54 8l-1 1-6 1-12 2-13 2a992 992 0 0 0-76 12 400 400 0 0 1-45 8l-6 1-5 1h-3l-3 1-2 1-26 4-13 2-17 3c-23 5-33 9-43 19-7 8-9 13-9 27 0 8 1 9 4 14 5 9 8 11 21 10l21-2a1133 1133 0 0 1 23-4 659 659 0 0 0 74-14l3-1h3l3-1h3l2-1 2-1h3l2-1h2l24-5 38-7a2100 2100 0 0 1 93-18l3-1 10-1a2082 2082 0 0 1 120-17l2 1c2 0 8 5 8 7l1 2 1 6c0 4 0 6-3 10-2 4-16 16-18 16l-7 5-10 8a1070 1070 0 0 0-11 7 113 113 0 0 1-20 14l-2 2-3 2-2 2h-1a154 154 0 0 1-28 21l-5 4-5 4a573 573 0 0 1-50 37 175 175 0 0 0-24 18l-1 2-2 1-2 1-2 1-1 1-12 10a396 396 0 0 0-32 25l-8 6-6 5-9 7a326 326 0 0 1-25 20l-13 12a5073 5073 0 0 0-17 15c-24 20-34 27-39 27-2 0-8-6-8-9 0-2 1-3 22-27 18-20 85-86 138-137 41-41 74-75 76-80l2-6c0-2 0-3-2-3l-7 1a233 233 0 0 1-26 9l-1 1-1 1h-1l-1 1h-2l-3 2-1 1h-2l-3 2h-1l-5 2-22 10-9 4-4 2-5 2-10 4-2 1-2 1-2 1-13 6a334 334 0 0 1-38 17 75 75 0 0 0-14 6l-5 2-4 1-2 1-3 2-7 3-16 6a247 247 0 0 0-32 14l-1 1h-2l-1 1h-2l-1 1-12 6a103 103 0 0 0-27 15l-2 5-1 1v11l1 5 1 5 1 4c0 3 0 4 2 4v3l1 3 1 2 2 10 1 4 1 5 2 10 2 8 1 4 1 4c3 3 9 25 11 38l1 7v2l1 4v1l1 1v2l1 2 1 3v1l5 10c7 13 9 16 17 20 6 3 7 3 18 3 12 0 13 0 19-3 8-4 11-6 26-18a1345 1345 0 0 1 85-67 683 683 0 0 1 50-39l12-9a513 513 0 0 1 44-33 201 201 0 0 0 22-17 2270 2270 0 0 0 73-54 158 158 0 0 0 58-59c2 0 3-9 4-27l-1-19-1-4-1-6-1-3-4-6-4-6c0-2-6-8-13-14a77 77 0 0 0-28-18c-6-1-34-1-43 1"})),Pr=S.forwardRef(No),Fo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M765-321q0 117-84 196-83 80-200 80-118 0-200-80t-83-196v-392q0-85 61-144 61-58 146-58 86 0 147 58 61 59 61 144v374q0 54-39 92-39 37-93 37-55 0-93-37-38-38-38-92v-372h110v372q0 9 6 14t15 5q8 0 15-5t7-14v-374q0-39-29-66t-68-27q-40 0-69 27t-29 66v392q0 71 51 119t122 48q71 0 122-48t51-119v-426h111v426Z"})),Or=S.forwardRef(Fo),Ro=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M125-165v-113h77v-273q0-93 55-167 56-75 146-100v-19q0-32 22-55 23-23 55-23t55 23q22 23 22 55v19q90 25 146 99 56 73 56 168v273h77v113H125ZM480-32q-38 0-66-27-27-27-27-66h186q0 39-27 66t-66 27Z"})),Lo=S.forwardRef(Ro),Ho=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M137-190v-113h78v-253q0-41 11-79 11-39 35-71l-9 150h10L17-802l74-74L873-92l-74 74-175-172H137Zm609-149L319-769q20-15 41-25t44-16v-28q0-32 22-54t54-22q32 0 55 22t22 54v28q85 23 137 94t52 160v217ZM481-47q-38 0-65-27t-27-65h184q0 38-27 65t-65 27Z"})),Uo=S.forwardRef(Ho),$o=(n,r)=>Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",ref:r,...n},Se.createElement("g",{strokeLinecap:"round",strokeWidth:10},Se.createElement("path",{d:"m19 19 61 61M80 19 19 80"}))),Vo=S.forwardRef($o),zo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M94-136v-255l351-93-351-92v-253l816 346L94-136Z"})),Wo=S.forwardRef(zo),qo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M480-372q-61 0-105-43-43-43-43-105v-240q0-61 43-105 43-43 105-43 61 0 105 43 43 44 43 105v240q0 62-43 105t-105 43ZM425-76v-122q-121-16-197-108t-76-214h109q0 91 64 154t155 63q91 0 155-63t64-154h109q0 122-77 214T534-198v122H425Z"})),Go=S.forwardRef(qo),Zo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"m763-343-80-79q8-20 13-44 5-23 5-54h109q0 49-11 95t-36 82ZM625-482 336-770v-2q3-56 45-96t101-40q62 0 105 43t43 105v249l-1 17q-1 7-4 12ZM427-76v-122q-120-16-196-108-77-92-77-214h109q0 91 64 154t155 63q43 0 80-14 37-15 67-41l78 79q-35 32-78 53t-93 28v122H427Zm362 27L41-796l75-75 748 748-75 74Z"})),Ko=S.forwardRef(Zo),Jo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M625-511q29 0 50-21t20-50q0-29-20-50-21-20-50-20t-50 20-20 50q0 29 20 50 21 21 50 21Zm-290 0q29 0 50-21t20-49q0-30-20-50t-50-21q-29 0-50 20-20 21-20 50 0 30 20 50 21 21 50 21Zm145 268q75 0 137-43t85-115H258q24 72 85 115 62 43 137 43Zm0 198q-90 0-170-34-79-34-138-93T79-310q-34-80-34-170t34-170q34-79 93-138t138-93q80-34 170-34t170 34q79 34 138 93t93 138q34 80 34 170t-34 170q-34 79-93 138T650-79q-80 34-170 34Zm0-435Zm0 322q134 0 228-94t94-228q0-134-94-228t-228-94q-134 0-228 94t-94 228q0 134 94 228t228 94Z"})),jr=S.forwardRef(Jo),Yo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M553-64v-108q107-27 173-113 67-87 67-197 0-109-67-195T553-789v-108q152 26 249 144 97 117 97 271 0 155-97 273T553-64ZM61-335v-290h176l236-237v764L237-335H61Zm492 28v-346q51 23 82 70t31 103-31 103q-31 47-82 70Z"})),Xo=S.forwardRef(Yo),Qo=(n,r)=>Se.createElement("svg",{viewBox:"0 -960 960 960",ref:r,...n},Se.createElement("path",{d:"M807-15 700-123q-33 21-71 37-38 15-80 22v-108q20-4 38-12l35-17-153-154v257L234-335H57v-290h144L10-818l74-75L882-90l-75 75Zm37-264-80-79q13-30 19-60 7-31 7-64 0-109-68-195-67-86-173-112v-108q152 26 249 144 98 117 98 271 0 55-14 107-13 51-38 96ZM661-462 549-575v-78q51 23 83 70 31 47 31 103l-1 9-1 9ZM469-655 366-759l103-103v207Z"})),es=S.forwardRef(Qo),Dr={general:{primaryColor:"#1e2848",secondaryColor:"#20818c",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",showHeader:!0,showFooter:!0,showInputRow:!0,actionDisabledIcon:jo,embedded:!1,flowStartTrigger:"ON_LOAD"},tooltip:{mode:"CLOSE",text:"Need Help! ðŸ˜Š"},chatButton:{icon:Pr},header:{title:b.jsx("div",{style:{cursor:"pointer",margin:0,fontSize:20,fontWeight:"bold"},children:"Jarvis"}),showAvatar:!0,avatar:Mr,buttons:[ke.CLOSE_CHAT_BUTTON],closeChatIcon:Vo},notification:{disabled:!1,defaultToggledOn:!0,volume:.2,icon:Lo,iconDisabled:Uo,sound:"/assets/notification_sound-CIeaSZag.wav",showCount:!0},audio:{disabled:!0,defaultToggledOn:!1,language:"en-US",voiceNames:["Microsoft David - English (United States)","Alex (English - United States)"],rate:1,volume:1,icon:Xo,iconDisabled:es},chatHistory:{disabled:!1,maxEntries:30,storageKey:"rcb-history",storageType:"LOCAL_STORAGE",viewChatHistoryButtonText:"Load Chat History âŸ³",chatHistoryLineBreakText:"----- Previous Chat History -----",autoLoad:!1},chatInput:{disabled:!1,allowNewline:!1,enabledPlaceholderText:"Type your message...",disabledPlaceholderText:"",showCharacterCount:!1,characterLimit:-1,botDelay:1e3,sendButtonIcon:Wo,blockSpam:!0,sendOptionOutput:!0,sendCheckboxOutput:!0,buttons:[ke.VOICE_MESSAGE_BUTTON,ke.SEND_MESSAGE_BUTTON]},chatWindow:{showScrollbar:!1,showTypingIndicator:!0,autoJumpToBottom:!1,showMessagePrompt:!0,messagePromptText:"New Messages â†“",messagePromptOffset:30,defaultOpen:!1},sensitiveInput:{maskInTextArea:!0,maskInUserBubble:!0,asterisksCount:10,hideInUserBubble:!1},userBubble:{animate:!0,showAvatar:!1,avatar:Do,simulateStream:!1,streamSpeed:30},botBubble:{animate:!0,showAvatar:!1,avatar:Mr,simulateStream:!1,streamSpeed:30},voice:{disabled:!0,defaultToggledOn:!1,language:"en-US",timeoutPeriod:1e4,autoSendDisabled:!1,autoSendPeriod:1e3,sendAsAudio:!1,icon:Go,iconDisabled:Ko},footer:{text:b.jsxs("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",columnGap:3},onClick:()=>window.open("https://react-chatbotify.com"),children:[b.jsx("span",{children:"Powered By "},0),b.jsx("div",{style:{borderRadius:"50%",width:14,height:14,display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right, #42b0c5, #491d8d)"},children:b.jsx(Pr,{style:{width:"80%",height:"80%",fill:"#fff"}})},1),b.jsx("span",{style:{fontWeight:"bold"},children:"Epico"},2)]}),buttons:[ke.FILE_ATTACHMENT_BUTTON,ke.EMOJI_PICKER_BUTTON]},fileAttachment:{disabled:!1,multiple:!0,accept:".png",icon:Or,iconDisabled:Or,sendFileName:!0,showMediaDisplay:!1},emoji:{disabled:!1,icon:jr,iconDisabled:jr,list:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜…","ðŸ˜Š","ðŸ˜Œ","ðŸ˜‡","ðŸ™ƒ","ðŸ¤£","ðŸ˜","ðŸ¥°","ðŸ¥³","ðŸŽ‰","ðŸŽˆ","ðŸš€","â­ï¸"]},toast:{maxCount:3,forbidOnMax:!1,dismissOnClick:!0},event:{rcbPreInjectMessage:!1,rcbPostInjectMessage:!1,rcbStartSimulateStreamMessage:!1,rcbStopSimulateStreamMessage:!1,rcbStartStreamMessage:!1,rcbChunkStreamMessage:!1,rcbStopStreamMessage:!1,rcbRemoveMessage:!1,rcbLoadChatHistory:!1,rcbToggleChatWindow:!1,rcbStartSpeakAudio:!1,rcbToggleAudio:!1,rcbToggleNotifications:!1,rcbToggleVoice:!1,rcbChangePath:!1,rcbShowToast:!1,rcbDismissToast:!1,rcbUserSubmitText:!1,rcbUserUploadFile:!1,rcbTextAreaChangeValue:!1,rcbPreLoadChatBot:!1,rcbPostLoadChatBot:!1,rcbPreProcessBlock:!1,rcbPostProcessBlock:!1},ariaLabel:{chatButton:"open chat",audioButton:"toggle audio",closeChatButton:"close chat",emojiButton:"emoji picker",fileAttachmentButton:"upload file",notificationButton:"toggle notifications",sendButton:"send message",voiceButton:"toggle voice",inputTextArea:"input text area"},device:{desktopEnabled:!0,mobileEnabled:!0,applyMobileOptimizations:!0}},Nr=S.createContext({settings:{},setSettings:()=>null}),ae=()=>S.useContext(Nr),ts=({children:n,settings:r=Dr,setSettings:a})=>b.jsx(Nr.Provider,{value:{settings:r,setSettings:a},children:n}),Fr={tooltipStyle:{},notificationBadgeStyle:{},chatWindowStyle:{},headerStyle:{},bodyStyle:{},chatInputContainerStyle:{},chatInputAreaStyle:{},chatInputAreaFocusedStyle:{},chatInputAreaDisabledStyle:{},userBubbleStyle:{},botBubbleStyle:{},botOptionStyle:{},botOptionHoveredStyle:{},botCheckboxRowStyle:{},botCheckboxNextStyle:{},botCheckMarkStyle:{},botCheckMarkSelectedStyle:{},characterLimitStyle:{},characterLimitReachedStyle:{},chatHistoryLineBreakStyle:{},chatMessagePromptStyle:{},chatMessagePromptHoveredStyle:{},footerStyle:{},loadingSpinnerStyle:{},mediaDisplayContainerStyle:{},chatButtonStyle:{},chatHistoryButtonStyle:{},chatHistoryButtonHoveredStyle:{},sendButtonStyle:{},sendButtonHoveredStyle:{},sendButtonDisabledStyle:{},audioButtonStyle:{},audioButtonDisabledStyle:{},closeChatButtonStyle:{},emojiButtonStyle:{},emojiButtonDisabledStyle:{},fileAttachmentButtonStyle:{},fileAttachmentButtonDisabledStyle:{},notificationButtonStyle:{},notificationButtonDisabledStyle:{},voiceButtonStyle:{},voiceButtonDisabledStyle:{},chatIconStyle:{},audioIconStyle:{},audioIconDisabledStyle:{},closeChatIconStyle:{},emojiIconStyle:{},emojiIconDisabledStyle:{},fileAttachmentIconStyle:{},fileAttachmentIconDisabledStyle:{},notificationIconStyle:{},notificationIconDisabledStyle:{},voiceIconStyle:{},voiceIconDisabledStyle:{},sendIconStyle:{},sendIconDisabledStyle:{},sendIconHoveredStyle:{},rcbTypingIndicatorContainerStyle:{},rcbTypingIndicatorDotStyle:{},toastPromptContainerStyle:{},toastPromptStyle:{},toastPromptHoveredStyle:{}},Rr=S.createContext({styles:{},setStyles:()=>null}),he=()=>S.useContext(Rr),ns=({children:n,styles:r=Fr,setStyles:a})=>b.jsx(Rr.Provider,{value:{styles:r,setStyles:a},children:n}),rs=({buttons:n})=>{var l,p,y,g,h;const{settings:r}=ae(),{styles:a}=he(),i={backgroundImage:`linear-gradient(to right, ${(l=r.general)==null?void 0:l.secondaryColor},
			${(p=r.general)==null?void 0:p.primaryColor})`,...a.headerStyle};return b.jsxs("div",{style:i,className:"rcb-chat-header-container",children:[b.jsxs("div",{className:"rcb-chat-header",children:[((y=r.header)==null?void 0:y.showAvatar)&&b.jsx("div",{style:{backgroundImage:`url("${(g=r.header)==null?void 0:g.avatar}")`},className:"rcb-bot-avatar"}),(h=r.header)==null?void 0:h.title]}),b.jsx("div",{className:"rcb-chat-header",children:n==null?void 0:n.map((m,w)=>b.jsx(S.Fragment,{children:m},w))})]})},Lr=S.createContext({}),Ee=()=>S.useContext(Lr),os=({children:n,botIdRef:r,flowRef:a})=>{const i=S.useRef(null),l=S.useRef(""),p=S.useRef(null),y=S.useRef(new Map),g=S.useRef(null),h=S.useRef(""),m=S.useRef(!1),w=S.useRef(null),T=S.useRef(null),_=S.useRef(null);return b.jsx(Lr.Provider,{value:{botIdRef:r,flowRef:a,inputRef:i,timeoutIdRef:p,streamMessageMap:y,chatBodyRef:g,paramsInputRef:h,keepVoiceOnRef:m,audioContextRef:w,audioBufferRef:T,gainNodeRef:_,prevInputRef:l},children:n})},Fe=n=>{const[r,a]=S.useState(n),i=S.useRef(n);return[r,p=>{const y=typeof p=="function"?p(i.current):p;i.current=y,a(y)},i]},Hr=S.createContext({}),Ie=()=>S.useContext(Hr),ss=({children:n,settings:r})=>{var Ce,we,De,_e,nt,Te;const[a,i,l]=Fe(!1),[p,y,g]=Fe(((Ce=r==null?void 0:r.chatWindow)==null?void 0:Ce.defaultOpen)??!1),[h,m,w]=Fe(((we=r==null?void 0:r.audio)==null?void 0:we.defaultToggledOn)??!1),[T,_,I]=Fe(((De=r==null?void 0:r.voice)==null?void 0:De.defaultToggledOn)??!1),[E,O,P]=Fe(((_e=r==null?void 0:r.notification)==null?void 0:_e.defaultToggledOn)??!0),[R,F]=S.useState(!1),[L,V]=S.useState(!1),[$,M,j]=Fe(!1),[Z,z,W]=Fe(!0),[D,H,q]=Fe(!1),[G,K]=S.useState(!1),[ce,oe]=S.useState(!1),[fe,le]=S.useState(0),[ue,te]=S.useState(0),[pe,ne]=S.useState(!1),[ee,de]=S.useState(((nt=window.visualViewport)==null?void 0:nt.height)??window.innerHeight),[xe,ye]=S.useState(((Te=window.visualViewport)==null?void 0:Te.width)??window.innerWidth);return b.jsx(Hr.Provider,{value:{isBotTyping:a,setSyncedIsBotTyping:i,syncedIsBotTypingRef:l,isChatWindowOpen:p,setSyncedIsChatWindowOpen:y,syncedIsChatWindowOpenRef:g,audioToggledOn:h,setSyncedAudioToggledOn:m,syncedAudioToggledOnRef:w,voiceToggledOn:T,setSyncedVoiceToggledOn:_,syncedVoiceToggledOnRef:I,notificationsToggledOn:E,setSyncedNotificationsToggledOn:O,syncedNotificationsToggledOnRef:P,isLoadingChatHistory:R,setIsLoadingChatHistory:F,hasChatHistoryLoaded:L,setHasChatHistoryLoaded:V,isScrolling:$,setSyncedIsScrolling:M,syncedIsScrollingRef:j,textAreaDisabled:Z,setSyncedTextAreaDisabled:z,syncedTextAreaDisabledRef:W,textAreaSensitiveMode:D,setSyncedTextAreaSensitiveMode:H,syncedTextAreaSensitiveModeRef:q,hasInteractedPage:G,setHasInteractedPage:K,hasFlowStarted:ce,setHasFlowStarted:oe,unreadCount:fe,setUnreadCount:le,inputLength:ue,setInputLength:te,blockAllowsAttachment:pe,setBlockAllowsAttachment:ne,viewportHeight:ee,setViewportHeight:de,viewportWidth:xe,setViewportWidth:ye},children:n})};var J=(n=>(n.START_SPEAK_AUDIO="rcb-start-speak-audio",n.TOGGLE_AUDIO="rcb-toggle-audio",n.TOGGLE_NOTIFICATIONS="rcb-toggle-notifications",n.TOGGLE_VOICE="rcb-toggle-voice",n.TOGGLE_CHAT_WINDOW="rcb-toggle-chat-window",n.PRE_INJECT_MESSAGE="rcb-pre-inject-message",n.POST_INJECT_MESSAGE="rcb-post-inject-message",n.START_SIMULATE_STREAM_MESSAGE="rcb-start-simulate-stream-message",n.STOP_SIMULATE_STREAM_MESSAGE="rcb-stop-simulate-stream-message",n.START_STREAM_MESSAGE="rcb-start-stream-message",n.CHUNK_STREAM_MESSAGE="rcb-chunk-stream-message",n.STOP_STREAM_MESSAGE="rcb-stop-stream-message",n.REMOVE_MESSAGE="rcb-remove-message",n.LOAD_CHAT_HISTORY="rcb-load-chat-history",n.CHANGE_PATH="rcb-change-path",n.SHOW_TOAST="rcb-show-toast",n.DISMISS_TOAST="rcb-dismiss-toast",n.USER_SUBMIT_TEXT="rcb-user-submit-text",n.USER_UPLOAD_FILE="rcb-user-upload-file",n.TEXT_AREA_CHANGE_VALUE="rcb-text-area-change-value",n.PRE_LOAD_CHATBOT="rcb-pre-load-chatbot",n.POST_LOAD_CHATBOT="rcb-post-load-chatbot",n.PRE_PROCESS_BLOCK="rcb-pre-process-block",n.POST_PROCESS_BLOCK="rcb-post-process-block",n))(J||{});const as={[J.START_SPEAK_AUDIO]:!0,[J.TOGGLE_AUDIO]:!0,[J.TOGGLE_VOICE]:!0,[J.TOGGLE_NOTIFICATIONS]:!0,[J.TOGGLE_CHAT_WINDOW]:!0,[J.PRE_INJECT_MESSAGE]:!0,[J.POST_INJECT_MESSAGE]:!1,[J.PRE_LOAD_CHATBOT]:!0,[J.POST_LOAD_CHATBOT]:!1,[J.START_SIMULATE_STREAM_MESSAGE]:!0,[J.STOP_SIMULATE_STREAM_MESSAGE]:!1,[J.START_STREAM_MESSAGE]:!0,[J.CHUNK_STREAM_MESSAGE]:!0,[J.STOP_STREAM_MESSAGE]:!0,[J.REMOVE_MESSAGE]:!0,[J.LOAD_CHAT_HISTORY]:!0,[J.CHANGE_PATH]:!0,[J.SHOW_TOAST]:!0,[J.DISMISS_TOAST]:!0,[J.USER_SUBMIT_TEXT]:!0,[J.USER_UPLOAD_FILE]:!0,[J.TEXT_AREA_CHANGE_VALUE]:!0,[J.PRE_PROCESS_BLOCK]:!0,[J.POST_PROCESS_BLOCK]:!0},Zn=async(n,r,a)=>{const i=new CustomEvent(n,{detail:r,cancelable:as[n]});return i.data=a,i.promises=[],window.dispatchEvent(i),await Promise.all(i.promises),i},Ur=S.createContext({paths:[],setSyncedPaths:()=>{},syncedPathsRef:{current:[]}}),Dt=()=>S.useContext(Ur),is=({children:n})=>{const[r,a,i]=Fe([]);return b.jsx(Ur.Provider,{value:{paths:r,setSyncedPaths:a,syncedPathsRef:i},children:n})},Re=()=>{const{botIdRef:n}=Ee(),{syncedPathsRef:r}=Dt(),a=S.useCallback(()=>r.current.length>0?r.current.at(-1)??null:null,[]),i=S.useCallback(()=>r.current.length>1?r.current.at(-2)??null:null,[]);return{dispatchRcbEvent:S.useCallback(async(p,y)=>{const g={botId:n.current,currPath:a(),prevPath:i()};return await Zn(p,g,y)},[n])}},je=()=>{const{settings:n}=ae(),{isChatWindowOpen:r,setSyncedIsChatWindowOpen:a,viewportHeight:i,setViewportHeight:l,viewportWidth:p,setViewportWidth:y,setUnreadCount:g,setSyncedIsBotTyping:h,setSyncedIsScrolling:m,syncedIsBotTypingRef:w,syncedIsChatWindowOpenRef:T}=Ie(),{chatBodyRef:_}=Ee(),{dispatchRcbEvent:I}=Re(),E=S.useCallback(()=>{if(!_.current)return!1;const L=_.current.getBoundingClientRect(),V=window.innerHeight??document.documentElement.clientHeight,$=window.innerWidth??document.documentElement.clientWidth;return L.top>=0&&L.left>=0&&L.bottom<=V&&L.right<=$},[_]),O=S.useCallback(async L=>{var V;L!==T.current&&((V=n.event)!=null&&V.rcbToggleChatWindow&&(await I(J.TOGGLE_CHAT_WINDOW,{currState:T.current,newState:!T.current})).defaultPrevented||a($=>($||g(0),!$)))},[T]),P=S.useCallback(async L=>{L!==w.current&&h(V=>!V)},[w]),R=S.useCallback((L,V,$,M)=>(L/=M/2,L<1?$/2*L*L+V:(L--,-$/2*(L*(L-2)-1)+V)),[]),F=S.useCallback((L=0)=>{if(!_.current)return;const V=_.current.scrollHeight-_.current.clientHeight;if(L<=0){_.current.scrollTop=V,m(!1);return}const $=_.current.scrollTop,M=V-$,j=20;let Z=0;const z=()=>{if(!_.current)return;Z+=j;const W=R(Z,$,M,L);_.current.scrollTop=W,Z<L?requestAnimationFrame(z):m(!1)};z()},[_]);return{isChatWindowOpen:r,setSyncedIsChatWindowOpen:a,toggleChatWindow:O,viewportHeight:i,setViewportHeight:l,viewportWidth:p,setViewportWidth:y,toggleIsBotTyping:P,scrollToBottom:F,getIsChatBotVisible:E}},ls=()=>{var _,I,E;const{settings:n}=ae(),{styles:r}=he(),{unreadCount:a,isScrolling:i}=Ie(),{chatBodyRef:l}=Ee(),{scrollToBottom:p}=je(),[y,g]=S.useState(!1),h={color:(_=n.general)==null?void 0:_.primaryColor,borderColor:(I=n.general)==null?void 0:I.primaryColor,...r.chatMessagePromptHoveredStyle},m=()=>{g(!0)},w=()=>{g(!1)},T=()=>{var P;return l.current&&((P=n.chatWindow)==null?void 0:P.showMessagePrompt)&&i&&a>0?"visible":"hidden"};return b.jsx("div",{className:`rcb-message-prompt-container ${T()}`,children:b.jsx("div",{onMouseEnter:m,onMouseLeave:w,style:y?h:{...r.chatMessagePromptStyle},onMouseDown:O=>{O.preventDefault(),p(600)},className:"rcb-message-prompt-text",children:(E=n.chatWindow)==null?void 0:E.messagePromptText})})},$r=S.createContext({messages:[],setSyncedMessages:()=>{},syncedMessagesRef:{current:[]}}),Kn=()=>S.useContext($r),cs=({children:n})=>{const[r,a,i]=Fe([]);return b.jsx($r.Provider,{value:{messages:r,setSyncedMessages:a,syncedMessagesRef:i},children:n})},us=({message:n,isNewSender:r})=>{var T,_,I,E,O,P;const{settings:a}=ae(),{styles:i}=he(),l=typeof n.content=="string",p=n.content,y=n.contentWrapper?b.jsx(n.contentWrapper,{children:p}):p,g={backgroundColor:(T=a.general)==null?void 0:T.primaryColor,color:"#fff",maxWidth:(_=a.userBubble)!=null&&_.showAvatar?"65%":"70%",...i.userBubbleStyle},h=(I=a.userBubble)!=null&&I.animate?"rcb-user-message-entry":"",m=((E=a.userBubble)==null?void 0:E.showAvatar)&&r,w=`rcb-user-message${!r&&((O=a.userBubble)!=null&&O.showAvatar)?" rcb-user-message-offset":""}`;return b.jsxs("div",{className:"rcb-user-message-container",children:[l?b.jsx("div",{style:g,className:`${w} ${h}`,children:y}):b.jsx(b.Fragment,{children:y}),m&&b.jsx("div",{style:{backgroundImage:`url("${(P=a.userBubble)==null?void 0:P.avatar}")`},className:"rcb-message-user-avatar"})]})},ds=({message:n,isNewSender:r})=>{var T,_,I,E,O,P;const{settings:a}=ae(),{styles:i}=he(),l=typeof n.content=="string",p=n.content,y=n.contentWrapper?b.jsx(n.contentWrapper,{children:p}):p,g={backgroundColor:(T=a.general)==null?void 0:T.secondaryColor,color:"#fff",maxWidth:(_=a.botBubble)!=null&&_.showAvatar?"65%":"70%",...i.botBubbleStyle},h=(I=a.botBubble)!=null&&I.animate?"rcb-bot-message-entry":"",m=((E=a.botBubble)==null?void 0:E.showAvatar)&&r,w=`rcb-bot-message${!r&&((O=a.botBubble)!=null&&O.showAvatar)?" rcb-bot-message-offset":""}`;return b.jsxs("div",{className:"rcb-bot-message-container",children:[m&&b.jsx("div",{style:{backgroundImage:`url("${(P=a.botBubble)==null?void 0:P.avatar}")`},className:"rcb-message-bot-avatar"}),l?b.jsx("div",{style:g,className:`${w} ${h}`,children:y}):b.jsx(b.Fragment,{children:y})]})},fs=()=>{var i,l,p;const{settings:n}=ae(),{styles:r}=he(),a=(i=n.botBubble)!=null&&i.animate?"rcb-bot-message-entry":"";return b.jsxs("div",{className:"rcb-bot-message-container",children:[((l=n.botBubble)==null?void 0:l.showAvatar)&&b.jsx("div",{style:{backgroundImage:`url("${(p=n.botBubble)==null?void 0:p.avatar}")`},className:"rcb-message-bot-avatar"}),b.jsx("div",{onMouseDown:y=>{y.preventDefault()},className:`rcb-bot-message ${a}`,children:b.jsxs("div",{className:"rcb-typing-indicator",style:{...r==null?void 0:r.rcbTypingIndicatorContainerStyle},children:[b.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}}),b.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}}),b.jsx("span",{className:"rcb-dot",style:{...r==null?void 0:r.rcbTypingIndicatorDotStyle}})]})})]})},ps=()=>{var m,w,T;const{settings:n}=ae(),{styles:r}=he(),{messages:a}=Kn(),{scrollToBottom:i}=je(),{isBotTyping:l,syncedIsScrollingRef:p}=Ie(),{chatBodyRef:y}=Ee(),g={...r==null?void 0:r.bodyStyle,scrollbarWidth:(m=n.chatWindow)!=null&&m.showScrollbar?"auto":"none"};S.useEffect(()=>{p.current||i()},[(w=y.current)==null?void 0:w.scrollHeight]);const h=_=>_===0?!0:a[_].sender!==a[_-1].sender;return b.jsxs("div",{style:g,className:"rcb-chat-body-container",ref:y,children:[a.map((_,I)=>{const E=h(I);return _.sender.toUpperCase()==="USER"?b.jsx(us,{message:_,isNewSender:E},I):_.sender.toUpperCase()==="BOT"?b.jsx(ds,{message:_,isNewSender:E},I):b.jsx("div",{children:_.content},I)}),l&&((T=n.chatWindow)==null?void 0:T.showTypingIndicator)&&b.jsx(fs,{}),b.jsx(ls,{})]})},hs=({checkboxes:n,checkedItems:r,path:a})=>{var P,R,F,L,V,$,M,j,Z,z,W;const{settings:i}=ae(),{styles:l}=he(),{paths:p}=Dt(),{handleSubmitText:y}=St(),[g,h]=S.useState(new Set),[m,w]=S.useState(!1),T={cursor:m?`url("${(P=i.general)==null?void 0:P.actionDisabledIcon}"), auto`:"pointer",color:(R=i.general)==null?void 0:R.primaryColor,borderColor:(F=i.general)==null?void 0:F.primaryColor,...l.botCheckboxRowStyle},_={cursor:m||g.size<n.min?`url("${(L=i.general)==null?void 0:L.actionDisabledIcon}"), auto`:"pointer",color:(V=i.general)==null?void 0:V.primaryColor,borderColor:($=i.general)==null?void 0:$.primaryColor,...l.botCheckboxNextStyle},I={cursor:m?`url("${(M=i.general)==null?void 0:M.actionDisabledIcon}"), auto`:"pointer",color:"transparent",...l.botCheckMarkStyle},E={cursor:m?`url("${(j=i.general)==null?void 0:j.actionDisabledIcon}"), auto`:"pointer",color:"#fff",borderColor:(Z=i.general)==null?void 0:Z.primaryColor,backgroundColor:(z=i.general)==null?void 0:z.primaryColor,...l.botCheckMarkSelectedStyle};S.useEffect(()=>{p.length>0&&p[p.length-1]!==a&&w(!n.reusable)},[p]);const O=D=>{m||h(H=>{const q=new Set(H);if(q.has(D))r.delete(D),q.delete(D);else{if(g.size==n.max)return H;r.add(D),q.add(D)}return q})};return b.jsxs("div",{className:`rcb-checkbox-container ${(W=i.botBubble)!=null&&W.showAvatar?"rcb-checkbox-offset":""}`,children:[n.items.map(D=>b.jsx("div",{onMouseDown:H=>{H.preventDefault(),O(D)},style:T,className:"rcb-checkbox-row-container",children:b.jsxs("div",{className:"rcb-checkbox-row",children:[b.jsx("div",{style:g.has(D)?E:I,className:"rcb-checkbox-mark"}),b.jsx("div",{className:"rcb-checkbox-label",children:D})]})},D)),b.jsx("div",{style:_,className:"rcb-checkbox-next-button",onMouseDown:D=>{var G;if(D.preventDefault(),m||g.size<n.min)return;const H=Array.from(r).join(", ");w(!n.reusable);let q;n.sendOutput!=null?q=n.sendOutput:q=((G=i.chatInput)==null?void 0:G.sendCheckboxOutput)??!0,y(H,q)}})]})},ms=async(n,r)=>{const a=n.checkboxes;if(!a)return;let i;if(typeof a=="function"?(i=a(r),i instanceof Promise&&(i=await i)):i=a,Array.isArray(i)&&(i={items:i}),!("items"in i)||i.items.length==0)return;i.min==null&&(i.min=1),i.max==null&&(i.max=i.items.length),i.min>i.max&&(i.min=i.max),i.reusable==null&&(i.reusable=!1);const l=new Set,p=r.currPath,y=b.jsx(hs,{checkboxes:i,checkedItems:l,path:p});await r.injectMessage(y)},gs=async(n,r)=>{const a=n.function;if(!a)return;const i=a(r);return i instanceof Promise?await i:i},ys=async(n,r,a)=>{const i=n.message;if(!i)return;if(typeof i=="string"){i.trim()!==""&&(a?await r.simulateStreamMessage(i):await r.injectMessage(i));return}let l=i(r);l instanceof Promise&&(l=await l),typeof l=="string"&&l.trim()!==""&&(a?await r.simulateStreamMessage(l):await r.injectMessage(l))},bs=({options:n,path:r})=>{var E,O,P,R,F,L;const{settings:a}=ae(),{styles:i}=he(),{paths:l}=Dt(),{handleSubmitText:p}=St(),[y,g]=S.useState([]),[h,m]=S.useState(!1),w={cursor:h?`url("${(E=a.general)==null?void 0:E.actionDisabledIcon}"), auto`:"pointer",color:(O=a.general)==null?void 0:O.primaryColor,borderColor:(P=a.general)==null?void 0:P.primaryColor,backgroundColor:"#fff",...i.botOptionStyle},T={color:"#fff",borderColor:(R=a.general)==null?void 0:R.primaryColor,backgroundColor:(F=a.general)==null?void 0:F.primaryColor,...i.botOptionHoveredStyle};S.useEffect(()=>{l.length>0&&l[l.length-1]!==r&&m(!n.reusable)},[l]);const _=V=>{g($=>{const M=[...$];return M[V]=!0,M})},I=V=>{g($=>{const M=[...$];return M[V]=!1,M})};return b.jsx("div",{className:`rcb-options-container ${(L=a.botBubble)!=null&&L.showAvatar?"rcb-options-offset":""}`,children:n.items.map((V,$)=>{const M=y[$]&&!h;return b.jsx("div",{className:"rcb-options",style:M?T:w,onMouseEnter:()=>_($),onMouseLeave:()=>I($),onMouseDown:j=>{var z;if(j.preventDefault(),h)return;m(!n.reusable);let Z;n.sendOutput!=null?Z=n.sendOutput:Z=((z=a.chatInput)==null?void 0:z.sendOptionOutput)??!0,p(V,Z)},children:V},V)})})},Ss=async(n,r)=>{const a=n.options;if(!a)return;let i;if(typeof a=="function"?(i=a(r),i instanceof Promise&&(i=await i)):i=a,Array.isArray(i)&&(i={items:i}),!("items"in i)||i.items.length==0)return;i.reusable==null&&(i.reusable=!1);const l=r.currPath,p=b.jsx(bs,{options:i,path:l});await r.injectMessage(p)},xs=async(n,r)=>{const a=n.path;if(!a)return!1;if(typeof a=="string")return await r.goToPath(a),!0;let i=a(r);if(i instanceof Promise&&(i=await i),!i)return!1;const l=i;return await r.goToPath(l),!0},vs=async(n,r)=>{const a=n.component;if(a){if(typeof a=="function"){let i=a(r);if(i instanceof Promise&&(i=await i),!i)return;await r.injectMessage(i);return}await r.injectMessage(a)}},ws=async(n,r,a,i)=>{const l=n.transition;let p;if(typeof l=="function"?(p=l(r),p instanceof Promise&&(p=await p)):p=l,typeof p=="number"&&(p={duration:p}),!p||p instanceof Promise||p.duration==null||typeof p.duration!="number")return;p.interruptable==null&&(p.interruptable=!1);const y=setTimeout(async()=>{const g=await i(n);g&&await zr(g,r)},p.duration);p.interruptable&&(a.current=y)},Cs=async(n,r,a)=>{const i=n.chatDisabled;if(i==null)return;let l;typeof i=="function"?(l=i(r),l instanceof Promise&&(l=await l)):l=i,a(l)},Vr=async(n,r,a)=>{const i=n.isSensitive;if(!i){a(!1);return}let l;typeof i=="function"?(l=i(r),l instanceof Promise&&(l=await l)):l=i,a(l)},ks=async(n,r,a,i,l,p,y)=>{if(!n)throw new Error("Block is not valid.");for(const g of Object.keys(n))switch(g){case"message":await ys(n,r,a);break;case"options":await Ss(n,r);break;case"checkboxes":await ms(n,r);break;case"component":await vs(n,r);break;case"chatDisabled":await Cs(n,r,l);break;case"isSensitive":await Vr(n,r,p);break;case"transition":await ws(n,r,i,y)}},zr=async(n,r)=>{if(!n)throw new Error("Block is not valid.");const a=Object.keys(n);for(const i of a)i==="function"&&await gs(n,r);a.includes("path")&&await xs(n,r)};var Qe={},it={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr;function Ts(){if(Wr)return it;Wr=1;var n=S;function r(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},p={};function y(e){return a.call(p,e)?!0:a.call(l,e)?!1:i.test(e)?p[e]=!0:(l[e]=!0,!1)}function g(e,s,u,f,k,x,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=e,this.type=s,this.sanitizeURL=x,this.removeEmptyString=A}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];h[s]=new g(s,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(m,w);h[s]=new g(s,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(m,w);h[s]=new g(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(m,w);h[s]=new g(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var T={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(T).forEach(function(e){_.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),T[s]=T[e]})});var I=/["'&<>]/;function E(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var s=I.exec(e);if(s){var u="",f,k=0;for(f=s.index;f<e.length;f++){switch(e.charCodeAt(f)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#x27;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}k!==f&&(u+=e.substring(k,f)),k=f+1,u+=s}e=k!==f?u+e.substring(k,f):u}return e}var O=/([A-Z])/g,P=/^ms-/,R=Array.isArray;function F(e,s){return{insertionMode:e,selectedValue:s}}function L(e,s,u){switch(s){case"select":return F(1,u.value!=null?u.value:u.defaultValue);case"svg":return F(2,null);case"math":return F(3,null);case"foreignObject":return F(1,null);case"table":return F(4,null);case"thead":case"tbody":case"tfoot":return F(5,null);case"colgroup":return F(7,null);case"tr":return F(6,null)}return 4<=e.insertionMode||e.insertionMode===0?F(1,null):e}var V=new Map;function $(e,s,u){if(typeof u!="object")throw Error(r(62));s=!0;for(var f in u)if(a.call(u,f)){var k=u[f];if(k!=null&&typeof k!="boolean"&&k!==""){if(f.indexOf("--")===0){var x=E(f);k=E((""+k).trim())}else{x=f;var A=V.get(x);A!==void 0||(A=E(x.replace(O,"-$1").toLowerCase().replace(P,"-ms-")),V.set(x,A)),x=A,k=typeof k=="number"?k===0||a.call(T,f)?""+k:k+"px":E((""+k).trim())}s?(s=!1,e.push(' style="',x,":",k)):e.push(";",x,":",k)}}s||e.push('"')}function M(e,s,u,f){switch(u){case"style":$(e,s,f);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N"){if(s=h.hasOwnProperty(u)?h[u]:null,s!==null){switch(typeof f){case"function":case"symbol":return;case"boolean":if(!s.acceptsBooleans)return}switch(u=s.attributeName,s.type){case 3:f&&e.push(" ",u,'=""');break;case 4:f===!0?e.push(" ",u,'=""'):f!==!1&&e.push(" ",u,'="',E(f),'"');break;case 5:isNaN(f)||e.push(" ",u,'="',E(f),'"');break;case 6:!isNaN(f)&&1<=f&&e.push(" ",u,'="',E(f),'"');break;default:s.sanitizeURL&&(f=""+f),e.push(" ",u,'="',E(f),'"')}}else if(y(u)){switch(typeof f){case"function":case"symbol":return;case"boolean":if(s=u.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-")return}e.push(" ",u,'="',E(f),'"')}}}function j(e,s,u){if(s!=null){if(u!=null)throw Error(r(60));if(typeof s!="object"||!("__html"in s))throw Error(r(61));s=s.__html,s!=null&&e.push(""+s)}}function Z(e){var s="";return n.Children.forEach(e,function(u){u!=null&&(s+=u)}),s}function z(e,s,u,f){e.push(H(u));var k=u=null,x;for(x in s)if(a.call(s,x)){var A=s[x];if(A!=null)switch(x){case"children":u=A;break;case"dangerouslySetInnerHTML":k=A;break;default:M(e,f,x,A)}}return e.push(">"),j(e,k,u),typeof u=="string"?(e.push(E(u)),null):u}var W=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,D=new Map;function H(e){var s=D.get(e);if(s===void 0){if(!W.test(e))throw Error(r(65,e));s="<"+e,D.set(e,s)}return s}function q(e,s,u,f,k){switch(s){case"select":e.push(H("select"));var x=null,A=null;for(re in u)if(a.call(u,re)){var U=u[re];if(U!=null)switch(re){case"children":x=U;break;case"dangerouslySetInnerHTML":A=U;break;case"defaultValue":case"value":break;default:M(e,f,re,U)}}return e.push(">"),j(e,A,x),x;case"option":A=k.selectedValue,e.push(H("option"));var Y=U=null,Q=null,re=null;for(x in u)if(a.call(u,x)){var ve=u[x];if(ve!=null)switch(x){case"children":U=ve;break;case"selected":Q=ve;break;case"dangerouslySetInnerHTML":re=ve;break;case"value":Y=ve;default:M(e,f,x,ve)}}if(A!=null)if(u=Y!==null?""+Y:Z(U),R(A)){for(f=0;f<A.length;f++)if(""+A[f]===u){e.push(' selected=""');break}}else""+A===u&&e.push(' selected=""');else Q&&e.push(' selected=""');return e.push(">"),j(e,re,U),U;case"textarea":e.push(H("textarea")),re=A=x=null;for(U in u)if(a.call(u,U)&&(Y=u[U],Y!=null))switch(U){case"children":re=Y;break;case"value":x=Y;break;case"defaultValue":A=Y;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:M(e,f,U,Y)}if(x===null&&A!==null&&(x=A),e.push(">"),re!=null){if(x!=null)throw Error(r(92));if(R(re)&&1<re.length)throw Error(r(93));x=""+re}return typeof x=="string"&&x[0]===`
`&&e.push(`
`),x!==null&&e.push(E(""+x)),null;case"input":e.push(H("input")),Y=re=U=x=null;for(A in u)if(a.call(u,A)&&(Q=u[A],Q!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":Y=Q;break;case"defaultValue":U=Q;break;case"checked":re=Q;break;case"value":x=Q;break;default:M(e,f,A,Q)}return re!==null?M(e,f,"checked",re):Y!==null&&M(e,f,"checked",Y),x!==null?M(e,f,"value",x):U!==null&&M(e,f,"value",U),e.push("/>"),null;case"menuitem":e.push(H("menuitem"));for(var He in u)if(a.call(u,He)&&(x=u[He],x!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:M(e,f,He,x)}return e.push(">"),null;case"title":e.push(H("title")),x=null;for(ve in u)if(a.call(u,ve)&&(A=u[ve],A!=null))switch(ve){case"children":x=A;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:M(e,f,ve,A)}return e.push(">"),x;case"listing":case"pre":e.push(H(s)),A=x=null;for(Y in u)if(a.call(u,Y)&&(U=u[Y],U!=null))switch(Y){case"children":x=U;break;case"dangerouslySetInnerHTML":A=U;break;default:M(e,f,Y,U)}if(e.push(">"),A!=null){if(x!=null)throw Error(r(60));if(typeof A!="object"||!("__html"in A))throw Error(r(61));u=A.__html,u!=null&&(typeof u=="string"&&0<u.length&&u[0]===`
`?e.push(`
`,u):e.push(""+u))}return typeof x=="string"&&x[0]===`
`&&e.push(`
`),x;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(H(s));for(var Ue in u)if(a.call(u,Ue)&&(x=u[Ue],x!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,s));default:M(e,f,Ue,x)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return z(e,u,s,f);case"html":return k.insertionMode===0&&e.push("<!DOCTYPE html>"),z(e,u,s,f);default:if(s.indexOf("-")===-1&&typeof u.is!="string")return z(e,u,s,f);e.push(H(s)),A=x=null;for(Q in u)if(a.call(u,Q)&&(U=u[Q],U!=null))switch(Q){case"children":x=U;break;case"dangerouslySetInnerHTML":A=U;break;case"style":$(e,f,U);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:y(Q)&&typeof U!="function"&&typeof U!="symbol"&&e.push(" ",Q,'="',E(U),'"')}return e.push(">"),j(e,A,x),x}}function G(e,s,u){if(e.push('<!--$?--><template id="'),u===null)throw Error(r(395));return e.push(u),e.push('"></template>')}function K(e,s,u,f){switch(u.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 4:return e.push('<table hidden id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(s.segmentPrefix),s=f.toString(16),e.push(s),e.push('">');default:throw Error(r(397))}}function ce(e,s){switch(s.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(r(397))}}var oe=/[<\u2028\u2029]/g;function fe(e){return JSON.stringify(e).replace(oe,function(s){switch(s){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function le(e,s){return s=s===void 0?"":s,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:s+"P:",segmentPrefix:s+"S:",boundaryPrefix:s+"B:",idPrefix:s,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function ue(e,s,u,f){return u.generateStaticMarkup?(e.push(E(s)),!1):(s===""?e=f:(f&&e.push("<!-- -->"),e.push(E(s)),e=!0),e)}var te=Object.assign,pe=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),qe=Symbol.for("react.scope"),pn=Symbol.for("react.debug_trace_mode"),xt=Symbol.for("react.legacy_hidden"),ar=Symbol.for("react.default_value"),vt=Symbol.iterator;function lt(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case ne:return"Portal";case xe:return"Profiler";case de:return"StrictMode";case De:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case we:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return s=e.displayName||null,s!==null?s:lt(e.type)||"Memo";case Te:s=e._payload,e=e._init;try{return lt(e(s))}catch{}}return null}var wt={};function hn(e,s){if(e=e.contextTypes,!e)return wt;var u={},f;for(f in e)u[f]=s[f];return u}var Ge=null;function Ae(e,s){if(e!==s){e.context._currentValue2=e.parentValue,e=e.parent;var u=s.parent;if(e===null){if(u!==null)throw Error(r(401))}else{if(u===null)throw Error(r(401));Ae(e,u)}s.context._currentValue2=s.value}}function mn(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&mn(e)}function gn(e){var s=e.parent;s!==null&&gn(s),e.context._currentValue2=e.value}function yn(e,s){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(r(402));e.depth===s.depth?Ae(e,s):yn(e,s)}function bn(e,s){var u=s.parent;if(u===null)throw Error(r(402));e.depth===u.depth?Ae(e,u):bn(e,u),s.context._currentValue2=s.value}function Ct(e){var s=Ge;s!==e&&(s===null?gn(e):e===null?mn(s):s.depth===e.depth?Ae(s,e):s.depth>e.depth?yn(s,e):bn(s,e),Ge=e)}var Sn={isMounted:function(){return!1},enqueueSetState:function(e,s){e=e._reactInternals,e.queue!==null&&e.queue.push(s)},enqueueReplaceState:function(e,s){e=e._reactInternals,e.replace=!0,e.queue=[s]},enqueueForceUpdate:function(){}};function xn(e,s,u,f){var k=e.state!==void 0?e.state:null;e.updater=Sn,e.props=u,e.state=k;var x={queue:[],replace:!1};e._reactInternals=x;var A=s.contextType;if(e.context=typeof A=="object"&&A!==null?A._currentValue2:f,A=s.getDerivedStateFromProps,typeof A=="function"&&(A=A(u,k),k=A==null?k:te({},k,A),e.state=k),typeof s.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(s=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),s!==e.state&&Sn.enqueueReplaceState(e,e.state,null),x.queue!==null&&0<x.queue.length)if(s=x.queue,A=x.replace,x.queue=null,x.replace=!1,A&&s.length===1)e.state=s[0];else{for(x=A?s[0]:e.state,k=!0,A=A?1:0;A<s.length;A++){var U=s[A];U=typeof U=="function"?U.call(e,x,u,f):U,U!=null&&(k?(k=!1,x=te({},x,U)):te(x,U))}e.state=x}else x.queue=null}var ir={id:1,overflow:""};function Rt(e,s,u){var f=e.id;e=e.overflow;var k=32-kt(f)-1;f&=~(1<<k),u+=1;var x=32-kt(s)+k;if(30<x){var A=k-k%5;return x=(f&(1<<A)-1).toString(32),f>>=A,k-=A,{id:1<<32-kt(s)+k|u<<k|f,overflow:x+e}}return{id:1<<x|u<<k|f,overflow:e}}var kt=Math.clz32?Math.clz32:ur,lr=Math.log,cr=Math.LN2;function ur(e){return e>>>=0,e===0?32:31-(lr(e)/cr|0)|0}function dr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var fr=typeof Object.is=="function"?Object.is:dr,Ne=null,Lt=null,Tt=null,me=null,ct=!1,Et=!1,ut=0,Ze=null,It=0;function Je(){if(Ne===null)throw Error(r(321));return Ne}function vn(){if(0<It)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Ht(){return me===null?Tt===null?(ct=!1,Tt=me=vn()):(ct=!0,me=Tt):me.next===null?(ct=!1,me=me.next=vn()):(ct=!0,me=me.next),me}function Ut(){Lt=Ne=null,Et=!1,Tt=null,It=0,me=Ze=null}function wn(e,s){return typeof s=="function"?s(e):s}function Cn(e,s,u){if(Ne=Je(),me=Ht(),ct){var f=me.queue;if(s=f.dispatch,Ze!==null&&(u=Ze.get(f),u!==void 0)){Ze.delete(f),f=me.memoizedState;do f=e(f,u.action),u=u.next;while(u!==null);return me.memoizedState=f,[f,s]}return[me.memoizedState,s]}return e=e===wn?typeof s=="function"?s():s:u!==void 0?u(s):s,me.memoizedState=e,e=me.queue={last:null,dispatch:null},e=e.dispatch=pr.bind(null,Ne,e),[me.memoizedState,e]}function kn(e,s){if(Ne=Je(),me=Ht(),s=s===void 0?null:s,me!==null){var u=me.memoizedState;if(u!==null&&s!==null){var f=u[1];e:if(f===null)f=!1;else{for(var k=0;k<f.length&&k<s.length;k++)if(!fr(s[k],f[k])){f=!1;break e}f=!0}if(f)return u[0]}}return e=e(),me.memoizedState=[e,s],e}function pr(e,s,u){if(25<=It)throw Error(r(301));if(e===Ne)if(Et=!0,e={action:u,next:null},Ze===null&&(Ze=new Map),u=Ze.get(s),u===void 0)Ze.set(s,e);else{for(s=u;s.next!==null;)s=s.next;s.next=e}}function hr(){throw Error(r(394))}function At(){}var Tn={readContext:function(e){return e._currentValue2},useContext:function(e){return Je(),e._currentValue2},useMemo:kn,useReducer:Cn,useRef:function(e){Ne=Je(),me=Ht();var s=me.memoizedState;return s===null?(e={current:e},me.memoizedState=e):s},useState:function(e){return Cn(wn,e)},useInsertionEffect:At,useLayoutEffect:function(){},useCallback:function(e,s){return kn(function(){return e},s)},useImperativeHandle:At,useEffect:At,useDebugValue:At,useDeferredValue:function(e){return Je(),e},useTransition:function(){return Je(),[!1,hr]},useId:function(){var e=Lt.treeContext,s=e.overflow;e=e.id,e=(e&~(1<<32-kt(e)-1)).toString(32)+s;var u=Bt;if(u===null)throw Error(r(404));return s=ut++,e=":"+u.idPrefix+"R"+e,0<s&&(e+="H"+s.toString(32)),e+":"},useMutableSource:function(e,s){return Je(),s(e._source)},useSyncExternalStore:function(e,s,u){if(u===void 0)throw Error(r(407));return u()}},Bt=null,$t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function mr(e){return console.error(e),null}function dt(){}function gr(e,s,u,f,k,x,A,U,Y){var Q=[],re=new Set;return s={destination:null,responseState:s,progressiveChunkSize:f===void 0?12800:f,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:re,pingedTasks:Q,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:k===void 0?mr:k,onAllReady:dt,onShellReady:A===void 0?dt:A,onShellError:dt,onFatalError:dt},u=_t(s,0,null,u,!1,!1),u.parentFlushed=!0,e=Vt(s,e,null,u,re,wt,null,ir),Q.push(e),s}function Vt(e,s,u,f,k,x,A,U){e.allPendingTasks++,u===null?e.pendingRootTasks++:u.pendingTasks++;var Y={node:s,ping:function(){var Q=e.pingedTasks;Q.push(Y),Q.length===1&&Mn(e)},blockedBoundary:u,blockedSegment:f,abortSet:k,legacyContext:x,context:A,treeContext:U};return k.add(Y),Y}function _t(e,s,u,f,k,x){return{status:0,id:-1,index:s,parentFlushed:!1,chunks:[],children:[],formatContext:f,boundary:u,lastPushedText:k,textEmbedded:x}}function ft(e,s){if(e=e.onError(s),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Mt(e,s){var u=e.onShellError;u(s),u=e.onFatalError,u(s),e.destination!==null?(e.status=2,e.destination.destroy(s)):(e.status=1,e.fatalError=s)}function En(e,s,u,f,k){for(Ne={},Lt=s,ut=0,e=u(f,k);Et;)Et=!1,ut=0,It+=1,me=null,e=u(f,k);return Ut(),e}function In(e,s,u,f){var k=u.render(),x=f.childContextTypes;if(x!=null){var A=s.legacyContext;if(typeof u.getChildContext!="function")f=A;else{u=u.getChildContext();for(var U in u)if(!(U in x))throw Error(r(108,lt(f)||"Unknown",U));f=te({},A,u)}s.legacyContext=f,Be(e,s,k),s.legacyContext=A}else Be(e,s,k)}function An(e,s){if(e&&e.defaultProps){s=te({},s),e=e.defaultProps;for(var u in e)s[u]===void 0&&(s[u]=e[u]);return s}return s}function zt(e,s,u,f,k){if(typeof u=="function")if(u.prototype&&u.prototype.isReactComponent){k=hn(u,s.legacyContext);var x=u.contextType;x=new u(f,typeof x=="object"&&x!==null?x._currentValue2:k),xn(x,u,f,k),In(e,s,x,u)}else{x=hn(u,s.legacyContext),k=En(e,s,u,f,x);var A=ut!==0;if(typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0)xn(k,u,f,x),In(e,s,k,u);else if(A){f=s.treeContext,s.treeContext=Rt(f,1,0);try{Be(e,s,k)}finally{s.treeContext=f}}else Be(e,s,k)}else if(typeof u=="string"){switch(k=s.blockedSegment,x=q(k.chunks,u,f,e.responseState,k.formatContext),k.lastPushedText=!1,A=k.formatContext,k.formatContext=L(A,u,f),Wt(e,s,x),k.formatContext=A,u){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:k.chunks.push("</",u,">")}k.lastPushedText=!1}else{switch(u){case xt:case pn:case de:case xe:case ee:Be(e,s,f.children);return;case _e:Be(e,s,f.children);return;case qe:throw Error(r(343));case De:e:{u=s.blockedBoundary,k=s.blockedSegment,x=f.fallback,f=f.children,A=new Set;var U={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:A,errorDigest:null},Y=_t(e,k.chunks.length,U,k.formatContext,!1,!1);k.children.push(Y),k.lastPushedText=!1;var Q=_t(e,0,null,k.formatContext,!1,!1);Q.parentFlushed=!0,s.blockedBoundary=U,s.blockedSegment=Q;try{if(Wt(e,s,f),e.responseState.generateStaticMarkup||Q.lastPushedText&&Q.textEmbedded&&Q.chunks.push("<!-- -->"),Q.status=1,rt(U,Q),U.pendingTasks===0)break e}catch(re){Q.status=4,U.forceClientRender=!0,U.errorDigest=ft(e,re)}finally{s.blockedBoundary=u,s.blockedSegment=k}s=Vt(e,x,u,Y,A,s.legacyContext,s.context,s.treeContext),e.pingedTasks.push(s)}return}if(typeof u=="object"&&u!==null)switch(u.$$typeof){case we:if(f=En(e,s,u.render,f,k),ut!==0){u=s.treeContext,s.treeContext=Rt(u,1,0);try{Be(e,s,f)}finally{s.treeContext=u}}else Be(e,s,f);return;case nt:u=u.type,f=An(u,f),zt(e,s,u,f,k);return;case ye:if(k=f.children,u=u._context,f=f.value,x=u._currentValue2,u._currentValue2=f,A=Ge,Ge=f={parent:A,depth:A===null?0:A.depth+1,context:u,parentValue:x,value:f},s.context=f,Be(e,s,k),e=Ge,e===null)throw Error(r(403));f=e.parentValue,e.context._currentValue2=f===ar?e.context._defaultValue:f,e=Ge=e.parent,s.context=e;return;case Ce:f=f.children,f=f(u._currentValue2),Be(e,s,f);return;case Te:k=u._init,u=k(u._payload),f=An(u,f),zt(e,s,u,f,void 0);return}throw Error(r(130,u==null?u:typeof u,""))}}function Be(e,s,u){if(s.node=u,typeof u=="object"&&u!==null){switch(u.$$typeof){case pe:zt(e,s,u.type,u.props,u.ref);return;case ne:throw Error(r(257));case Te:var f=u._init;u=f(u._payload),Be(e,s,u);return}if(R(u)){Bn(e,s,u);return}if(u===null||typeof u!="object"?f=null:(f=vt&&u[vt]||u["@@iterator"],f=typeof f=="function"?f:null),f&&(f=f.call(u))){if(u=f.next(),!u.done){var k=[];do k.push(u.value),u=f.next();while(!u.done);Bn(e,s,k)}return}throw e=Object.prototype.toString.call(u),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":e))}typeof u=="string"?(f=s.blockedSegment,f.lastPushedText=ue(s.blockedSegment.chunks,u,e.responseState,f.lastPushedText)):typeof u=="number"&&(f=s.blockedSegment,f.lastPushedText=ue(s.blockedSegment.chunks,""+u,e.responseState,f.lastPushedText))}function Bn(e,s,u){for(var f=u.length,k=0;k<f;k++){var x=s.treeContext;s.treeContext=Rt(x,f,k);try{Wt(e,s,u[k])}finally{s.treeContext=x}}}function Wt(e,s,u){var f=s.blockedSegment.formatContext,k=s.legacyContext,x=s.context;try{return Be(e,s,u)}catch(Y){if(Ut(),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"){u=Y;var A=s.blockedSegment,U=_t(e,A.chunks.length,null,A.formatContext,A.lastPushedText,!0);A.children.push(U),A.lastPushedText=!1,e=Vt(e,s.node,s.blockedBoundary,U,s.abortSet,s.legacyContext,s.context,s.treeContext).ping,u.then(e,e),s.blockedSegment.formatContext=f,s.legacyContext=k,s.context=x,Ct(x)}else throw s.blockedSegment.formatContext=f,s.legacyContext=k,s.context=x,Ct(x),Y}}function qt(e){var s=e.blockedBoundary;e=e.blockedSegment,e.status=3,ot(this,s,e)}function _n(e,s,u){var f=e.blockedBoundary;e.blockedSegment.status=3,f===null?(s.allPendingTasks--,s.status!==2&&(s.status=2,s.destination!==null&&s.destination.push(null))):(f.pendingTasks--,f.forceClientRender||(f.forceClientRender=!0,e=u===void 0?Error(r(432)):u,f.errorDigest=s.onError(e),f.parentFlushed&&s.clientRenderedBoundaries.push(f)),f.fallbackAbortableTasks.forEach(function(k){return _n(k,s,u)}),f.fallbackAbortableTasks.clear(),s.allPendingTasks--,s.allPendingTasks===0&&(f=s.onAllReady,f()))}function rt(e,s){if(s.chunks.length===0&&s.children.length===1&&s.children[0].boundary===null){var u=s.children[0];u.id=s.id,u.parentFlushed=!0,u.status===1&&rt(e,u)}else e.completedSegments.push(s)}function ot(e,s,u){if(s===null){if(u.parentFlushed){if(e.completedRootSegment!==null)throw Error(r(389));e.completedRootSegment=u}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=dt,s=e.onShellReady,s())}else s.pendingTasks--,s.forceClientRender||(s.pendingTasks===0?(u.parentFlushed&&u.status===1&&rt(s,u),s.parentFlushed&&e.completedBoundaries.push(s),s.fallbackAbortableTasks.forEach(qt,e),s.fallbackAbortableTasks.clear()):u.parentFlushed&&u.status===1&&(rt(s,u),s.completedSegments.length===1&&s.parentFlushed&&e.partialBoundaries.push(s)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Mn(e){if(e.status!==2){var s=Ge,u=$t.current;$t.current=Tn;var f=Bt;Bt=e.responseState;try{var k=e.pingedTasks,x;for(x=0;x<k.length;x++){var A=k[x],U=e,Y=A.blockedSegment;if(Y.status===0){Ct(A.context);try{Be(U,A,A.node),U.responseState.generateStaticMarkup||Y.lastPushedText&&Y.textEmbedded&&Y.chunks.push("<!-- -->"),A.abortSet.delete(A),Y.status=1,ot(U,A.blockedBoundary,Y)}catch(Me){if(Ut(),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"){var Q=A.ping;Me.then(Q,Q)}else{A.abortSet.delete(A),Y.status=4;var re=A.blockedBoundary,ve=Me,He=ft(U,ve);if(re===null?Mt(U,ve):(re.pendingTasks--,re.forceClientRender||(re.forceClientRender=!0,re.errorDigest=He,re.parentFlushed&&U.clientRenderedBoundaries.push(re))),U.allPendingTasks--,U.allPendingTasks===0){var Ue=U.onAllReady;Ue()}}}finally{}}}k.splice(0,x),e.destination!==null&&Pt(e,e.destination)}catch(Me){ft(e,Me),Mt(e,Me)}finally{Bt=f,$t.current=u,u===Tn&&Ct(s)}}}function pt(e,s,u){switch(u.parentFlushed=!0,u.status){case 0:var f=u.id=e.nextSegmentId++;return u.lastPushedText=!1,u.textEmbedded=!1,e=e.responseState,s.push('<template id="'),s.push(e.placeholderPrefix),e=f.toString(16),s.push(e),s.push('"></template>');case 1:u.status=2;var k=!0;f=u.chunks;var x=0;u=u.children;for(var A=0;A<u.length;A++){for(k=u[A];x<k.index;x++)s.push(f[x]);k=ht(e,s,k)}for(;x<f.length-1;x++)s.push(f[x]);return x<f.length&&(k=s.push(f[x])),k;default:throw Error(r(390))}}function ht(e,s,u){var f=u.boundary;if(f===null)return pt(e,s,u);if(f.parentFlushed=!0,f.forceClientRender)return e.responseState.generateStaticMarkup||(f=f.errorDigest,s.push("<!--$!-->"),s.push("<template"),f&&(s.push(' data-dgst="'),f=E(f),s.push(f),s.push('"')),s.push("></template>")),pt(e,s,u),e=e.responseState.generateStaticMarkup?!0:s.push("<!--/$-->"),e;if(0<f.pendingTasks){f.rootSegmentID=e.nextSegmentId++,0<f.completedSegments.length&&e.partialBoundaries.push(f);var k=e.responseState,x=k.nextSuspenseID++;return k=k.boundaryPrefix+x.toString(16),f=f.id=k,G(s,e.responseState,f),pt(e,s,u),s.push("<!--/$-->")}if(f.byteSize>e.progressiveChunkSize)return f.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(f),G(s,e.responseState,f.id),pt(e,s,u),s.push("<!--/$-->");if(e.responseState.generateStaticMarkup||s.push("<!--$-->"),u=f.completedSegments,u.length!==1)throw Error(r(391));return ht(e,s,u[0]),e=e.responseState.generateStaticMarkup?!0:s.push("<!--/$-->"),e}function Gt(e,s,u){return K(s,e.responseState,u.formatContext,u.id),ht(e,s,u),ce(s,u.formatContext)}function Zt(e,s,u){for(var f=u.completedSegments,k=0;k<f.length;k++)Kt(e,s,u,f[k]);if(f.length=0,e=e.responseState,f=u.id,u=u.rootSegmentID,s.push(e.startInlineScript),e.sentCompleteBoundaryFunction?s.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,s.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),f===null)throw Error(r(395));return u=u.toString(16),s.push(f),s.push('","'),s.push(e.segmentPrefix),s.push(u),s.push('")<\/script>')}function Kt(e,s,u,f){if(f.status===2)return!0;var k=f.id;if(k===-1){if((f.id=u.rootSegmentID)===-1)throw Error(r(392));return Gt(e,s,f)}return Gt(e,s,f),e=e.responseState,s.push(e.startInlineScript),e.sentCompleteSegmentFunction?s.push('$RS("'):(e.sentCompleteSegmentFunction=!0,s.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),s.push(e.segmentPrefix),k=k.toString(16),s.push(k),s.push('","'),s.push(e.placeholderPrefix),s.push(k),s.push('")<\/script>')}function Pt(e,s){try{var u=e.completedRootSegment;if(u!==null&&e.pendingRootTasks===0){ht(e,s,u),e.completedRootSegment=null;var f=e.responseState.bootstrapChunks;for(u=0;u<f.length-1;u++)s.push(f[u]);u<f.length&&s.push(f[u])}var k=e.clientRenderedBoundaries,x;for(x=0;x<k.length;x++){var A=k[x];f=s;var U=e.responseState,Y=A.id,Q=A.errorDigest,re=A.errorMessage,ve=A.errorComponentStack;if(f.push(U.startInlineScript),U.sentClientRenderFunction?f.push('$RX("'):(U.sentClientRenderFunction=!0,f.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),Y===null)throw Error(r(395));if(f.push(Y),f.push('"'),Q||re||ve){f.push(",");var He=fe(Q||"");f.push(He)}if(re||ve){f.push(",");var Ue=fe(re||"");f.push(Ue)}if(ve){f.push(",");var Me=fe(ve);f.push(Me)}if(!f.push(")<\/script>")){e.destination=null,x++,k.splice(0,x);return}}k.splice(0,x);var mt=e.completedBoundaries;for(x=0;x<mt.length;x++)if(!Zt(e,s,mt[x])){e.destination=null,x++,mt.splice(0,x);return}mt.splice(0,x);var Ye=e.partialBoundaries;for(x=0;x<Ye.length;x++){var Yt=Ye[x];e:{k=e,A=s;var gt=Yt.completedSegments;for(U=0;U<gt.length;U++)if(!Kt(k,A,Yt,gt[U])){U++,gt.splice(0,U);var jn=!1;break e}gt.splice(0,U),jn=!0}if(!jn){e.destination=null,x++,Ye.splice(0,x);return}}Ye.splice(0,x);var st=e.completedBoundaries;for(x=0;x<st.length;x++)if(!Zt(e,s,st[x])){e.destination=null,x++,st.splice(0,x);return}st.splice(0,x)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&s.push(null)}}function Pn(e,s){try{var u=e.abortableTasks;u.forEach(function(f){return _n(f,e,s)}),u.clear(),e.destination!==null&&Pt(e,e.destination)}catch(f){ft(e,f),Mt(e,f)}}function On(){}function Jt(e,s,u,f){var k=!1,x=null,A="",U={push:function(Q){return Q!==null&&(A+=Q),!0},destroy:function(Q){k=!0,x=Q}},Y=!1;if(e=gr(e,le(u,s?s.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,On,void 0,function(){Y=!0}),Mn(e),Pn(e,f),e.status===1)e.status=2,U.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=U;try{Pt(e,U)}catch(Q){ft(e,Q),Mt(e,Q)}}if(k)throw x;if(!Y)throw Error(r(426));return A}return it.renderToNodeStream=function(){throw Error(r(207))},it.renderToStaticMarkup=function(e,s){return Jt(e,s,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},it.renderToStaticNodeStream=function(){throw Error(r(208))},it.renderToString=function(e,s){return Jt(e,s,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},it.version="18.3.1",it}var rn={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr;function Es(){if(qr)return rn;qr=1;var n=S;function r(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=null,i=0;function l(t,o){if(o.length!==0)if(512<o.length)0<i&&(t.enqueue(new Uint8Array(a.buffer,0,i)),a=new Uint8Array(512),i=0),t.enqueue(o);else{var c=a.length-i;c<o.length&&(c===0?t.enqueue(a):(a.set(o.subarray(0,c),i),t.enqueue(a),o=o.subarray(c)),a=new Uint8Array(512),i=0),a.set(o,i),i+=o.length}}function p(t,o){return l(t,o),!0}function y(t){a&&0<i&&(t.enqueue(new Uint8Array(a.buffer,0,i)),a=null,i=0)}var g=new TextEncoder;function h(t){return g.encode(t)}function m(t){return g.encode(t)}function w(t,o){typeof t.error=="function"?t.error(o):t.close()}var T=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},E={};function O(t){return T.call(E,t)?!0:T.call(I,t)?!1:_.test(t)?E[t]=!0:(I[t]=!0,!1)}function P(t,o,c,d,C,v,B){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=C,this.mustUseProperty=c,this.propertyName=t,this.type=o,this.sanitizeURL=v,this.removeEmptyString=B}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];R[o]=new P(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(F,L);R[o]=new P(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(F,L);R[o]=new P(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(F,L);R[o]=new P(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});var V={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$=["Webkit","ms","Moz","O"];Object.keys(V).forEach(function(t){$.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),V[o]=V[t]})});var M=/["'&<>]/;function j(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var o=M.exec(t);if(o){var c="",d,C=0;for(d=o.index;d<t.length;d++){switch(t.charCodeAt(d)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}C!==d&&(c+=t.substring(C,d)),C=d+1,c+=o}t=C!==d?c+t.substring(C,d):c}return t}var Z=/([A-Z])/g,z=/^ms-/,W=Array.isArray,D=m("<script>"),H=m("<\/script>"),q=m('<script src="'),G=m('<script type="module" src="'),K=m('" async=""><\/script>'),ce=/(<\/|<)(s)(cript)/gi;function oe(t,o,c,d){return""+o+(c==="s"?"\\u0073":"\\u0053")+d}function fe(t,o,c,d,C){t=t===void 0?"":t,o=o===void 0?D:m('<script nonce="'+j(o)+'">');var v=[];if(c!==void 0&&v.push(o,h((""+c).replace(ce,oe)),H),d!==void 0)for(c=0;c<d.length;c++)v.push(q,h(j(d[c])),K);if(C!==void 0)for(d=0;d<C.length;d++)v.push(G,h(j(C[d])),K);return{bootstrapChunks:v,startInlineScript:o,placeholderPrefix:m(t+"P:"),segmentPrefix:m(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function le(t,o){return{insertionMode:t,selectedValue:o}}function ue(t){return le(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function te(t,o,c){switch(o){case"select":return le(1,c.value!=null?c.value:c.defaultValue);case"svg":return le(2,null);case"math":return le(3,null);case"foreignObject":return le(1,null);case"table":return le(4,null);case"thead":case"tbody":case"tfoot":return le(5,null);case"colgroup":return le(7,null);case"tr":return le(6,null)}return 4<=t.insertionMode||t.insertionMode===0?le(1,null):t}var pe=m("<!-- -->");function ne(t,o,c,d){return o===""?d:(d&&t.push(pe),t.push(h(j(o))),!0)}var ee=new Map,de=m(' style="'),xe=m(":"),ye=m(";");function Ce(t,o,c){if(typeof c!="object")throw Error(r(62));o=!0;for(var d in c)if(T.call(c,d)){var C=c[d];if(C!=null&&typeof C!="boolean"&&C!==""){if(d.indexOf("--")===0){var v=h(j(d));C=h(j((""+C).trim()))}else{v=d;var B=ee.get(v);B!==void 0||(B=m(j(v.replace(Z,"-$1").toLowerCase().replace(z,"-ms-"))),ee.set(v,B)),v=B,C=typeof C=="number"?C===0||T.call(V,d)?h(""+C):h(C+"px"):h(j((""+C).trim()))}o?(o=!1,t.push(de,v,xe,C)):t.push(ye,v,xe,C)}}o||t.push(_e)}var we=m(" "),De=m('="'),_e=m('"'),nt=m('=""');function Te(t,o,c,d){switch(c){case"style":Ce(t,o,d);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N"){if(o=R.hasOwnProperty(c)?R[c]:null,o!==null){switch(typeof d){case"function":case"symbol":return;case"boolean":if(!o.acceptsBooleans)return}switch(c=h(o.attributeName),o.type){case 3:d&&t.push(we,c,nt);break;case 4:d===!0?t.push(we,c,nt):d!==!1&&t.push(we,c,De,h(j(d)),_e);break;case 5:isNaN(d)||t.push(we,c,De,h(j(d)),_e);break;case 6:!isNaN(d)&&1<=d&&t.push(we,c,De,h(j(d)),_e);break;default:o.sanitizeURL&&(d=""+d),t.push(we,c,De,h(j(d)),_e)}}else if(O(c)){switch(typeof d){case"function":case"symbol":return;case"boolean":if(o=c.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-")return}t.push(we,h(c),De,h(j(d)),_e)}}}var qe=m(">"),pn=m("/>");function xt(t,o,c){if(o!=null){if(c!=null)throw Error(r(60));if(typeof o!="object"||!("__html"in o))throw Error(r(61));o=o.__html,o!=null&&t.push(h(""+o))}}function ar(t){var o="";return n.Children.forEach(t,function(c){c!=null&&(o+=c)}),o}var vt=m(' selected=""');function lt(t,o,c,d){t.push(Ae(c));var C=c=null,v;for(v in o)if(T.call(o,v)){var B=o[v];if(B!=null)switch(v){case"children":c=B;break;case"dangerouslySetInnerHTML":C=B;break;default:Te(t,d,v,B)}}return t.push(qe),xt(t,C,c),typeof c=="string"?(t.push(h(j(c))),null):c}var wt=m(`
`),hn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ge=new Map;function Ae(t){var o=Ge.get(t);if(o===void 0){if(!hn.test(t))throw Error(r(65,t));o=m("<"+t),Ge.set(t,o)}return o}var mn=m("<!DOCTYPE html>");function gn(t,o,c,d,C){switch(o){case"select":t.push(Ae("select"));var v=null,B=null;for(se in c)if(T.call(c,se)){var N=c[se];if(N!=null)switch(se){case"children":v=N;break;case"dangerouslySetInnerHTML":B=N;break;case"defaultValue":case"value":break;default:Te(t,d,se,N)}}return t.push(qe),xt(t,B,v),v;case"option":B=C.selectedValue,t.push(Ae("option"));var X=N=null,ie=null,se=null;for(v in c)if(T.call(c,v)){var be=c[v];if(be!=null)switch(v){case"children":N=be;break;case"selected":ie=be;break;case"dangerouslySetInnerHTML":se=be;break;case"value":X=be;default:Te(t,d,v,be)}}if(B!=null)if(c=X!==null?""+X:ar(N),W(B)){for(d=0;d<B.length;d++)if(""+B[d]===c){t.push(vt);break}}else""+B===c&&t.push(vt);else ie&&t.push(vt);return t.push(qe),xt(t,se,N),N;case"textarea":t.push(Ae("textarea")),se=B=v=null;for(N in c)if(T.call(c,N)&&(X=c[N],X!=null))switch(N){case"children":se=X;break;case"value":v=X;break;case"defaultValue":B=X;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:Te(t,d,N,X)}if(v===null&&B!==null&&(v=B),t.push(qe),se!=null){if(v!=null)throw Error(r(92));if(W(se)&&1<se.length)throw Error(r(93));v=""+se}return typeof v=="string"&&v[0]===`
`&&t.push(wt),v!==null&&t.push(h(j(""+v))),null;case"input":t.push(Ae("input")),X=se=N=v=null;for(B in c)if(T.call(c,B)&&(ie=c[B],ie!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":X=ie;break;case"defaultValue":N=ie;break;case"checked":se=ie;break;case"value":v=ie;break;default:Te(t,d,B,ie)}return se!==null?Te(t,d,"checked",se):X!==null&&Te(t,d,"checked",X),v!==null?Te(t,d,"value",v):N!==null&&Te(t,d,"value",N),t.push(pn),null;case"menuitem":t.push(Ae("menuitem"));for(var Oe in c)if(T.call(c,Oe)&&(v=c[Oe],v!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:Te(t,d,Oe,v)}return t.push(qe),null;case"title":t.push(Ae("title")),v=null;for(be in c)if(T.call(c,be)&&(B=c[be],B!=null))switch(be){case"children":v=B;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:Te(t,d,be,B)}return t.push(qe),v;case"listing":case"pre":t.push(Ae(o)),B=v=null;for(X in c)if(T.call(c,X)&&(N=c[X],N!=null))switch(X){case"children":v=N;break;case"dangerouslySetInnerHTML":B=N;break;default:Te(t,d,X,N)}if(t.push(qe),B!=null){if(v!=null)throw Error(r(60));if(typeof B!="object"||!("__html"in B))throw Error(r(61));c=B.__html,c!=null&&(typeof c=="string"&&0<c.length&&c[0]===`
`?t.push(wt,h(c)):t.push(h(""+c)))}return typeof v=="string"&&v[0]===`
`&&t.push(wt),v;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Ae(o));for(var $e in c)if(T.call(c,$e)&&(v=c[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,o));default:Te(t,d,$e,v)}return t.push(pn),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return lt(t,c,o,d);case"html":return C.insertionMode===0&&t.push(mn),lt(t,c,o,d);default:if(o.indexOf("-")===-1&&typeof c.is!="string")return lt(t,c,o,d);t.push(Ae(o)),B=v=null;for(ie in c)if(T.call(c,ie)&&(N=c[ie],N!=null))switch(ie){case"children":v=N;break;case"dangerouslySetInnerHTML":B=N;break;case"style":Ce(t,d,N);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:O(ie)&&typeof N!="function"&&typeof N!="symbol"&&t.push(we,h(ie),De,h(j(N)),_e)}return t.push(qe),xt(t,B,v),v}}var yn=m("</"),bn=m(">"),Ct=m('<template id="'),Sn=m('"></template>'),xn=m("<!--$-->"),ir=m('<!--$?--><template id="'),Rt=m('"></template>'),kt=m("<!--$!-->"),lr=m("<!--/$-->"),cr=m("<template"),ur=m('"'),dr=m(' data-dgst="');m(' data-msg="'),m(' data-stck="');var fr=m("></template>");function Ne(t,o,c){if(l(t,ir),c===null)throw Error(r(395));return l(t,c),p(t,Rt)}var Lt=m('<div hidden id="'),Tt=m('">'),me=m("</div>"),ct=m('<svg aria-hidden="true" style="display:none" id="'),Et=m('">'),ut=m("</svg>"),Ze=m('<math aria-hidden="true" style="display:none" id="'),It=m('">'),Je=m("</math>"),vn=m('<table hidden id="'),Ht=m('">'),Ut=m("</table>"),wn=m('<table hidden><tbody id="'),Cn=m('">'),kn=m("</tbody></table>"),pr=m('<table hidden><tr id="'),hr=m('">'),At=m("</tr></table>"),Tn=m('<table hidden><colgroup id="'),Bt=m('">'),$t=m("</colgroup></table>");function mr(t,o,c,d){switch(c.insertionMode){case 0:case 1:return l(t,Lt),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,Tt);case 2:return l(t,ct),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,Et);case 3:return l(t,Ze),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,It);case 4:return l(t,vn),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,Ht);case 5:return l(t,wn),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,Cn);case 6:return l(t,pr),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,hr);case 7:return l(t,Tn),l(t,o.segmentPrefix),l(t,h(d.toString(16))),p(t,Bt);default:throw Error(r(397))}}function dt(t,o){switch(o.insertionMode){case 0:case 1:return p(t,me);case 2:return p(t,ut);case 3:return p(t,Je);case 4:return p(t,Ut);case 5:return p(t,kn);case 6:return p(t,At);case 7:return p(t,$t);default:throw Error(r(397))}}var gr=m('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Vt=m('$RS("'),_t=m('","'),ft=m('")<\/script>'),Mt=m('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),En=m('$RC("'),In=m('","'),An=m('")<\/script>'),zt=m('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Be=m('$RX("'),Bn=m('"'),Wt=m(")<\/script>"),qt=m(","),_n=/[<\u2028\u2029]/g;function rt(t){return JSON.stringify(t).replace(_n,function(o){switch(o){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ot=Object.assign,Mn=Symbol.for("react.element"),pt=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),Gt=Symbol.for("react.strict_mode"),Zt=Symbol.for("react.profiler"),Kt=Symbol.for("react.provider"),Pt=Symbol.for("react.context"),Pn=Symbol.for("react.forward_ref"),On=Symbol.for("react.suspense"),Jt=Symbol.for("react.suspense_list"),e=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),u=Symbol.for("react.scope"),f=Symbol.for("react.debug_trace_mode"),k=Symbol.for("react.legacy_hidden"),x=Symbol.for("react.default_value"),A=Symbol.iterator;function U(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ht:return"Fragment";case pt:return"Portal";case Zt:return"Profiler";case Gt:return"StrictMode";case On:return"Suspense";case Jt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pt:return(t.displayName||"Context")+".Consumer";case Kt:return(t._context.displayName||"Context")+".Provider";case Pn:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e:return o=t.displayName||null,o!==null?o:U(t.type)||"Memo";case s:o=t._payload,t=t._init;try{return U(t(o))}catch{}}return null}var Y={};function Q(t,o){if(t=t.contextTypes,!t)return Y;var c={},d;for(d in t)c[d]=o[d];return c}var re=null;function ve(t,o){if(t!==o){t.context._currentValue=t.parentValue,t=t.parent;var c=o.parent;if(t===null){if(c!==null)throw Error(r(401))}else{if(c===null)throw Error(r(401));ve(t,c)}o.context._currentValue=o.value}}function He(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&He(t)}function Ue(t){var o=t.parent;o!==null&&Ue(o),t.context._currentValue=t.value}function Me(t,o){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(r(402));t.depth===o.depth?ve(t,o):Me(t,o)}function mt(t,o){var c=o.parent;if(c===null)throw Error(r(402));t.depth===c.depth?ve(t,c):mt(t,c),o.context._currentValue=o.value}function Ye(t){var o=re;o!==t&&(o===null?Ue(t):t===null?He(o):o.depth===t.depth?ve(o,t):o.depth>t.depth?Me(o,t):mt(o,t),re=t)}var Yt={isMounted:function(){return!1},enqueueSetState:function(t,o){t=t._reactInternals,t.queue!==null&&t.queue.push(o)},enqueueReplaceState:function(t,o){t=t._reactInternals,t.replace=!0,t.queue=[o]},enqueueForceUpdate:function(){}};function gt(t,o,c,d){var C=t.state!==void 0?t.state:null;t.updater=Yt,t.props=c,t.state=C;var v={queue:[],replace:!1};t._reactInternals=v;var B=o.contextType;if(t.context=typeof B=="object"&&B!==null?B._currentValue:d,B=o.getDerivedStateFromProps,typeof B=="function"&&(B=B(c,C),C=B==null?C:ot({},C,B),t.state=C),typeof o.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(o=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),o!==t.state&&Yt.enqueueReplaceState(t,t.state,null),v.queue!==null&&0<v.queue.length)if(o=v.queue,B=v.replace,v.queue=null,v.replace=!1,B&&o.length===1)t.state=o[0];else{for(v=B?o[0]:t.state,C=!0,B=B?1:0;B<o.length;B++){var N=o[B];N=typeof N=="function"?N.call(t,v,c,d):N,N!=null&&(C?(C=!1,v=ot({},v,N)):ot(v,N))}t.state=v}else v.queue=null}var jn={id:1,overflow:""};function st(t,o,c){var d=t.id;t=t.overflow;var C=32-Dn(d)-1;d&=~(1<<C),c+=1;var v=32-Dn(o)+C;if(30<v){var B=C-C%5;return v=(d&(1<<B)-1).toString(32),d>>=B,C-=B,{id:1<<32-Dn(o)+C|c<<C|d,overflow:v+t}}return{id:1<<v|c<<C|d,overflow:t}}var Dn=Math.clz32?Math.clz32:$a,Ha=Math.log,Ua=Math.LN2;function $a(t){return t>>>=0,t===0?32:31-(Ha(t)/Ua|0)|0}function Va(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var za=typeof Object.is=="function"?Object.is:Va,Xe=null,yr=null,Nn=null,ge=null,Xt=!1,Fn=!1,Qt=0,at=null,Rn=0;function yt(){if(Xe===null)throw Error(r(321));return Xe}function uo(){if(0<Rn)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function br(){return ge===null?Nn===null?(Xt=!1,Nn=ge=uo()):(Xt=!0,ge=Nn):ge.next===null?(Xt=!1,ge=ge.next=uo()):(Xt=!0,ge=ge.next),ge}function Sr(){yr=Xe=null,Fn=!1,Nn=null,Rn=0,ge=at=null}function fo(t,o){return typeof o=="function"?o(t):o}function po(t,o,c){if(Xe=yt(),ge=br(),Xt){var d=ge.queue;if(o=d.dispatch,at!==null&&(c=at.get(d),c!==void 0)){at.delete(d),d=ge.memoizedState;do d=t(d,c.action),c=c.next;while(c!==null);return ge.memoizedState=d,[d,o]}return[ge.memoizedState,o]}return t=t===fo?typeof o=="function"?o():o:c!==void 0?c(o):o,ge.memoizedState=t,t=ge.queue={last:null,dispatch:null},t=t.dispatch=Wa.bind(null,Xe,t),[ge.memoizedState,t]}function ho(t,o){if(Xe=yt(),ge=br(),o=o===void 0?null:o,ge!==null){var c=ge.memoizedState;if(c!==null&&o!==null){var d=c[1];e:if(d===null)d=!1;else{for(var C=0;C<d.length&&C<o.length;C++)if(!za(o[C],d[C])){d=!1;break e}d=!0}if(d)return c[0]}}return t=t(),ge.memoizedState=[t,o],t}function Wa(t,o,c){if(25<=Rn)throw Error(r(301));if(t===Xe)if(Fn=!0,t={action:c,next:null},at===null&&(at=new Map),c=at.get(o),c===void 0)at.set(o,t);else{for(o=c;o.next!==null;)o=o.next;o.next=t}}function qa(){throw Error(r(394))}function Ln(){}var mo={readContext:function(t){return t._currentValue},useContext:function(t){return yt(),t._currentValue},useMemo:ho,useReducer:po,useRef:function(t){Xe=yt(),ge=br();var o=ge.memoizedState;return o===null?(t={current:t},ge.memoizedState=t):o},useState:function(t){return po(fo,t)},useInsertionEffect:Ln,useLayoutEffect:function(){},useCallback:function(t,o){return ho(function(){return t},o)},useImperativeHandle:Ln,useEffect:Ln,useDebugValue:Ln,useDeferredValue:function(t){return yt(),t},useTransition:function(){return yt(),[!1,qa]},useId:function(){var t=yr.treeContext,o=t.overflow;t=t.id,t=(t&~(1<<32-Dn(t)-1)).toString(32)+o;var c=Hn;if(c===null)throw Error(r(404));return o=Qt++,t=":"+c.idPrefix+"R"+t,0<o&&(t+="H"+o.toString(32)),t+":"},useMutableSource:function(t,o){return yt(),o(t._source)},useSyncExternalStore:function(t,o,c){if(c===void 0)throw Error(r(407));return c()}},Hn=null,xr=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ga(t){return console.error(t),null}function en(){}function Za(t,o,c,d,C,v,B,N,X){var ie=[],se=new Set;return o={destination:null,responseState:o,progressiveChunkSize:d===void 0?12800:d,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:se,pingedTasks:ie,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:C===void 0?Ga:C,onAllReady:v===void 0?en:v,onShellReady:B===void 0?en:B,onShellError:N===void 0?en:N,onFatalError:X===void 0?en:X},c=Un(o,0,null,c,!1,!1),c.parentFlushed=!0,t=vr(o,t,null,c,se,Y,null,jn),ie.push(t),o}function vr(t,o,c,d,C,v,B,N){t.allPendingTasks++,c===null?t.pendingRootTasks++:c.pendingTasks++;var X={node:o,ping:function(){var ie=t.pingedTasks;ie.push(X),ie.length===1&&wo(t)},blockedBoundary:c,blockedSegment:d,abortSet:C,legacyContext:v,context:B,treeContext:N};return C.add(X),X}function Un(t,o,c,d,C,v){return{status:0,id:-1,index:o,parentFlushed:!1,chunks:[],children:[],formatContext:d,boundary:c,lastPushedText:C,textEmbedded:v}}function tn(t,o){if(t=t.onError(o),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function $n(t,o){var c=t.onShellError;c(o),c=t.onFatalError,c(o),t.destination!==null?(t.status=2,w(t.destination,o)):(t.status=1,t.fatalError=o)}function go(t,o,c,d,C){for(Xe={},yr=o,Qt=0,t=c(d,C);Fn;)Fn=!1,Qt=0,Rn+=1,ge=null,t=c(d,C);return Sr(),t}function yo(t,o,c,d){var C=c.render(),v=d.childContextTypes;if(v!=null){var B=o.legacyContext;if(typeof c.getChildContext!="function")d=B;else{c=c.getChildContext();for(var N in c)if(!(N in v))throw Error(r(108,U(d)||"Unknown",N));d=ot({},B,c)}o.legacyContext=d,Pe(t,o,C),o.legacyContext=B}else Pe(t,o,C)}function bo(t,o){if(t&&t.defaultProps){o=ot({},o),t=t.defaultProps;for(var c in t)o[c]===void 0&&(o[c]=t[c]);return o}return o}function wr(t,o,c,d,C){if(typeof c=="function")if(c.prototype&&c.prototype.isReactComponent){C=Q(c,o.legacyContext);var v=c.contextType;v=new c(d,typeof v=="object"&&v!==null?v._currentValue:C),gt(v,c,d,C),yo(t,o,v,c)}else{v=Q(c,o.legacyContext),C=go(t,o,c,d,v);var B=Qt!==0;if(typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0)gt(C,c,d,v),yo(t,o,C,c);else if(B){d=o.treeContext,o.treeContext=st(d,1,0);try{Pe(t,o,C)}finally{o.treeContext=d}}else Pe(t,o,C)}else if(typeof c=="string"){switch(C=o.blockedSegment,v=gn(C.chunks,c,d,t.responseState,C.formatContext),C.lastPushedText=!1,B=C.formatContext,C.formatContext=te(B,c,d),Cr(t,o,v),C.formatContext=B,c){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:C.chunks.push(yn,h(c),bn)}C.lastPushedText=!1}else{switch(c){case k:case f:case Gt:case Zt:case ht:Pe(t,o,d.children);return;case Jt:Pe(t,o,d.children);return;case u:throw Error(r(343));case On:e:{c=o.blockedBoundary,C=o.blockedSegment,v=d.fallback,d=d.children,B=new Set;var N={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:B,errorDigest:null},X=Un(t,C.chunks.length,N,C.formatContext,!1,!1);C.children.push(X),C.lastPushedText=!1;var ie=Un(t,0,null,C.formatContext,!1,!1);ie.parentFlushed=!0,o.blockedBoundary=N,o.blockedSegment=ie;try{if(Cr(t,o,d),ie.lastPushedText&&ie.textEmbedded&&ie.chunks.push(pe),ie.status=1,Vn(N,ie),N.pendingTasks===0)break e}catch(se){ie.status=4,N.forceClientRender=!0,N.errorDigest=tn(t,se)}finally{o.blockedBoundary=c,o.blockedSegment=C}o=vr(t,v,c,X,B,o.legacyContext,o.context,o.treeContext),t.pingedTasks.push(o)}return}if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Pn:if(d=go(t,o,c.render,d,C),Qt!==0){c=o.treeContext,o.treeContext=st(c,1,0);try{Pe(t,o,d)}finally{o.treeContext=c}}else Pe(t,o,d);return;case e:c=c.type,d=bo(c,d),wr(t,o,c,d,C);return;case Kt:if(C=d.children,c=c._context,d=d.value,v=c._currentValue,c._currentValue=d,B=re,re=d={parent:B,depth:B===null?0:B.depth+1,context:c,parentValue:v,value:d},o.context=d,Pe(t,o,C),t=re,t===null)throw Error(r(403));d=t.parentValue,t.context._currentValue=d===x?t.context._defaultValue:d,t=re=t.parent,o.context=t;return;case Pt:d=d.children,d=d(c._currentValue),Pe(t,o,d);return;case s:C=c._init,c=C(c._payload),d=bo(c,d),wr(t,o,c,d,void 0);return}throw Error(r(130,c==null?c:typeof c,""))}}function Pe(t,o,c){if(o.node=c,typeof c=="object"&&c!==null){switch(c.$$typeof){case Mn:wr(t,o,c.type,c.props,c.ref);return;case pt:throw Error(r(257));case s:var d=c._init;c=d(c._payload),Pe(t,o,c);return}if(W(c)){So(t,o,c);return}if(c===null||typeof c!="object"?d=null:(d=A&&c[A]||c["@@iterator"],d=typeof d=="function"?d:null),d&&(d=d.call(c))){if(c=d.next(),!c.done){var C=[];do C.push(c.value),c=d.next();while(!c.done);So(t,o,C)}return}throw t=Object.prototype.toString.call(c),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":t))}typeof c=="string"?(d=o.blockedSegment,d.lastPushedText=ne(o.blockedSegment.chunks,c,t.responseState,d.lastPushedText)):typeof c=="number"&&(d=o.blockedSegment,d.lastPushedText=ne(o.blockedSegment.chunks,""+c,t.responseState,d.lastPushedText))}function So(t,o,c){for(var d=c.length,C=0;C<d;C++){var v=o.treeContext;o.treeContext=st(v,d,C);try{Cr(t,o,c[C])}finally{o.treeContext=v}}}function Cr(t,o,c){var d=o.blockedSegment.formatContext,C=o.legacyContext,v=o.context;try{return Pe(t,o,c)}catch(X){if(Sr(),typeof X=="object"&&X!==null&&typeof X.then=="function"){c=X;var B=o.blockedSegment,N=Un(t,B.chunks.length,null,B.formatContext,B.lastPushedText,!0);B.children.push(N),B.lastPushedText=!1,t=vr(t,o.node,o.blockedBoundary,N,o.abortSet,o.legacyContext,o.context,o.treeContext).ping,c.then(t,t),o.blockedSegment.formatContext=d,o.legacyContext=C,o.context=v,Ye(v)}else throw o.blockedSegment.formatContext=d,o.legacyContext=C,o.context=v,Ye(v),X}}function Ka(t){var o=t.blockedBoundary;t=t.blockedSegment,t.status=3,vo(this,o,t)}function xo(t,o,c){var d=t.blockedBoundary;t.blockedSegment.status=3,d===null?(o.allPendingTasks--,o.status!==2&&(o.status=2,o.destination!==null&&o.destination.close())):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,t=c===void 0?Error(r(432)):c,d.errorDigest=o.onError(t),d.parentFlushed&&o.clientRenderedBoundaries.push(d)),d.fallbackAbortableTasks.forEach(function(C){return xo(C,o,c)}),d.fallbackAbortableTasks.clear(),o.allPendingTasks--,o.allPendingTasks===0&&(d=o.onAllReady,d()))}function Vn(t,o){if(o.chunks.length===0&&o.children.length===1&&o.children[0].boundary===null){var c=o.children[0];c.id=o.id,c.parentFlushed=!0,c.status===1&&Vn(t,c)}else t.completedSegments.push(o)}function vo(t,o,c){if(o===null){if(c.parentFlushed){if(t.completedRootSegment!==null)throw Error(r(389));t.completedRootSegment=c}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=en,o=t.onShellReady,o())}else o.pendingTasks--,o.forceClientRender||(o.pendingTasks===0?(c.parentFlushed&&c.status===1&&Vn(o,c),o.parentFlushed&&t.completedBoundaries.push(o),o.fallbackAbortableTasks.forEach(Ka,t),o.fallbackAbortableTasks.clear()):c.parentFlushed&&c.status===1&&(Vn(o,c),o.completedSegments.length===1&&o.parentFlushed&&t.partialBoundaries.push(o)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function wo(t){if(t.status!==2){var o=re,c=xr.current;xr.current=mo;var d=Hn;Hn=t.responseState;try{var C=t.pingedTasks,v;for(v=0;v<C.length;v++){var B=C[v],N=t,X=B.blockedSegment;if(X.status===0){Ye(B.context);try{Pe(N,B,B.node),X.lastPushedText&&X.textEmbedded&&X.chunks.push(pe),B.abortSet.delete(B),X.status=1,vo(N,B.blockedBoundary,X)}catch(Ve){if(Sr(),typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"){var ie=B.ping;Ve.then(ie,ie)}else{B.abortSet.delete(B),X.status=4;var se=B.blockedBoundary,be=Ve,Oe=tn(N,be);if(se===null?$n(N,be):(se.pendingTasks--,se.forceClientRender||(se.forceClientRender=!0,se.errorDigest=Oe,se.parentFlushed&&N.clientRenderedBoundaries.push(se))),N.allPendingTasks--,N.allPendingTasks===0){var $e=N.onAllReady;$e()}}}finally{}}}C.splice(0,v),t.destination!==null&&kr(t,t.destination)}catch(Ve){tn(t,Ve),$n(t,Ve)}finally{Hn=d,xr.current=c,c===mo&&Ye(o)}}}function zn(t,o,c){switch(c.parentFlushed=!0,c.status){case 0:var d=c.id=t.nextSegmentId++;return c.lastPushedText=!1,c.textEmbedded=!1,t=t.responseState,l(o,Ct),l(o,t.placeholderPrefix),t=h(d.toString(16)),l(o,t),p(o,Sn);case 1:c.status=2;var C=!0;d=c.chunks;var v=0;c=c.children;for(var B=0;B<c.length;B++){for(C=c[B];v<C.index;v++)l(o,d[v]);C=Wn(t,o,C)}for(;v<d.length-1;v++)l(o,d[v]);return v<d.length&&(C=p(o,d[v])),C;default:throw Error(r(390))}}function Wn(t,o,c){var d=c.boundary;if(d===null)return zn(t,o,c);if(d.parentFlushed=!0,d.forceClientRender)d=d.errorDigest,p(o,kt),l(o,cr),d&&(l(o,dr),l(o,h(j(d))),l(o,ur)),p(o,fr),zn(t,o,c);else if(0<d.pendingTasks){d.rootSegmentID=t.nextSegmentId++,0<d.completedSegments.length&&t.partialBoundaries.push(d);var C=t.responseState,v=C.nextSuspenseID++;C=m(C.boundaryPrefix+v.toString(16)),d=d.id=C,Ne(o,t.responseState,d),zn(t,o,c)}else if(d.byteSize>t.progressiveChunkSize)d.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(d),Ne(o,t.responseState,d.id),zn(t,o,c);else{if(p(o,xn),c=d.completedSegments,c.length!==1)throw Error(r(391));Wn(t,o,c[0])}return p(o,lr)}function Co(t,o,c){return mr(o,t.responseState,c.formatContext,c.id),Wn(t,o,c),dt(o,c.formatContext)}function ko(t,o,c){for(var d=c.completedSegments,C=0;C<d.length;C++)To(t,o,c,d[C]);if(d.length=0,t=t.responseState,d=c.id,c=c.rootSegmentID,l(o,t.startInlineScript),t.sentCompleteBoundaryFunction?l(o,En):(t.sentCompleteBoundaryFunction=!0,l(o,Mt)),d===null)throw Error(r(395));return c=h(c.toString(16)),l(o,d),l(o,In),l(o,t.segmentPrefix),l(o,c),p(o,An)}function To(t,o,c,d){if(d.status===2)return!0;var C=d.id;if(C===-1){if((d.id=c.rootSegmentID)===-1)throw Error(r(392));return Co(t,o,d)}return Co(t,o,d),t=t.responseState,l(o,t.startInlineScript),t.sentCompleteSegmentFunction?l(o,Vt):(t.sentCompleteSegmentFunction=!0,l(o,gr)),l(o,t.segmentPrefix),C=h(C.toString(16)),l(o,C),l(o,_t),l(o,t.placeholderPrefix),l(o,C),p(o,ft)}function kr(t,o){a=new Uint8Array(512),i=0;try{var c=t.completedRootSegment;if(c!==null&&t.pendingRootTasks===0){Wn(t,o,c),t.completedRootSegment=null;var d=t.responseState.bootstrapChunks;for(c=0;c<d.length-1;c++)l(o,d[c]);c<d.length&&p(o,d[c])}var C=t.clientRenderedBoundaries,v;for(v=0;v<C.length;v++){var B=C[v];d=o;var N=t.responseState,X=B.id,ie=B.errorDigest,se=B.errorMessage,be=B.errorComponentStack;if(l(d,N.startInlineScript),N.sentClientRenderFunction?l(d,Be):(N.sentClientRenderFunction=!0,l(d,zt)),X===null)throw Error(r(395));l(d,X),l(d,Bn),(ie||se||be)&&(l(d,qt),l(d,h(rt(ie||"")))),(se||be)&&(l(d,qt),l(d,h(rt(se||"")))),be&&(l(d,qt),l(d,h(rt(be)))),p(d,Wt)}C.splice(0,v);var Oe=t.completedBoundaries;for(v=0;v<Oe.length;v++)ko(t,o,Oe[v]);Oe.splice(0,v),y(o),a=new Uint8Array(512),i=0;var $e=t.partialBoundaries;for(v=0;v<$e.length;v++){var Ve=$e[v];e:{C=t,B=o;var qn=Ve.completedSegments;for(N=0;N<qn.length;N++)if(!To(C,B,Ve,qn[N])){N++,qn.splice(0,N);var Io=!1;break e}qn.splice(0,N),Io=!0}if(!Io){t.destination=null,v++,$e.splice(0,v);return}}$e.splice(0,v);var Tr=t.completedBoundaries;for(v=0;v<Tr.length;v++)ko(t,o,Tr[v]);Tr.splice(0,v)}finally{y(o),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&o.close()}}function Eo(t,o){try{var c=t.abortableTasks;c.forEach(function(d){return xo(d,t,o)}),c.clear(),t.destination!==null&&kr(t,t.destination)}catch(d){tn(t,d),$n(t,d)}}return rn.renderToReadableStream=function(t,o){return new Promise(function(c,d){var C,v,B=new Promise(function(se,be){v=se,C=be}),N=Za(t,fe(o?o.identifierPrefix:void 0,o?o.nonce:void 0,o?o.bootstrapScriptContent:void 0,o?o.bootstrapScripts:void 0,o?o.bootstrapModules:void 0),ue(o?o.namespaceURI:void 0),o?o.progressiveChunkSize:void 0,o?o.onError:void 0,v,function(){var se=new ReadableStream({type:"bytes",pull:function(be){if(N.status===1)N.status=2,w(be,N.fatalError);else if(N.status!==2&&N.destination===null){N.destination=be;try{kr(N,be)}catch(Oe){tn(N,Oe),$n(N,Oe)}}},cancel:function(){Eo(N)}},{highWaterMark:0});se.allReady=B,c(se)},function(se){B.catch(function(){}),d(se)},C);if(o&&o.signal){var X=o.signal,ie=function(){Eo(N,X.reason),X.removeEventListener("abort",ie)};X.addEventListener("abort",ie)}wo(N)})},rn.version="18.3.1",rn}var Gr;function Is(){if(Gr)return Qe;Gr=1;var n,r;return n=Ts(),r=Es(),Qe.version=n.version,Qe.renderToString=n.renderToString,Qe.renderToStaticMarkup=n.renderToStaticMarkup,Qe.renderToNodeStream=n.renderToNodeStream,Qe.renderToStaticNodeStream=n.renderToStaticNodeStream,Qe.renderToReadableStream=r.renderToReadableStream,Qe}var As=Is();const Bs=Ir(As),_s=()=>{var a;const{settings:n}=ae(),{styles:r}=he();return b.jsx("div",{className:"rcb-line-break-container",children:b.jsx("div",{style:{...r.chatHistoryLineBreakStyle},className:"rcb-line-break-text","data-testid":"chat-history-line-break-text",children:(a=n.chatHistory)==null?void 0:a.chatHistoryLineBreakText})})},Ms=()=>{var i;const{settings:n}=ae(),{styles:r}=he(),a={borderTop:`4px solid ${(i=n.general)==null?void 0:i.primaryColor}`,...r.loadingSpinnerStyle};return b.jsx("div",{className:"rcb-spinner-container",children:b.jsx("div",{style:a,className:"rcb-spinner"})})},on=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();throw new Error("crypto.randomUUID not available")}catch(n){if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function")return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=crypto.getRandomValues(new Uint8Array(1))[0]%16;return(r==="x"?a:a&3|8).toString(16)});throw console.error(n),new Error("crypto.getRandomValues is also not available")}},et=(n,r)=>({id:on(),content:n,sender:r,type:typeof n=="string"?"string":"object",timestamp:new Date().toUTCString(),tags:[]});let Ke,Zr=!1,sn="rcb-history",an=30,Kr=!1,ln=[];const Jn=async n=>{if(Kr||!Ke)return;const r=[],a=Zr?ln.length:0;for(let l=n.length-1;l>=a;l--){const p=n[l];if(p.sender.toUpperCase()!=="SYSTEM"&&(p.content!==""&&r.unshift(p),r.length===an))break}let i=r.map(Ns);if(i.length<an){const l=an-i.length;i=[...ln.slice(-l),...i]}Os(i)},Ps=n=>{if(n!=null)try{return JSON.parse(n)}catch{return[]}return[]},Jr=()=>ln,Os=n=>{Ke&&Ke.setItem(sn,JSON.stringify(n))},js=()=>{Ke&&Ke.removeItem(sn)},Ds=n=>{var r,a,i,l,p;((a=(r=n.chatHistory)==null?void 0:r.storageType)==null?void 0:a.toUpperCase())==="SESSION_STORAGE"?Ke=sessionStorage:Ke=localStorage,sn=(i=n.chatHistory)==null?void 0:i.storageKey,an=(l=n.chatHistory)==null?void 0:l.maxEntries,Kr=(p=n.chatHistory)==null?void 0:p.disabled,ln=Ps(Ke.getItem(sn))},Ns=n=>S.isValidElement(n.content)?structuredClone({id:n.id,content:Bs.renderToString(n.content),type:n.type,sender:n.sender.toUpperCase(),timestamp:n.timestamp,tags:n.tags}):n,Fs=(n,r,a,i,l,p,y,g,h)=>{var m;if(Zr=!0,a!=null)try{const w=et(b.jsx(Ms,{}),"SYSTEM"),T=l.current.slice(1);i([w,...T]);const _=a.map(I=>{if(I.type==="object"){const E=Yr(I.content,n,r);return{...I,content:E}}return I});setTimeout(()=>{var O;const I=l.current.slice(1);let E=(O=n.chatHistory)!=null&&O.autoLoad?et(b.jsx(b.Fragment,{}),"SYSTEM"):et(b.jsx(_s,{}),"SYSTEM");i([..._,E,...I]),h(!0)},500),setTimeout(()=>{if(!p.current)return;const{scrollHeight:I}=p.current,E=I-y;p.current.scrollTop+=E,g(!1)},510)}catch{Ke.removeItem((m=n.chatHistory)==null?void 0:m.storageKey)}},Yr=(n,r,a)=>{const l=new DOMParser().parseFromString(n,"text/html");return Array.from(l.body.childNodes).map((g,h)=>{var m;if(g.nodeType===Node.TEXT_NODE)return g.textContent;{const w=g.tagName.toLowerCase();let T=Array.from(g.attributes).reduce((I,E)=>{const O=E.name.toLowerCase();if(O==="style"){const P=E.value.split(";").filter(F=>F.trim()!==""),R={};P.forEach(F=>{const[L,V]=F.split(":").map(M=>M.trim()),$=L.replace(/-([a-z])/g,(M,j)=>j.toUpperCase());R[$]=V}),I[O]=R}else(w==="audio"||w==="video")&&O==="controls"&&E.value===""?I[O]="true":I[O]=E.value;return I},{});if(Object.prototype.hasOwnProperty.call(T,"class")){const I=g.classList;T.className=I.toString(),delete T.class,(m=r.botBubble)!=null&&m.showAvatar&&(T=Rs(I,T)),T=Ls(I,T,r,a),T=Hs(I,T,r,a),T=Us(I,T,r,a),T=$s(I,T,r,a)}if(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"].includes(w))return S.createElement(w,{key:h,...T});{const I=Yr(g.innerHTML,r,a);return S.createElement(w,{key:h,...T},...I)}}})},Rs=(n,r)=>((n.contains("rcb-options-container")||n.contains("rcb-checkbox-container"))&&(r.className=`${n.toString()} rcb-options-offset`),r),Ls=(n,r,a,i)=>{var l,p,y,g,h;return n.contains("rcb-options")&&(r.style={...r.style,color:((l=i.botOptionStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((y=i.botOptionStyle)==null?void 0:y.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(h=a.general)==null?void 0:h.actionDisabledIcon}"), auto`,...i.botOptionStyle}),r},Hs=(n,r,a,i)=>{var l,p,y,g,h;return n.contains("rcb-checkbox-row-container")&&(r.style={...r.style,color:((l=i.botCheckboxRowStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((y=i.botCheckboxRowStyle)==null?void 0:y.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(h=a.general)==null?void 0:h.actionDisabledIcon}"), auto`,...i.botCheckboxRowStyle}),r},Us=(n,r,a,i)=>{var l,p,y,g,h;return n.contains("rcb-checkbox-next-button")&&(r.style={...r.style,color:((l=i.botCheckboxNextStyle)==null?void 0:l.color)??((p=a.general)==null?void 0:p.primaryColor),borderColor:((y=i.botCheckboxNextStyle)==null?void 0:y.color)??((g=a.general)==null?void 0:g.primaryColor),cursor:`url("${(h=a.general)==null?void 0:h.actionDisabledIcon}"), auto`,...i.botCheckboxNextStyle}),r},$s=(n,r,a,i)=>{var l,p;return(n.contains("rcb-media-display-image-container")||n.contains("rcb-media-display-video-container"))&&(r.style={...r.style,backgroundColor:(l=a.general)==null?void 0:l.primaryColor,maxWidth:(p=a.userBubble)!=null&&p.showAvatar?"65%":"70%",...i.mediaDisplayContainerStyle}),r},Yn=()=>{const{settings:n}=ae(),{notificationsToggledOn:r,setSyncedNotificationsToggledOn:a,hasInteractedPage:i,unreadCount:l,setUnreadCount:p,syncedNotificationsToggledOnRef:y}=Ie(),{audioBufferRef:g,audioContextRef:h,gainNodeRef:m}=Ee(),{dispatchRcbEvent:w}=Re(),T=S.useCallback(async()=>{var R,F;const E=(R=n.notification)==null?void 0:R.sound;h.current=new AudioContext;const O=h.current.createGain();O.gain.value=((F=n.notification)==null?void 0:F.volume)??.2,m.current=O;let P;if(E!=null&&E.startsWith("data:audio")){const L=atob(E.split(",")[1]),V=new ArrayBuffer(L.length),$=new Uint8Array(V);for(let M=0;M<L.length;M++)$[M]=L.charCodeAt(M);P=V}else P=await(await fetch(E)).arrayBuffer();g.current=await h.current.decodeAudioData(P)},[n.notification]),_=S.useCallback(()=>{var O;if((O=n.notification)!=null&&O.disabled||!y.current||!i||!h.current||!g.current)return;const E=h.current.createBufferSource();E.buffer=g.current,E.connect(m.current).connect(h.current.destination),E.start()},[n.notification,y,i,h,g,m]),I=S.useCallback(async E=>{var O;E!==y.current&&((O=n.event)!=null&&O.rcbToggleNotifications&&(await w(J.TOGGLE_NOTIFICATIONS,{currState:y.current,newState:!y.current})).defaultPrevented||a(P=>!P))},[y]);return{unreadCount:l,setUnreadCount:p,notificationsToggledOn:r,toggleNotifications:I,playNotificationSound:_,setUpNotifications:T}},Vs=(n,r,a,i,l)=>{if(!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const p=new window.SpeechSynthesisUtterance;p.text=n,p.lang=r,p.rate=i,p.volume=l;let y=!1;for(const g of a)if(window.speechSynthesis.getVoices().find(h=>{if(h.name===g){p.voice=h,window.speechSynthesis.speak(p),y=!0;return}}),y)break;y||window.speechSynthesis.speak(p)},zs=(n,r)=>{var a,i,l,p;Vs(r,(a=n.audio)==null?void 0:a.language,(i=n.audio)==null?void 0:i.voiceNames,(l=n.audio)==null?void 0:l.rate,(p=n.audio)==null?void 0:p.volume)},Xr=()=>{const{settings:n}=ae(),{audioToggledOn:r,setSyncedAudioToggledOn:a,syncedAudioToggledOnRef:i}=Ie(),{dispatchRcbEvent:l}=Re(),p=S.useCallback(async g=>{var h;g!==i.current&&((h=n.event)!=null&&h.rcbToggleAudio&&(await l(J.TOGGLE_AUDIO,{currState:i.current,newState:!i.current})).defaultPrevented||a(m=>!m))},[i]),y=S.useCallback(async g=>{var m,w;if((m=n.audio)!=null&&m.disabled||!i.current)return;let h=g;if((w=n.event)!=null&&w.rcbStartSpeakAudio){const T=await l(J.START_SPEAK_AUDIO,{textToRead:h});if(T.defaultPrevented)return;h=T.data.textToRead}zs(n,h)},[n,i]);return{audioToggledOn:r,speakAudio:y,toggleAudio:p}},Nt=()=>{var j,Z;const{settings:n}=ae(),{messages:r,setSyncedMessages:a,syncedMessagesRef:i}=Kn(),{setSyncedIsBotTyping:l,setUnreadCount:p,syncedIsScrollingRef:y,syncedIsChatWindowOpenRef:g}=Ie(),{streamMessageMap:h,chatBodyRef:m,paramsInputRef:w}=Ee(),{scrollToBottom:T,getIsChatBotVisible:_}=je(),{dispatchRcbEvent:I}=Re(),{speakAudio:E}=Xr(),{playNotificationSound:O}=Yn(),P=S.useCallback((z,W=!1)=>{var G,K;Jn(z);let D=!0;const H=z[z.length-1];if(!H)return;const q=H.sender.toUpperCase();q==="USER"&&(D=!1),(G=n.general)!=null&&G.embedded&&_()&&(D=!1),(g.current&&!y.current||W)&&(D=!1),D&&O(),!W&&(q!=="USER"&&((K=n.chatWindow)!=null&&K.autoJumpToBottom)||q==="USER"||!y.current)&&setTimeout(()=>T(),1)},[n,m,g,y,O,T,_]),R=S.useCallback(async(z,W="BOT",D=null)=>{var le,ue,te,pe,ne;if(typeof z!="string")throw new Error("Content must be of type string to simulate stream.");W=W.toUpperCase();let H=et(z,W);if((le=n.event)!=null&&le.rcbStartSimulateStreamMessage){const ee=await I(J.START_SIMULATE_STREAM_MESSAGE,{message:H});if(ee.defaultPrevented)return null;D=ee.data.simulateStreamChunker||D,H=ee.data.message}l(!1);let q=30;W==="BOT"?q=(ue=n.botBubble)==null?void 0:ue.streamSpeed:q=(te=n.userBubble)==null?void 0:te.streamSpeed;const G={...H,content:""};a(ee=>[...ee,G]),P(i.current);let K=H.content;D&&(K=D(K));let ce=0;const oe=K.length;H.sender.toUpperCase()==="BOT"&&(g.current||(pe=n.general)!=null&&pe.embedded)&&typeof H.content=="string"&&H.content.trim()!==""&&E(H.content);const fe=new Promise(ee=>{const de=setInterval(()=>{if(ce>=oe){clearInterval(de),ee();return}a(xe=>{const ye=[...xe];for(let Ce=ye.length-1;Ce>=0;Ce--)if(ye[Ce].id===G.id){const we=K[ce];we&&(G.content+=we,ye[Ce]=G),ce++;break}return ye})},q)});return(y.current||!g.current)&&p(ee=>ee+1),await fe,Jn(i.current),(ne=n.event)!=null&&ne.rcbStopSimulateStreamMessage&&await I(J.STOP_SIMULATE_STREAM_MESSAGE,{message:H}),W==="USER"&&(w.current=z),H},[n,I,P,i,w,l,p,g,E]),F=S.useCallback(async(z,W="BOT")=>{var H,q,G;W=W.toUpperCase();let D=et(z,W);if((H=n.event)!=null&&H.rcbPreInjectMessage){const K=await I(J.PRE_INJECT_MESSAGE,{message:D});if(K.defaultPrevented)return null;D=K.data.message}return D.sender.toUpperCase()==="BOT"&&(g.current||(q=n.general)!=null&&q.embedded)&&typeof D.content=="string"&&D.content.trim()!==""&&E(D.content),(y.current||!g.current)&&p(K=>K+1),(G=n.event)!=null&&G.rcbPostInjectMessage&&await I(J.POST_INJECT_MESSAGE,{message:D}),a(K=>[...K,D]),P(i.current),W==="USER"&&typeof z=="string"&&(w.current=z),D},[n,I,P,w,i,g,E,p]),L=S.useCallback(async z=>{var D;const W=i.current.find(H=>H.id===z);return!W||(D=n.event)!=null&&D.rcbRemoveMessage&&(await I(J.REMOVE_MESSAGE,{message:W})).defaultPrevented?null:(a(H=>H.filter(q=>q.id!==z)),P(i.current),p(H=>Math.max(H-1,0)),W)},[I,(j=n.event)==null?void 0:j.rcbRemoveMessage,P,i,p]),V=S.useCallback(async(z,W="BOT")=>{var H,q;if(W=W.toUpperCase(),!h.current.has(W)){const G=et(z,W);return(H=n.event)!=null&&H.rcbStartStreamMessage&&(await I(J.START_STREAM_MESSAGE,{message:G})).defaultPrevented?null:(l(!1),a(K=>[...K,G]),P(i.current),h.current.set(W,G.id),(y.current||!g.current)&&p(K=>K+1),G)}const D={...et(z,W),id:h.current.get(W)};return(q=n.event)!=null&&q.rcbChunkStreamMessage&&(await I(J.CHUNK_STREAM_MESSAGE,{message:D})).defaultPrevented?null:(a(G=>G.map(K=>K.id===D.id?D:K)),P(i.current,!0),D)},[I,n.event,P,i,l,p,h]),$=S.useCallback(async(z="BOT")=>{var H;if(z=z.toUpperCase(),!h.current.has(z))return!0;const W=h.current.get(z);let D;for(let q=0;q<3;q++){const G=i.current.find(K=>K.id===W);G&&(D=G),await new Promise(K=>setTimeout(K,20))}return(H=n.event)!=null&&H.rcbStopStreamMessage&&(await I(J.STOP_STREAM_MESSAGE,{message:D})).defaultPrevented?!1:(h.current.delete(z),Jn(i.current),z==="USER"&&typeof(D==null?void 0:D.content)=="string"&&(w.current=D.content),!0)},[I,(Z=n.event)==null?void 0:Z.rcbStopStreamMessage,h,w]),M=S.useCallback(z=>{a(z),P(z)},[P]);return{simulateStreamMessage:R,injectMessage:F,removeMessage:L,streamMessage:V,endStreamMessage:$,replaceMessages:M,messages:r}};let Xn,ze,cn,tt=!1,Le=null;const Qn=()=>{if(!Xn){const n=window.SpeechRecognition||window.webkitSpeechRecognition;Xn=n!=null?new n:null}return Xn},Ws=(n,r,a,i,l,p,y)=>{var g;(g=n.voice)!=null&&g.sendAsAudio?Gs(a,p):qs(n,r,a,i,l,y)},qs=(n,r,a,i,l,p)=>{var m,w,T;const y=Qn();if(!y)return;if(!tt)try{tt=!0,y.lang=(m=n.voice)==null?void 0:m.language,y.start()}catch{}const g=(w=n.voice)==null?void 0:w.timeoutPeriod,h=(T=n.voice)==null?void 0:T.autoSendPeriod;y.onresult=_=>{var E,O;clearTimeout(ze),ze=null,clearTimeout(cn);const I=_.results[_.results.length-1][0].transcript;if(p.current){const P=(E=n.chatInput)==null?void 0:E.characterLimit,R=p.current.value+I;P!=null&&P>=0&&R.length>P?i(R.slice(0,P)):i(R),l(p.current.value.length)}g&&(ze=setTimeout(async()=>await tr(r,p),g)),(O=n.voice)!=null&&O.autoSendDisabled||(cn=setTimeout(a,h))},y.onend=()=>{tt?(y.start(),!ze&&g&&(ze=setTimeout(async()=>await tr(r,p),g))):(clearTimeout(ze),ze=null,clearTimeout(cn))},g&&(ze=setTimeout(async()=>await tr(r,p),g))},Gs=(n,r)=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(a=>{if(Le=new MediaRecorder(a),!tt)try{tt=!0,Le.start()}catch{}Le.ondataavailable=i=>{r.current&&r.current.push(i.data)},Le.onstop=()=>{n(),a.getTracks().forEach(i=>i.stop())}}).catch(a=>{console.error("Unable to use microphone:",a)})},er=()=>{const n=Qn();n&&(tt=!1,n&&n.stop(),Le&&Le.state!=="inactive"&&(Le.stop(),Le=null),clearTimeout(ze),ze=null,clearTimeout(cn))},Zs=(n,r)=>{var i,l,p;const a=Qn();(i=r.voice)!=null&&i.disabled||!((l=r.chatInput)!=null&&l.blockSpam)||!a||(n&&!tt?(tt=!0,(p=r.voice)!=null&&p.sendAsAudio?Le==null||Le.start():a.start()):n||er())},tr=async(n,r)=>{var a;(a=r.current)!=null&&a.disabled||await n(),er()},nr=()=>{const{settings:n}=ae(),{voiceToggledOn:r,setSyncedVoiceToggledOn:a,syncedVoiceToggledOnRef:i}=Ie(),{dispatchRcbEvent:l}=Re(),p=S.useCallback(async g=>{var h;g!==i.current&&((h=n.event)!=null&&h.rcbToggleVoice&&(await l(J.TOGGLE_VOICE,{currState:i.current,newState:!i.current})).defaultPrevented||a(m=>!m))},[i]),y=S.useCallback(g=>{Zs(g,n)},[n]);return{voiceToggledOn:r,toggleVoice:p,syncVoice:y}},bt=()=>{var $;const{settings:n}=ae(),{inputLength:r,setInputLength:a,textAreaDisabled:i,setSyncedTextAreaDisabled:l,textAreaSensitiveMode:p,setSyncedTextAreaSensitiveMode:y,syncedTextAreaDisabledRef:g,syncedTextAreaSensitiveModeRef:h}=Ie(),{inputRef:m,chatBodyRef:w,prevInputRef:T}=Ee(),{dispatchRcbEvent:_}=Re(),{getIsChatBotVisible:I}=je(),E=S.useCallback(async M=>{var j,Z,z;if(g.current&&m.current){m.current.value="";return}if(m.current&&T.current!==null){const W=(j=n.chatInput)==null?void 0:j.characterLimit,H=((Z=n.chatInput)==null?void 0:Z.allowNewline)?M:M.replace(/\n/g," ");if(W!=null&&W>=0&&H.length>W?m.current.value=H.slice(0,W):m.current.value=H,(z=n.event)!=null&&z.rcbTextAreaChangeValue&&(await _(J.TEXT_AREA_CHANGE_VALUE,{currValue:m.current.value,prevValue:T.current})).defaultPrevented){m.current.value=T.current;return}T.current=m.current.value}},[g,m,T,n,_]),O=S.useCallback(M=>{var j;(j=m.current)!=null&&j.disabled||setTimeout(()=>{var Z,z,W;(Z=n.general)!=null&&Z.embedded?I()&&((z=m.current)==null||z.focus()):M!=="start"&&((W=m.current)==null||W.focus())},100)},[m,($=n.general)==null?void 0:$.embedded,w,I]),P=S.useCallback(()=>{m.current&&m.current.focus()},[]),R=S.useCallback(()=>{m.current&&m.current.blur()},[]),F=S.useCallback(()=>m&&m.current?m.current.value:"",[]),L=S.useCallback(M=>{M!==g.current&&l(j=>!j)},[g]),V=S.useCallback(M=>{M!==h.current&&y(j=>!j)},[h]);return{textAreaDisabled:i,setSyncedTextAreaDisabled:l,textAreaSensitiveMode:p,setSyncedTextAreaSensitiveMode:y,inputLength:r,setInputLength:a,getTextAreaValue:F,setTextAreaValue:E,updateTextAreaFocus:O,focusTextArea:P,blurTextArea:R,toggleTextAreaDisabled:L,toggleTextAreaSensitiveMode:V}},Qr=S.createContext({toasts:[],setSyncedToasts:()=>{},syncedToastsRef:{current:[]}}),eo=()=>S.useContext(Qr),Ks=({children:n})=>{const[r,a,i]=Fe([]);return b.jsx(Qr.Provider,{value:{toasts:r,setSyncedToasts:a,syncedToastsRef:i},children:n})},un=()=>{const{settings:n}=ae(),{toasts:r,setSyncedToasts:a,syncedToastsRef:i}=eo(),{dispatchRcbEvent:l}=Re(),p=S.useCallback(async(h,m)=>{var E,O,P,R;let w=null;if(i.current.length>=(((E=n.toast)==null?void 0:E.maxCount)??3)){if((O=n.toast)!=null&&O.forbidOnMax)return null;w=on();let F={id:w,content:h,timeout:m};if((P=n.event)!=null&&P.rcbShowToast){const L=await l(J.SHOW_TOAST,{toast:F});if(L.defaultPrevented)return null;F=L.data.toast}return a(L=>[...L.slice(1),F]),w}w=on();let I={id:w,content:h,timeout:m};if((R=n.event)!=null&&R.rcbShowToast){const F=await l(J.SHOW_TOAST,{toast:I});if(F.defaultPrevented)return null;I=F.data.toast}return a(F=>[...F,I]),w},[n,l]),y=S.useCallback(async h=>{var w;const m=i.current.find(T=>T.id===h);return!m||(w=n.event)!=null&&w.rcbDismissToast&&(await l(J.DISMISS_TOAST,{toast:m})).defaultPrevented?null:(a(T=>T.filter(_=>_.id!==h)),h)},[l]),g=S.useCallback(h=>{a(h)},[]);return{showToast:p,dismissToast:y,toasts:r,replaceToasts:g}},rr=()=>{var ce,oe,fe,le,ue;const{settings:n}=ae(),{paths:r,setSyncedPaths:a,syncedPathsRef:i}=Dt(),{flowRef:l,streamMessageMap:p,paramsInputRef:y,keepVoiceOnRef:g,timeoutIdRef:h}=Ee(),{setSyncedIsBotTyping:m,setSyncedTextAreaDisabled:w,setSyncedTextAreaSensitiveMode:T,blockAllowsAttachment:_,setBlockAllowsAttachment:I}=Ie(),{dispatchRcbEvent:E}=Re(),{endStreamMessage:O,injectMessage:P,removeMessage:R,simulateStreamMessage:F,streamMessage:L}=Nt(),{showToast:V,dismissToast:$}=un(),{toggleChatWindow:M}=je(),{updateTextAreaFocus:j,setTextAreaValue:Z}=bt(),{syncVoice:z}=nr(),W=S.useCallback(async te=>{var pe;if((pe=n.event)!=null&&pe.rcbPostProcessBlock){const ne=await E(J.POST_PROCESS_BLOCK,{block:te});if(ne.defaultPrevented)return null;te=ne.data.block}return te},[(ce=n.event)==null?void 0:ce.rcbPostProcessBlock,E]),D=S.useCallback(async(te,pe)=>{var de,xe,ye,Ce;if(!te)return;let ne=l.current[te];if(!ne){m(!1);return}if((de=n.event)!=null&&de.rcbPreProcessBlock){const we=await E(J.PRE_PROCESS_BLOCK,{block:ne});if(we.defaultPrevented)return;ne=we.data.block}m(!0),(xe=n.chatInput)!=null&&xe.blockSpam&&w(!0),T(!1);const ee={prevPath:pe,currPath:te,goToPath:G,setTextAreaValue:Z,userInput:y.current,endStreamMessage:O,injectMessage:P,removeMessage:R,simulateStreamMessage:F,streamMessage:L,toggleChatWindow:M,showToast:V,dismissToast:$};await ks(ne,ee,((ye=n.botBubble)==null?void 0:ye.simulateStream)??!1,h,w,T,W),m(!1),"chatDisabled"in ne||w((Ce=n.chatInput)==null?void 0:Ce.disabled),"isSensitive"in ne||T(!1),I(typeof ne.file=="function"),j(te),z(g.current&&!ne.chatDisabled),te!==pe&&p.current.clear()},[l,j,z,(oe=n.botBubble)==null?void 0:oe.simulateStream,(fe=n.chatInput)==null?void 0:fe.disabled,y,O,P,R,F,L,M,V,$,g,p]),H=S.useCallback(()=>i.current.length>0?i.current.at(-1)??null:null,[]),q=S.useCallback(()=>i.current.length>1?i.current.at(-2)??null:null,[]),G=S.useCallback(async te=>{var ee;const pe=H(),ne=q();return(ee=n.event)!=null&&ee.rcbChangePath&&(await E(J.CHANGE_PATH,{currPath:pe,prevPath:ne,nextPath:te})).defaultPrevented?!1:(a(de=>[...de,te]),await D(te,pe),!0)},[(le=n.chatInput)==null?void 0:le.blockSpam,(ue=n.event)==null?void 0:ue.rcbChangePath,D,E]),K=S.useCallback(te=>{a(te)},[]);return{getCurrPath:H,getPrevPath:q,goToPath:G,blockAllowsAttachment:_,setBlockAllowsAttachment:I,paths:r,replacePaths:K,firePostProcessBlockEvent:W}},St=()=>{var ce,oe,fe,le;const{settings:n}=ae(),{endStreamMessage:r,injectMessage:a,removeMessage:i,simulateStreamMessage:l,streamMessage:p}=Nt(),{syncedPathsRef:y}=Dt(),{getCurrPath:g,getPrevPath:h,goToPath:m,firePostProcessBlockEvent:w}=rr(),{setSyncedTextAreaSensitiveMode:T,setSyncedTextAreaDisabled:_,setSyncedIsBotTyping:I,setBlockAllowsAttachment:E,setInputLength:O,syncedVoiceToggledOnRef:P,syncedTextAreaSensitiveModeRef:R}=Ie(),{flowRef:F,inputRef:L,keepVoiceOnRef:V,paramsInputRef:$,timeoutIdRef:M}=Ee(),{showToast:j,dismissToast:Z}=un(),{dispatchRcbEvent:z}=Re(),{syncVoice:W}=nr(),{setTextAreaValue:D}=bt(),{toggleChatWindow:H}=je(),q=S.useCallback(async ue=>{var ne,ee,de,xe,ye,Ce;const te=g();if(!(!te||!F.current[te])){if(R.current){if((ne=n==null?void 0:n.sensitiveInput)!=null&&ne.hideInUserBubble)return;if((ee=n==null?void 0:n.sensitiveInput)!=null&&ee.maskInUserBubble){(de=n.userBubble)!=null&&de.simulateStream?await l("*".repeat(((xe=n.sensitiveInput)==null?void 0:xe.asterisksCount)??10),"USER"):await a("*".repeat(((ye=n.sensitiveInput)==null?void 0:ye.asterisksCount)??10),"USER");return}}(Ce=n.userBubble)!=null&&Ce.simulateStream?await l(ue,"USER"):await a(ue,"USER")}},[F,g,n,a,l,R]),G=S.useCallback(async(ue,te=!0)=>{var de,xe;if(ue=ue.trim(),ue==="")return;te&&await q(ue),M.current&&clearTimeout(M.current),L.current&&(D(""),O(0));const pe=g();if(!pe)return;let ne=F.current[pe];const ee=await w(ne);ee&&((de=n.chatInput)!=null&&de.blockSpam&&_(!0),V.current=P.current,W(!1),setTimeout(()=>{I(!0)},400),T(!1),setTimeout(async()=>{var we;const ye={prevPath:h(),currPath:g(),goToPath:m,setTextAreaValue:D,userInput:$.current,injectMessage:a,simulateStreamMessage:l,streamMessage:p,removeMessage:i,endStreamMessage:r,toggleChatWindow:H,showToast:j,dismissToast:Z},Ce=y.current.length;await zr(ee,ye),y.current.length===Ce&&("chatDisabled"in ne?_(!!ne.chatDisabled):_(!!((we=n.chatInput)!=null&&we.disabled)),Vr(ne,ye,T),E(typeof ne.file=="function"),W(V.current),I(!1))},(xe=n.chatInput)==null?void 0:xe.botDelay))},[M,(ce=n.chatInput)==null?void 0:ce.blockSpam,(oe=n.chatInput)==null?void 0:oe.botDelay,(fe=n.chatInput)==null?void 0:fe.disabled,V,P,W,q,h,g,m,a,l,p,i,r,H,j,Z,F]);return{handleSubmitText:S.useCallback(async(ue,te=!0)=>{var ne,ee;ue=ue??((ne=L.current)==null?void 0:ne.value),!((ee=n.event)!=null&&ee.rcbUserSubmitText&&(await z(J.USER_SUBMIT_TEXT,{inputText:ue,sendInChat:te})).defaultPrevented||!g())&&G(ue,te)},[z,g,G,L,(le=n.event)==null?void 0:le.rcbUserSubmitText])}},dn=()=>{var a;const{settings:n}=ae();return S.useMemo(()=>{var y;if(typeof window>"u"||!window.navigator)return!1;if(!((y=n.device)!=null&&y.applyMobileOptimizations))return!0;const i=navigator.userAgent,l=!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i),p=window.innerWidth>=768;return l&&p},[(a=n.device)==null?void 0:a.applyMobileOptimizations])},Js=({buttons:n})=>{var q,G,K,ce,oe,fe,le,ue,te,pe,ne;const r=dn(),{settings:a}=ae(),{styles:i}=he(),{textAreaDisabled:l,textAreaSensitiveMode:p,inputLength:y,hasFlowStarted:g,setHasFlowStarted:h,setInputLength:m}=Ie(),{inputRef:w}=Ee(),[T,_]=S.useState(!1),[I,E]=S.useState(!1),{handleSubmitText:O}=St(),{setTextAreaValue:P}=bt(),R={boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle},F={outline:l?"":"none",boxShadow:l?"":`0 0 5px ${(q=a.general)==null?void 0:q.primaryColor}`,boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle,...i.chatInputAreaFocusedStyle},L={cursor:`url("${(G=a.general)==null?void 0:G.actionDisabledIcon}"), auto`,caretColor:"transparent",boxSizing:r?"content-box":"border-box",...i.chatInputAreaStyle,...i.chatInputAreaDisabledStyle},V={color:"#989898",...i.characterLimitStyle},$={color:"#ff0000",...i.characterLimitReachedStyle},M=l?(K=a.chatInput)==null?void 0:K.disabledPlaceholderText:(ce=a.chatInput)==null?void 0:ce.enabledPlaceholderText,j=()=>{l||_(!0)},Z=()=>{_(!1)},z=()=>{E(!0)},W=()=>{E(!1)},D=async ee=>{var de;if(!I&&ee.key==="Enter"){if(ee.shiftKey){(de=a.chatInput)!=null&&de.allowNewline||ee.preventDefault();return}ee.preventDefault(),await O()}},H=ee=>{w.current&&(P(ee.target.value),m(w.current.value.length))};return b.jsxs("div",{"aria-label":((oe=a.ariaLabel)==null?void 0:oe.inputTextArea)??"input text area",role:"textbox",onMouseDown:ee=>{var de;ee.stopPropagation(),!g&&((de=a.general)==null?void 0:de.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&h(!0)},style:{...i.chatInputContainerStyle},className:"rcb-chat-input",children:[p&&((fe=a.sensitiveInput)!=null&&fe.maskInTextArea)?b.jsx("input",{ref:w,type:"password",className:"rcb-chat-input-textarea",style:l?L:T?F:R,placeholder:M,onChange:H,onKeyDown:D,onFocus:j,onBlur:Z,onCompositionStart:z,onCompositionEnd:W}):b.jsx("textarea",{ref:w,style:l?L:T?F:R,rows:1,className:"rcb-chat-input-textarea",placeholder:M,onChange:H,onKeyDown:D,onFocus:j,onBlur:Z,onCompositionStart:z,onCompositionEnd:W}),b.jsxs(b.Fragment,{children:[n==null?void 0:n.map((ee,de)=>b.jsx(S.Fragment,{children:ee},de)),((le=a.chatInput)==null?void 0:le.showCharacterCount)&&((ue=a.chatInput)==null?void 0:ue.characterLimit)!=null&&((te=a.chatInput)==null?void 0:te.characterLimit)>0&&b.jsxs("div",{className:"rcb-chat-input-char-counter",style:y>=((pe=a.chatInput)==null?void 0:pe.characterLimit)?$:V,children:[y,"/",(ne=a.chatInput)==null?void 0:ne.characterLimit]})]})]})},Ys=({buttons:n})=>{var i;const{settings:r}=ae(),{styles:a}=he();return b.jsxs("div",{"data-testid":"chatbot-footer-container",style:{...a.footerStyle},className:"rcb-chat-footer-container",children:[b.jsx("div",{className:"rcb-chat-footer",children:n==null?void 0:n.map((l,p)=>b.jsx(S.Fragment,{children:l},p))}),b.jsx("span",{children:(i=r.footer)==null?void 0:i.text})]})},Xs=()=>{var h,m,w,T,_,I,E;const{settings:n}=ae(),{styles:r}=he(),{unreadCount:a}=Ie(),{isChatWindowOpen:i,toggleChatWindow:l}=je(),p={backgroundImage:`linear-gradient(to right, ${(h=n.general)==null?void 0:h.secondaryColor},
			${(m=n.general)==null?void 0:m.primaryColor})`,...r.chatButtonStyle},y={backgroundImage:`url(${(w=n.chatButton)==null?void 0:w.icon})`,fill:"#fff",width:75,height:75,...r.chatIconStyle},g=()=>{var P;const O=(P=n.chatButton)==null?void 0:P.icon;return!O||typeof O=="string"?b.jsx("span",{className:"rcb-toggle-icon",style:y}):O&&b.jsx("span",{className:"rcb-toggle-icon",children:b.jsx(O,{style:y})})};return b.jsx(b.Fragment,{children:!((T=n.general)!=null&&T.embedded)&&b.jsxs("div",{"aria-label":((_=n.ariaLabel)==null?void 0:_.chatButton)??"open chat",role:"button",style:p,className:`rcb-toggle-button ${i?"rcb-button-hide":"rcb-button-show"}`,onClick:()=>l(!0),children:[g(),!((I=n.notification)!=null&&I.disabled)&&((E=n.notification)==null?void 0:E.showCount)&&b.jsx("span",{style:{...r.notificationBadgeStyle},className:"rcb-badge",children:a})]})})},Qs=()=>{var E,O,P,R;const n=dn(),{settings:r}=ae(),{styles:a}=he(),{chatBodyRef:i}=Ee(),{isChatWindowOpen:l,toggleChatWindow:p}=je(),[y,g]=S.useState(!1),[h,m]=S.useState(!1),[w,T]=S.useState(0);S.useEffect(()=>{var L,V,$;const F=(L=r.tooltip)==null?void 0:L.mode;if(F==="ALWAYS")if(n){let M;l?M=(((V=i.current)==null?void 0:V.offsetWidth)??375)-(typeof(($=a.chatButtonStyle)==null?void 0:$.width)=="number"?a.chatButtonStyle.width:75):M=0,T(M),g(!0)}else g(!l);else F==="NEVER"?g(!1):F==="START"?h?g(!1):(m(!0),g(!0)):F==="CLOSE"&&g(!l)},[l]);const _={transform:`translateX(-${w}px)`,right:(((E=a.chatButtonStyle)==null?void 0:E.width)??75)+40,bottom:30,backgroundColor:(O=r.general)==null?void 0:O.secondaryColor,color:"#fff",...a.tooltipStyle},I={borderColor:`transparent transparent transparent ${_.backgroundColor}`};return b.jsx(b.Fragment,{children:!((P=r.general)!=null&&P.embedded)&&b.jsxs("div",{"data-testid":"chat-tooltip",style:_,className:`rcb-chat-tooltip ${y?"rcb-tooltip-show":"rcb-tooltip-hide"}`,onClick:()=>p(!0),children:[b.jsx("span",{children:(R=r.tooltip)==null?void 0:R.text}),b.jsx("span",{className:"rcb-chat-tooltip-tail",style:I})]})})},ea=({id:n,content:r,timeout:a})=>{var _,I;const{settings:i}=ae(),{styles:l}=he(),[p]=S.useState({toastPromptStyle:{...l.toastPromptStyle},toastPromptHoveredStyle:{...l.toastPromptHoveredStyle}}),{dismissToast:y}=un(),[g,h]=S.useState(!1),m={color:(_=i.general)==null?void 0:_.primaryColor,borderColor:(I=i.general)==null?void 0:I.primaryColor,...p.toastPromptHoveredStyle};S.useEffect(()=>{if(a){const E=setTimeout(()=>{y(n)},a);return()=>clearTimeout(E)}},[n,y,a]);const w=()=>{h(!0)},T=()=>{h(!1)};return typeof r=="string"?b.jsx("div",{onMouseEnter:w,onMouseLeave:T,style:g?m:p.toastPromptStyle,onMouseDown:async E=>{var O;(O=i.toast)!=null&&O.dismissOnClick&&(E.preventDefault(),await y(n))},className:"rcb-toast-prompt",children:r}):b.jsx(b.Fragment,{children:r})},ta=()=>{var i,l,p,y,g,h,m,w,T,_,I,E;const{styles:n}=he(),{toasts:r}=eo(),a={bottom:`calc(${typeof((i=n.footerStyle)==null?void 0:i.height)=="number"?`${(l=n.footerStyle)==null?void 0:l.height}px`:((p=n.footerStyle)==null?void 0:p.height)??"50px"} + ${typeof((y=n.chatInputContainerStyle)==null?void 0:y.height)=="number"?`${(g=n.chatInputContainerStyle)==null?void 0:g.height}px`:((h=n.chatInputContainerStyle)==null?void 0:h.height)??"70px"} + 20px)`,width:300,minWidth:`calc(${typeof((m=n.chatWindowStyle)==null?void 0:m.width)=="number"?`${(w=n.chatWindowStyle)==null?void 0:w.width}px`:((T=n.chatWindowStyle)==null?void 0:T.width)??"375px"} / 2)`,maxWidth:`calc(${typeof((_=n.chatWindowStyle)==null?void 0:_.width)=="number"?`${(I=n.chatWindowStyle)==null?void 0:I.width}px`:((E=n.chatWindowStyle)==null?void 0:E.width)??"375px"} - 50px)`,...n.toastPromptContainerStyle};return b.jsx("div",{className:"rcb-toast-prompt-container",style:a,children:r.map(O=>b.jsx(ea,{id:O.id,content:O.content,timeout:O.timeout},O.id))})},to=({file:n,fileType:r,fileUrl:a})=>{var y,g,h;const{settings:i}=ae(),{styles:l}=he(),p={backgroundColor:(y=i.general)==null?void 0:y.primaryColor,maxWidth:(g=i.userBubble)!=null&&g.showAvatar?"65%":"70%",...l.mediaDisplayContainerStyle};return b.jsx(b.Fragment,{children:a?b.jsxs(b.Fragment,{children:[r==="image"&&a&&b.jsx("div",{style:p,className:"rcb-media-display-image-container rcb-media-entry","data-testid":"media-display-image-container",children:b.jsx("img",{src:a,alt:"Image Display",className:"rcb-media-display-image"})}),r==="video"&&a&&b.jsx("div",{style:p,className:"rcb-media-display-video-container rcb-media-entry","data-testid":"media-display-video-container",children:b.jsxs("video",{controls:!0,className:"rcb-media-display-video",children:[b.jsx("source",{src:a,type:n.type}),"Your browser does not support the video tag."]})}),r==="audio"&&a&&b.jsxs("audio",{"data-testid":"media-display-audio-container",style:{maxWidth:(h=i.userBubble)!=null&&h.showAvatar?"65%":"70%"},controls:!0,className:"rcb-media-display-audio rcb-media-entry",children:[b.jsx("source",{src:a,type:n.type}),"Your browser does not support the audio tag."]})]}):b.jsx(b.Fragment,{})})},no=async n=>{if(!n)return{fileType:null,fileUrl:null};const r=n.type.split("/")[0];if(!["image","video","audio"].includes(r))return{fileType:null,fileUrl:null};try{const a=await new Promise((i,l)=>{const p=new FileReader;p.onload=()=>i(p.result),p.onerror=()=>l(new Error("File reading failed")),p.readAsDataURL(n)});return{fileType:r,fileUrl:a}}catch(a){return console.error(a),{fileType:null,fileUrl:null}}},na=()=>{var z,W,D,H,q,G;const{settings:n}=ae(),{styles:r}=he(),{injectMessage:a,simulateStreamMessage:i,streamMessage:l,removeMessage:p,endStreamMessage:y}=Nt(),{getCurrPath:g,getPrevPath:h,goToPath:m,blockAllowsAttachment:w}=rr(),{flowRef:T,inputRef:_}=Ee(),I=T.current,{showToast:E,dismissToast:O}=un(),{dispatchRcbEvent:P}=Re(),{toggleChatWindow:R}=je(),{setTextAreaValue:F}=bt(),{handleSubmitText:L}=St(),V={cursor:`url("${(z=n.general)==null?void 0:z.actionDisabledIcon}"), auto`,...r.fileAttachmentButtonStyle,...r.fileAttachmentButtonDisabledStyle},$={backgroundImage:`url(${(W=n.fileAttachment)==null?void 0:W.icon})`,fill:"#a6a6a6",...r.fileAttachmentIconStyle},M={backgroundImage:`url(${(D=n.fileAttachment)==null?void 0:D.icon})`,fill:"#a6a6a6",...r.fileAttachmentIconStyle,...r.fileAttachmentIconDisabledStyle},j=async K=>{var te,pe,ne,ee;const ce=K.target.files;if(!ce)return;const oe=Array.from(ce);if(K.target.value="",(te=n.event)!=null&&te.rcbUserUploadFile&&(await P(J.USER_UPLOAD_FILE,{files:oe})).defaultPrevented)return;const fe=g();if(!fe)return;const le=I[fe];if(!le)return;const ue=le.file;if(ue!=null){const de=[];for(let xe=0;xe<oe.length;xe++){if(de.push(oe[xe].name),!((pe=n.fileAttachment)!=null&&pe.showMediaDisplay))continue;const ye=await no(oe[xe]);!ye.fileType||!ye.fileUrl||await a(b.jsx(to,{file:oe[xe],fileType:ye.fileType,fileUrl:ye.fileUrl}),"USER")}await L("ðŸ“„ "+de.join(", "),(ne=n.fileAttachment)==null?void 0:ne.sendFileName),await ue({userInput:(ee=_.current)==null?void 0:ee.value,prevPath:h(),currPath:g(),goToPath:m,setTextAreaValue:F,injectMessage:a,simulateStreamMessage:i,streamMessage:l,removeMessage:p,endStreamMessage:y,toggleChatWindow:R,showToast:E,dismissToast:O,files:oe})}},Z=()=>{var ce,oe;const K=w?(ce=n.fileAttachment)==null?void 0:ce.icon:(oe=n.fileAttachment)==null?void 0:oe.iconDisabled;return!K||typeof K=="string"?b.jsx("span",{className:w?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",style:w?$:M}):K&&b.jsx("span",{className:w?"rcb-attach-icon-enabled":"rcb-attach-icon-disabled",children:b.jsx(K,{style:w?$:M})})};return b.jsxs("label",{"aria-label":((H=n.ariaLabel)==null?void 0:H.fileAttachmentButton)??"upload file",role:"button",className:w?"rcb-attach-button-enabled":"rcb-attach-button-disabled",style:w?{...r.fileAttachmentButtonStyle}:V,children:[b.jsx("input",{className:"rcb-attach-input",role:"file",type:"file",onChange:j,multiple:(q=n.fileAttachment)==null?void 0:q.multiple,accept:(G=n.fileAttachment)==null?void 0:G.accept,disabled:!w}),Z()]})},ra=()=>{var P,R,F,L,V,$;const{settings:n}=ae(),{styles:r}=he(),{syncedTextAreaDisabledRef:a}=Ie(),{inputRef:i}=Ee(),{textAreaDisabled:l,setTextAreaValue:p}=bt(),y=S.useRef(null),g=S.useRef(null),[h,m]=S.useState(!1),w={cursor:`url("${(P=n.general)==null?void 0:P.actionDisabledIcon}"), auto`,...r.emojiButtonStyle,...r.emojiButtonDisabledStyle},T={backgroundImage:`url(${(R=n.emoji)==null?void 0:R.icon})`,fill:"#a6a6a6",...r.emojiIconStyle},_={backgroundImage:`url(${(F=n.emoji)==null?void 0:F.icon})`,fill:"#a6a6a6",...r.emojiIconStyle,...r.emojiIconDisabledStyle};S.useEffect(()=>{const M=z=>{const W=z.composedPath();y.current&&!W.includes(y.current)&&g.current&&!W.includes(g.current)&&m(!1)},j=()=>{if(y.current&&g.current){const z=g.current.getBoundingClientRect(),W=y.current.offsetHeight,D=z.top-W-8;y.current.style.left=`${z.left}px`,y.current.style.top=`${D}px`}},Z=()=>{j()};return document.addEventListener("mousedown",M),window.addEventListener("resize",Z),()=>{document.removeEventListener("mousedown",M),window.removeEventListener("resize",Z)}},[]);const I=(M,j)=>{M.preventDefault(),i.current&&(p(i.current.value+j),setTimeout(()=>{const Z=i.current;if(Z){Z.focus();const z=Z.value.length;Z.setSelectionRange(z,z)}},50)),m(!1)},E=M=>{M.preventDefault(),a.current?m(!1):m(j=>!j)},O=()=>{var j,Z;const M=l?(j=n.emoji)==null?void 0:j.iconDisabled:(Z=n.emoji)==null?void 0:Z.icon;return!M||typeof M=="string"?b.jsx("span",{className:`${l?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,style:l?_:T}):M&&b.jsx("span",{className:`${l?"rcb-emoji-icon-disabled":"rcb-emoji-icon-enabled"}`,children:b.jsx(M,{style:l?_:T})})};return b.jsxs(b.Fragment,{children:[b.jsx("div",{"aria-label":((L=n.ariaLabel)==null?void 0:L.emojiButton)??"emoji picker",role:"button",ref:g,className:`${l?"rcb-emoji-button-disabled":"rcb-emoji-button-enabled"}`,style:l?w:{...r.emojiButtonStyle},onMouseDown:E,children:O()}),h&&b.jsx("div",{className:"rcb-emoji-button-popup",ref:y,children:($=(V=n.emoji)==null?void 0:V.list)==null?void 0:$.map((M,j)=>b.jsx("span",{className:"rcb-emoji",onMouseDown:Z=>I(Z,M),children:M},j))})]})},oa=()=>{var g,h,m;const{settings:n}=ae(),{styles:r}=he(),{audioToggledOn:a,toggleAudio:i}=Xr(),l={backgroundImage:`url(${(g=n.audio)==null?void 0:g.icon})`,fill:"#fcec3d",...r.audioIconStyle},p={backgroundImage:`url(${(h=n.audio)==null?void 0:h.iconDisabled})`,fill:"#e8eaed",...r.audioIconStyle,...r.audioIconDisabledStyle},y=()=>{var T,_;const w=a?(T=n.audio)==null?void 0:T.icon:(_=n.audio)==null?void 0:_.iconDisabled;return!w||typeof w=="string"?b.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",style:a?l:p}):w&&b.jsx("span",{className:"rcb-audio-icon","data-testid":"rcb-audio-icon",children:b.jsx(w,{style:a?l:p,"data-testid":"rcb-audio-icon-svg"})})};return b.jsx("div",{"aria-label":((m=n.ariaLabel)==null?void 0:m.audioButton)??"toggle audio",role:"button",onMouseDown:async w=>{w.preventDefault(),await i()},style:a?{...r.audioButtonStyle}:{...r.audioButtonStyle,...r.audioButtonDisabledStyle},children:y()})},sa=()=>{var p,y;const{settings:n}=ae(),{styles:r}=he(),{toggleChatWindow:a}=je(),i={backgroundImage:`url(${(p=n.header)==null?void 0:p.closeChatIcon})`,fill:"#e8eaed",stroke:"#e8eaed",...r.closeChatIconStyle},l=()=>{var h;const g=(h=n.header)==null?void 0:h.closeChatIcon;return!g||typeof g=="string"?b.jsx("span",{className:"rcb-close-chat-icon","data-testid":"rcb-close-chat-icon",style:i}):g&&b.jsx("span",{className:"rcb-close-chat-icon","data-testid":"rcb-close-chat-icon",children:b.jsx(g,{style:i})})};return b.jsx("div",{"aria-label":((y=n.ariaLabel)==null?void 0:y.closeChatButton)??"close chat",role:"button",onMouseDown:g=>{g.stopPropagation(),a(!1)},style:{...r.closeChatButtonStyle},children:l()})},aa=()=>{const{notificationsToggledOn:n,toggleNotifications:r,playNotificationSound:a}=Yn();return{notificationsToggledOn:n,toggleNotifications:r,playNotificationSound:a}},ia=()=>{var g,h,m;const{settings:n}=ae(),{styles:r}=he(),{notificationsToggledOn:a,toggleNotifications:i}=aa(),l={backgroundImage:`url(${(g=n.notification)==null?void 0:g.icon})`,fill:"#fcec3d",...r.notificationIconStyle},p={backgroundImage:`url(${(h=n.notification)==null?void 0:h.iconDisabled})`,fill:"#e8eaed",...r.notificationIconStyle,...r.notificationIconDisabledStyle},y=()=>{var T,_;const w=a?(T=n.notification)==null?void 0:T.icon:(_=n.notification)==null?void 0:_.iconDisabled;return!w||typeof w=="string"?b.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",style:a?l:p}):w&&b.jsx("span",{className:"rcb-notification-icon","data-testid":"rcb-notification-icon",children:b.jsx(w,{style:a?l:p,"data-testid":"rcb-notification-icon-svg"})})};return b.jsx("div",{"aria-label":((m=n.ariaLabel)==null?void 0:m.notificationButton)??"toggle notifications",role:"button",onMouseDown:async w=>{w.preventDefault(),await i()},style:a?{...r.notificationButtonStyle}:{...r.notificationButtonStyle,...r.notificationButtonDisabledStyle},children:y()})},la=()=>{var F,L,V;const{settings:n}=ae(),{styles:r}=he(),{injectMessage:a}=Nt(),{inputRef:i}=Ee(),{voiceToggledOn:l,toggleVoice:p}=nr(),{setInputLength:y,setTextAreaValue:g,textAreaDisabled:h}=bt(),{handleSubmitText:m}=St(),w=S.useRef([]),[T,_]=S.useState(!1);S.useEffect(()=>{var $;($=n.voice)!=null&&$.sendAsAudio?(P(),w.current=[]):m()},[T]),S.useEffect(()=>{l?Ws(n,p,O,g,y,w,i):er()},[l]);const I={backgroundImage:`url(${(F=n.voice)==null?void 0:F.icon})`,fill:"#9aa0a6",...r.voiceIconStyle},E={backgroundImage:`url(${(L=n.voice)==null?void 0:L.iconDisabled})`,fill:"#9aa0a6",...r.voiceIconStyle,...r.voiceIconDisabledStyle},O=()=>{_($=>!$)},P=async()=>{const $=new Blob(w.current,{type:"audio/wav"}),M=new File([$],"voice-input.wav",{type:"audio/wav"}),j=await no(M);!j.fileType||!j.fileUrl||await a(b.jsx(to,{file:M,fileType:j.fileType,fileUrl:j.fileUrl}),"USER")},R=()=>{var M,j;const $=l?(M=n.voice)==null?void 0:M.icon:(j=n.voice)==null?void 0:j.iconDisabled;return!$||typeof $=="string"?b.jsx("span",{className:`rcb-voice-icon${l&&!h?"-on":""}`,"data-testid":"rcb-voice-icon",style:l&&!h?I:E}):$&&b.jsx("span",{className:`rcb-voice-icon ${l&&!h?"on":""}`,children:b.jsx($,{style:l&&!h?I:E})})};return b.jsx("div",{"aria-label":((V=n.ariaLabel)==null?void 0:V.voiceButton)??"toggle voice",role:"button",onMouseDown:async $=>{$.preventDefault(),!h&&await p()},style:l&&!h?{...r.voiceButtonStyle}:{...r.voiceButtonStyle,...r.voiceButtonDisabledStyle},className:l&&!h?"rcb-voice-button-enabled":"rcb-voice-button-disabled",children:R()})},ca=()=>{var O,P,R,F,L,V,$,M;const{settings:n}=ae(),{styles:r}=he(),{textAreaDisabled:a}=Ie(),[i,l]=S.useState(!1),{handleSubmitText:p}=St(),y={backgroundColor:(O=n.general)==null?void 0:O.primaryColor,...r.sendButtonStyle},g={cursor:`url("${(P=n.general)==null?void 0:P.actionDisabledIcon}"), auto`,backgroundColor:(R=n.general)==null?void 0:R.primaryColor,...r.sendButtonStyle,...r.sendButtonDisabledStyle},h={backgroundColor:(F=n.general)==null?void 0:F.secondaryColor,...r.sendButtonStyle,...r.sendButtonHoveredStyle},m={backgroundImage:`url(${(L=n.chatInput)==null?void 0:L.sendButtonIcon})`,fill:"#fff",...r.sendIconStyle},w={backgroundImage:`url(${(V=n.chatInput)==null?void 0:V.sendButtonIcon})`,fill:"#fff",...r.sendIconStyle,...r.sendIconDisabledStyle},T={backgroundImage:`url(${($=n.chatInput)==null?void 0:$.sendButtonIcon})`,fill:"#fff",...r.sendIconStyle,...r.sendIconHoveredStyle},_=()=>{l(!0)},I=()=>{l(!1)},E=()=>{var Z;const j=(Z=n.chatInput)==null?void 0:Z.sendButtonIcon;return!j||typeof j=="string"?b.jsx("span",{className:"rcb-send-icon","data-testid":"rcb-send-icon",style:a?w:i?T:m}):j&&b.jsx("span",{className:"rcb-send-icon","data-testid":"rcb-send-icon",children:b.jsx(j,{style:a?w:i?T:m})})};return b.jsx("div",{"aria-label":((M=n.ariaLabel)==null?void 0:M.sendButton)??"send message",role:"button",onMouseEnter:_,onMouseLeave:I,onMouseDown:async j=>{j==null||j.preventDefault(),!a&&await p()},style:a?g:i?h:y,className:"rcb-send-button",children:E()})},ua=n=>Object.values(ke).includes(n),da=(n,r)=>{var h,m,w,T,_,I,E,O,P;const a={[ke.AUDIO_BUTTON]:(h=n.audio)==null?void 0:h.disabled,[ke.CLOSE_CHAT_BUTTON]:(m=n.general)==null?void 0:m.embedded,[ke.EMOJI_PICKER_BUTTON]:(w=n.emoji)==null?void 0:w.disabled,[ke.FILE_ATTACHMENT_BUTTON]:(T=n.fileAttachment)==null?void 0:T.disabled,[ke.NOTIFICATION_BUTTON]:(_=n.notification)==null?void 0:_.disabled,[ke.SEND_MESSAGE_BUTTON]:!1,[ke.VOICE_MESSAGE_BUTTON]:(I=n.voice)==null?void 0:I.disabled},i={},l=R=>R?R.map(F=>{if(typeof F=="string"){if(ua(F)&&!a[F]){if(i[F])return i[F];const L=r[F];if(typeof L=="function"){const V=L();return i[F]=V,V}return null}return null}return F}).filter(F=>F!==null):[],p=l((E=n.header)==null?void 0:E.buttons),y=l((O=n.chatInput)==null?void 0:O.buttons),g=l((P=n.footer)==null?void 0:P.buttons);return{header:p,chatInput:y,footer:g}},fa=()=>b.jsx(oa,{}),pa=()=>b.jsx(ia,{}),ha=()=>b.jsx(sa,{}),ma=()=>b.jsx(la,{}),ga=()=>b.jsx(ca,{}),ya=()=>b.jsx(na,{}),ba=()=>b.jsx(ra,{}),Sa=()=>{const{settings:n}=ae(),r=S.useMemo(()=>({[ke.CLOSE_CHAT_BUTTON]:()=>ha(),[ke.AUDIO_BUTTON]:()=>fa(),[ke.NOTIFICATION_BUTTON]:()=>pa(),[ke.EMOJI_PICKER_BUTTON]:()=>ba(),[ke.FILE_ATTACHMENT_BUTTON]:()=>ya(),[ke.SEND_MESSAGE_BUTTON]:()=>ga(),[ke.VOICE_MESSAGE_BUTTON]:()=>ma()}),[]),{header:a,chatInput:i,footer:l}=S.useMemo(()=>da(n,r),[n,r]),p=S.useMemo(()=>a,[a]),y=S.useMemo(()=>i,[i]),g=S.useMemo(()=>l,[l]);return{headerButtons:p,chatInputButtons:y,footerButtons:g}},ro=()=>{const{settings:n}=ae(),{styles:r}=he(),{setSyncedMessages:a,syncedMessagesRef:i}=Kn(),{isLoadingChatHistory:l,setIsLoadingChatHistory:p,hasChatHistoryLoaded:y,setHasChatHistoryLoaded:g}=Ie(),{chatBodyRef:h}=Ee(),{dispatchRcbEvent:m}=Re(),w=S.useCallback(async()=>{var I,E;const T=Jr();if(!T||(I=n.event)!=null&&I.rcbLoadChatHistory&&(await m(J.LOAD_CHAT_HISTORY,{})).defaultPrevented)return;p(!0);const _=((E=h.current)==null?void 0:E.scrollHeight)??0;Fs(n,r,T,a,i,h,_,p,g)},[n,r,m,i,h,p,g]);return{isLoadingChatHistory:l,setIsLoadingChatHistory:p,hasChatHistoryLoaded:y,showChatHistory:w}},xa=()=>{var h,m,w;const{settings:n}=ae(),{styles:r}=he(),{showChatHistory:a}=ro(),[i,l]=S.useState(!1),p={color:(h=n.general)==null?void 0:h.primaryColor,borderColor:(m=n.general)==null?void 0:m.primaryColor,...r.chatHistoryButtonStyle,...r.chatHistoryButtonHoveredStyle},y=()=>{l(!0)},g=()=>{l(!1)};return b.jsx("div",{className:"rcb-view-history-container",children:b.jsx("div",{onMouseEnter:y,onMouseLeave:g,style:i?p:{...r.chatHistoryButtonStyle},onMouseDown:T=>{T.preventDefault(),a()},className:"rcb-view-history-button",role:"button",tabIndex:0,children:b.jsx("p",{children:(w=n.chatHistory)==null?void 0:w.viewChatHistoryButtonText})})})},va=()=>{var y;const{settings:n}=ae(),{hasInteractedPage:r,setHasInteractedPage:a,hasFlowStarted:i,setHasFlowStarted:l}=Ie(),p=S.useCallback(()=>{var h;if(a(!0),!i&&((h=n.general)==null?void 0:h.flowStartTrigger)==="ON_PAGE_INTERACT"&&l(!0),!window.SpeechSynthesisUtterance){console.info("Speech Synthesis API is not supported in this environment.");return}const g=new window.SpeechSynthesisUtterance;g.text="",g.onend=()=>{window.removeEventListener("click",p),window.removeEventListener("keydown",p),window.removeEventListener("touchstart",p)},window.speechSynthesis.speak(g)},[i,(y=n.general)==null?void 0:y.flowStartTrigger]);return{hasInteractedPage:r,handleFirstInteraction:p}},wa=()=>{var j,Z,z,W;const n=dn(),{settings:r}=ae(),{replaceMessages:a}=Nt(),{isBotTyping:i,isChatWindowOpen:l,setUnreadCount:p,setSyncedIsChatWindowOpen:y,setSyncedTextAreaDisabled:g,setSyncedAudioToggledOn:h,setSyncedVoiceToggledOn:m,setSyncedIsScrolling:w,syncedIsScrollingRef:T,syncedIsChatWindowOpenRef:_}=Ie(),{chatBodyRef:I}=Ee(),{viewportHeight:E,setViewportHeight:O,setViewportWidth:P,scrollToBottom:R}=je(),{setUpNotifications:F}=Yn(),{handleFirstInteraction:L}=va(),{showChatHistory:V}=ro(),$=S.useRef(0),M=S.useRef(!1);S.useEffect(()=>(window.addEventListener("click",L),window.addEventListener("keydown",L),window.addEventListener("touchstart",L),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",L),window.removeEventListener("touchstart",L)}),[]),S.useEffect(()=>{const D=I.current;if(!D)return;const H=()=>{M.current||(M.current=!0,requestAnimationFrame(()=>{var oe,fe;if(!D)return;const{scrollTop:q,clientHeight:G,scrollHeight:K}=D,ce=q+G<K-(((oe=r.chatWindow)==null?void 0:oe.messagePromptOffset)??30);w(ce),T.current=ce,ce||(q+G>=K-1&&(D.scrollTop=K-G-1),(_.current||(fe=r.general)!=null&&fe.embedded)&&p(0)),M.current=!1}))};return D.addEventListener("wheel",H,{passive:!0}),D.addEventListener("touchmove",H,{passive:!0}),()=>{D.removeEventListener("wheel",H),D.removeEventListener("touchmove",H)}},[]),S.useEffect(()=>{var D,H,q;g((D=r.chatInput)==null?void 0:D.disabled),y((H=r.chatWindow)==null?void 0:H.defaultOpen),h((q=r.audio)==null?void 0:q.defaultToggledOn),setTimeout(()=>{var G;m((G=r.voice)==null?void 0:G.defaultToggledOn)},1)},[]),S.useEffect(()=>{var D;(D=r.notification)!=null&&D.disabled||F()},[(j=r.notification)==null?void 0:j.disabled]),S.useEffect(()=>{!T.current&&(I!=null&&I.current)&&R()},[i]),S.useEffect(()=>{var D,H;if((D=r.chatHistory)!=null&&D.disabled)js();else if(Ds(r),Jr().length>0){const G=et(b.jsx(xa,{}),"SYSTEM");a([G]),(H=r.chatHistory)!=null&&H.autoLoad&&V()}},[(Z=r.chatHistory)==null?void 0:Z.storageKey,(z=r.chatHistory)==null?void 0:z.maxEntries,(W=r.chatHistory)==null?void 0:W.disabled]),S.useEffect(()=>{var D;n||(D=r.general)!=null&&D.embedded||!navigator.virtualKeyboard||(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",H=>{if(!H.target)return;const{x:q,y:G,width:K,height:ce}=H.target.boundingRect;q==0&&G==0&&K==0&&ce==0?(setTimeout(()=>{var oe;O((oe=window.visualViewport)==null?void 0:oe.height)},101),setTimeout(()=>{var oe,fe;E!=((oe=window.visualViewport)==null?void 0:oe.height)&&O((fe=window.visualViewport)==null?void 0:fe.height)},1001)):setTimeout(()=>{var oe;O(((oe=window.visualViewport)==null?void 0:oe.height)-ce)},101)}))},[n]),S.useEffect(()=>{var K,ce,oe,fe;if(n)return;l&&(O((K=window.visualViewport)==null?void 0:K.height),P((ce=window.visualViewport)==null?void 0:ce.width));const D=()=>window.scrollTo({top:0,left:0,behavior:"auto"}),H=()=>$.current=window.scrollY,q=()=>{var le,ue;O((le=window.visualViewport)==null?void 0:le.height),P((ue=window.visualViewport)==null?void 0:ue.width)},G=()=>{var le;window.removeEventListener("scroll",D),window.removeEventListener("scroll",H),(le=window.visualViewport)==null||le.removeEventListener("resize",q)};return l?(G(),document.body.style.position="fixed",window.addEventListener("scroll",D),(oe=window.visualViewport)==null||oe.addEventListener("resize",q)):(document.body.style.position="static",G(),window.scrollTo({top:$.current,left:0,behavior:"auto"}),window.addEventListener("scroll",H),(fe=window.visualViewport)==null||fe.removeEventListener("resize",q)),G},[l,n])},or={DEFAULT_URL:"https://cdn.jsdelivr.net/gh/react-chatbotify/community-themes/themes",DEFAULT_EXPIRATION:"2592000",CACHE_KEY_PREFIX:"RCB_THEME_CACHE_DATA"},Ca=or.DEFAULT_URL,ka=or.DEFAULT_EXPIRATION,oo=or.CACHE_KEY_PREFIX,Ta=(n,r,a)=>{const i=localStorage.getItem(`${oo}_${n}_${r}`);if(!i)return null;try{const l=JSON.parse(i),p=new Date().getTime(),y=Math.floor(p/1e3);return l.cacheDate+a>=y?l:null}catch(l){return console.error(`Unable to fetch cache for ${n}`,l),null}},Ea=(n,r,a,i,l)=>{const p=new Date().getTime(),y=Math.floor(p/1e3),g={settings:a,inlineStyles:i,cssStylesText:l,cacheDate:y};localStorage.setItem(`${oo}_${n}_${r}`,JSON.stringify(g))},Ia=async(n,r)=>{const a=`${r}/${n}/meta.json`;try{const i=await fetch(a);return i.ok?(await i.json()).version:(console.error(`Failed to fetch meta.json from ${a}`),null)}catch(i){return console.error(`Failed to fetch meta.json from ${a}`,i),null}},so=async(n,r)=>{const{id:a,version:i,baseUrl:l=Ca,cacheDuration:p=ka}=r,y=i||await Ia(a,l);if(!y)return console.error(`Unable to find version for theme: ${a}`),{settings:{},inlineStyles:{},cssStylesText:""};const g=Ta(a,y,p);if(g){const F=ao(n,g.cssStylesText);return{settings:g.settings,inlineStyles:g.inlineStyles,cssStylesText:F}}const h=`${l}/${a}/${y}/styles.css`,m=`${l}/${a}/${y}/settings.json`,w=`${l}/${a}/${y}/styles.json`;let T="";const _=await fetch(h);_.ok?T=await _.text():console.info(`Could not fetch styles.css from ${h}`);const I=await fetch(m);let E={};I.ok?E=await I.json():console.info(`Could not fetch settings.json from ${m}`);const O=await fetch(w);let P={};O.ok?P=await O.json():console.info(`Could not fetch styles.json from ${w}`),Ea(a,y,E,P,T);const R=ao(n,T);return{settings:E,inlineStyles:P,cssStylesText:R}},ao=(n,r)=>r.split(new RegExp("(?<=})")).map(i=>{const l=i.trim();return l.startsWith("@import")||l.startsWith("@keyframes")||l.startsWith("@media")?l:l?`#${n} ${l}`:""}).join(`
`),Aa=()=>fn(Dr),Ba=()=>fn(Fr),_a=async(n,r,a,i)=>{var g,h;let l=Aa(),p=Ba(),y="";if(i!=null)if(Array.isArray(i))for(const m of i){const w=await so(n,m);l=We(w.settings,l),p=We(w.inlineStyles,p),y+=w.cssStylesText}else{const m=await so(n,i);l=We(m.settings,l),p=We(m.inlineStyles,p),y+=m.cssStylesText}return r!=null&&(l=We(r,l)),a!=null&&(p=We(a,p)),((g=l.chatInput)==null?void 0:g.botDelay)!=null&&((h=l.chatInput)==null?void 0:h.botDelay)<500&&(l.chatInput.botDelay=500),{settings:l,inlineStyles:p,cssStylesText:y}},We=(n,r)=>{const a=[{source:n,target:r}];for(;a.length;){const i=a.pop();if(i==null)continue;const{source:l,target:p}=i;for(const y of Object.keys(l)){const g=y;if(S.isValidElement(l[g]))p[g]=l[g];else if(typeof l[g]=="object"&&l[g]!==null&&!Array.isArray(l[g]))(typeof p[g]!="object"||p[g]===null)&&(p[g]={}),a.push({source:l[g],target:p[g]});else try{p[g]=l[g]}catch{}}}return r},fn=n=>{if(n===null||typeof n!="object")return n;const r=Array.isArray(n)?[]:{},a=[{source:n,target:r}],i=new WeakMap;for(i.set(n,r);a.length;){const l=a.pop();if(l==null)continue;const{source:p,target:y}=l;for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g)){const h=p[g];if(h&&typeof h=="object")if(i.has(h))y[g]=i.get(h);else{const m=Array.isArray(h)?[]:{};i.set(h,m),y[g]=m,a.push({source:h,target:m})}else y[g]=h}}return r},Ma=()=>{const{settings:n,setSettings:r}=ae(),a=S.useCallback(l=>{!l||Object.keys(l).length===0||r(fn(We(l,n)))},[n]),i=S.useCallback(l=>{r(l)},[]);return{settings:n,replaceSettings:i,updateSettings:a}},Pa=()=>{const{styles:n,setStyles:r}=he(),a=S.useCallback(l=>{!l||Object.keys(l).length===0||r(fn(We(l,n)))},[n]),i=S.useCallback(l=>{r(l)},[]);return{styles:n,replaceStyles:i,updateStyles:a}},Oa=n=>{const{updateSettings:r}=Ma(),{updateStyles:a}=Pa(),i=n==null?void 0:n.map(l=>l());S.useEffect(()=>{let l={},p={};i==null||i.forEach(y=>{y!=null&&y.settings&&Object.keys(y==null?void 0:y.settings).length!==0&&(l=We(y.settings,l)),y!=null&&y.styles&&Object.keys(y==null?void 0:y.styles).length!==0&&(p=We(y.styles,p))}),r(l),a(p)},[])},ja=({plugins:n})=>{var R,F,L,V,$;const r=dn(),{settings:a}=ae(),{styles:i}=he(),{hasFlowStarted:l,setHasFlowStarted:p}=Ie(),{inputRef:y}=Ee(),{viewportHeight:g,viewportWidth:h,isChatWindowOpen:m}=je(),{goToPath:w}=rr(),{headerButtons:T,chatInputButtons:_,footerButtons:I}=Sa();wa(),Oa(n),S.useEffect(()=>{var M;(l||((M=a.general)==null?void 0:M.flowStartTrigger)==="ON_LOAD")&&w("start")},[l,(R=a.general)==null?void 0:R.flowStartTrigger]);const E=S.useMemo(()=>{var j;const M="rcb-chatbot-global ";return(j=a.general)!=null&&j.embedded?M+"rcb-window-embedded":m?M+"rcb-window-open":M+"rcb-window-close"},[a,m]),O=()=>{var M,j;return!r&&!((M=a.general)!=null&&M.embedded)?{...i.chatWindowStyle,borderRadius:"0px",left:"0px",right:"auto",top:"0px",bottom:"auto",width:`${h}px`,height:`${g}px`,zIndex:1e4}:(j=a.general)!=null&&j.embedded?{...i.chatWindowStyle}:{...i.chatWindowStyle,zIndex:1e4}},P=()=>{var M,j;return r&&((M=a.device)==null?void 0:M.desktopEnabled)||!r&&((j=a.device)==null?void 0:j.mobileEnabled)};return b.jsx(b.Fragment,{children:P()&&b.jsxs("div",{onMouseDown:M=>{var j,Z;!l&&((j=a.general)==null?void 0:j.flowStartTrigger)==="ON_CHATBOT_INTERACT"&&p(!0),r?(Z=y.current)==null||Z.blur():M==null||M.preventDefault()},className:E,children:[b.jsx(Qs,{}),b.jsx(Xs,{}),m&&!r&&!((F=a.general)!=null&&F.embedded)&&b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
									html {
										overflow: hidden !important;
										touch-action: none !important;
										scroll-behavior: auto !important;
									}
								`}),b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",zIndex:9999}})]}),b.jsxs("div",{style:O(),className:"rcb-chat-window",children:[((L=a.general)==null?void 0:L.showHeader)&&b.jsx(rs,{buttons:T}),b.jsx(ps,{}),b.jsx(ta,{}),((V=a.general)==null?void 0:V.showInputRow)&&b.jsx(Js,{buttons:_}),(($=a.general)==null?void 0:$.showFooter)&&b.jsx(Ys,{buttons:I})]})]})})},io=S.createContext(void 0),lo=()=>S.useContext(io),Da=({children:n})=>{var w;const r=S.useRef(""),a=S.useRef({}),[i,l]=S.useState({}),[p,y]=S.useState({}),[g,h]=S.useState(!1);S.useEffect(()=>{h(!0)},[]);const m=async(T,_,I,E,O,P)=>{r.current=T,a.current=_;const R=await _a(T,I,E,O);P.current&&(P.current.textContent=R.cssStylesText),l(R.settings),y(R.inlineStyles)};return g?b.jsx("div",{style:{fontFamily:(w=i.general)==null?void 0:w.fontFamily},children:b.jsx(io.Provider,{value:{loadConfig:m},children:b.jsx(ts,{settings:i,setSettings:l,children:b.jsx(ns,{styles:p,setStyles:y,children:b.jsx(Ks,{children:b.jsx(os,{botIdRef:r,flowRef:a,children:b.jsx(is,{children:b.jsx(ss,{settings:i,children:b.jsx(cs,{children:n})})})})})})})})}):null},Na=({id:n,flow:r,settings:a,styles:i,themes:l,plugins:p,setConfigLoaded:y,styleRootRef:g})=>{const h=S.useMemo(()=>n,[]),m=lo(),{flowRef:w}=Ee();w&&w.current!==r&&(w.current=r);const T=async()=>{var _,I;(_=a.event)!=null&&_.rcbPreLoadChatBot&&(await Zn(J.PRE_LOAD_CHATBOT,{botId:h,currPath:null,prevPath:null},{flow:r,settings:a,styles:i,themes:l,plugins:p})).defaultPrevented||(m!=null&&m.loadConfig&&(await m.loadConfig(h,r,a,i,l,g),y(!0)),(I=a.event)!=null&&I.rcbPostLoadChatBot&&Zn(J.POST_LOAD_CHATBOT,{botId:h,currPath:null,prevPath:null},{flow:r,settings:a,styles:i,themes:l,plugins:p}))};return S.useEffect(()=>{T()},[l]),null},sr=["Quickstart","API Docs","Examples","Github","Discord"],Fa={start:{message:"Hello, I am Tan Jin ðŸ‘‹! Welcome to React ChatBotify, I'm excited that you are using our chatbot ðŸ˜Š!",transition:{duration:1e3},chatDisabled:!0,path:"show_options"},show_options:{message:"It looks like you have not set up a conversation flow yet. No worries! Here are a few helpful things you can check out to get started:",options:sr,path:"process_options"},prompt_again:{message:"Do you need any other help?",options:sr,path:"process_options"},unknown_input:{message:"Sorry, I do not understand your message ðŸ˜¢! If you require further assistance, you may click on the Github option and open an issue there or visit our discord.",options:sr,path:"process_options"},process_options:{transition:{duration:0},path:n=>{let r="";switch(n.userInput){case"Quickstart":r="https://react-chatbotify.com/docs/introduction/quickstart/";break;case"API Docs":r="https://react-chatbotify.com/docs/api/bot_options";break;case"Examples":r="https://react-chatbotify.com/docs/examples/basic_form";break;case"Github":r="https://github.com/react-chatbotify/react-chatbotify/";break;case"Discord":r="https://discord.gg/6R4DK4G5Zh";break;default:return"unknown_input"}return n.injectMessage("Sit tight! I'll send you right there!"),setTimeout(()=>{window.open(r)},1e3),"repeat"}},repeat:{transition:{duration:3e3},path:"prompt_again"}},Ra=({id:n,flow:r,settings:a,styles:i,themes:l,plugins:p})=>{const y=S.useMemo(()=>n||"rcb-"+on(),[]),g=!r||Object.keys(r).length===0?Fa:r,h=a||{},m=i||{},w=p||[],[T,_]=S.useState(!1),I=lo(),E=S.useRef(null),[O,P]=S.useState(l||[]);S.useEffect(()=>{l&&P(l)},[l]);const R=()=>b.jsxs(b.Fragment,{children:[b.jsx(Na,{styleRootRef:E,id:y,flow:g,settings:h,styles:m,themes:O,plugins:w,setConfigLoaded:_}),T&&b.jsx(ja,{plugins:p})]});return I==null?b.jsxs(Da,{children:[b.jsx("style",{ref:E}),b.jsx("div",{id:y,children:R()})]}):b.jsxs(b.Fragment,{children:[b.jsx("style",{ref:E}),b.jsx("div",{id:y,children:R()})]})};function La(){const[n,r]=S.useState(""),a={start:{message:"Hello! What is your name?",path:"show_name"},show_name:{message:i=>`Hey ${i.userInput}! Nice to meet you.`,function:i=>r(i.userInput),chatDisabled:!0,transition:{duration:1e3},path:"ask_age_group"},ask_age_group:{message:()=>`Hey ${n}!, Your account got verified, May i know your age group?`,options:["child","teen","adult"],chatDisabled:!0,path:()=>"start"},incorrect_answer:{message:"Your answer is incorrect, try again!",transition:{duration:0},path:i=>i.prevPath}};return b.jsx("div",{className:"App",children:b.jsx("header",{className:"App-header",children:b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"calc(20vh)"},children:b.jsx(Ra,{id:"chatbot-id",flow:a,settings:{audio:{disabled:!1},chatInput:{botDelay:1e3},userBubble:{showAvatar:!0},botBubble:{showAvatar:!0},voice:{disabled:!1},sensitiveInput:{asterisksCount:6}}})})})})}const co="my-react-bot-container";let Ft=document.getElementById(co);Ft||(Ft=document.createElement("div"),Ft.id=co,document.body.appendChild(Ft)),Oo.createRoot(Ft).render(b.jsx(La,{}))});
